var Or=Object.defineProperty;var vr=(t,e,n)=>e in t?Or(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var V=(t,e,n)=>(vr(t,typeof e!="symbol"?e+"":e,n),n);const g=Symbol("memory"),z=Symbol("slots"),Ve=Symbol("parent"),_t=Symbol("name"),dn=Symbol("tag"),bt=Symbol("items"),Yt=Symbol("props"),Me=Symbol("getter"),qt=Symbol("setter"),vt=Symbol("elementGetter"),At=Symbol("elementSetter"),Ae=Symbol("addressGetter"),En=Symbol("addressSetter"),ut=Symbol("targetGetter"),je=Symbol("targetSetter"),ht=Symbol("fixedLocation"),Pe=Symbol("propSetters"),In=Symbol("allKeys"),ze=Symbol("length"),Xt=Symbol("proxy"),Vt=Symbol("compat"),L=Symbol("size"),F=Symbol("align"),$e=Symbol("array"),Te=Symbol("pointer"),Wt=Symbol("const"),Ee=Symbol("constProto"),P=Symbol("copier"),gn=Symbol("resetter"),q=Symbol("normalizer"),B=Symbol("vivificator"),C=Symbol("pointerVisitor"),zt=Symbol("environment"),Bt=Symbol("attributes"),xn=Symbol("more");function tt(t){return function(){const e=this[g];this[g]=null,this[z]&&(this[z]={}),t.releaseFixedView(e)}}function Sn(t,e,n){if(t+e<=8){const s=2**e-1;if(n)return function(r,i,o){const a=i.getUint8(o)>>t&s;r.setUint8(0,a)};{const r=255^s<<t;return function(i,o,c){const a=o.getUint8(0),u=i.getUint8(c)&r|(a&s)<<t;i.setUint8(c,u)}}}else{const s=8-t,r=2**s-1;if(n){const o=2**(e%8)-1;return function(c,a,l){let u=l,f=0,h=a.getUint8(u++),y,b=h>>t&r,m=s,S=e;do S>m&&(h=a.getUint8(u++),b=b|h<<m),y=S>=8?b&255:b&o,c.setUint8(f++,y),b>>=8,S-=8;while(S>0)}}else{const o=2**((e-s)%8)-1,c=255^r<<t,a=255^o;return function(l,u,f){let h=0,y=f,b=l.getUint8(y),m,S,O=b&c,d=t,v=e+d;do v>d&&(m=u.getUint8(h++),O=O|m<<d,d+=8),v>=8?S=O&255:(b=l.getUint8(y),S=b&a|O&o),l.setUint8(y++,S),O>>=8,d-=8,v-=8;while(v>0)}}}}function W(t,e=!1){const n=Vn(t,e);return function(s){Y.call(this),Y.call(s);const r=s[g],i=this[g];n(i,r)}}function Vn(t,e=!1){if(!e){const n=Ar[t];if(n)return n}return t&7?t&3?t&1?jr:zr:Tr:Er}const Ar={1:Ir,2:xr,4:Vr,8:Mr,16:Pr,32:$r};function jr(t,e){for(let n=0,s=t.byteLength;n<s;n++)t.setInt8(n,e.getInt8(n))}function zr(t,e){for(let n=0,s=t.byteLength;n<s;n+=2)t.setInt16(n,e.getInt16(n,!0),!0)}function Tr(t,e){for(let n=0,s=t.byteLength;n<s;n+=4)t.setInt32(n,e.getInt32(n,!0),!0)}function Er(t,e){for(let n=0,s=t.byteLength;n<s;n+=8)t.setInt32(n,e.getInt32(n,!0),!0),t.setInt32(n+4,e.getInt32(n+4,!0),!0)}function Ir(t,e){t.setInt8(0,e.getInt8(0))}function xr(t,e){t.setInt16(0,e.getInt16(0,!0),!0)}function Vr(t,e){t.setInt32(0,e.getInt32(0,!0),!0)}function Mr(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0)}function Pr(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0)}function $r(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0),t.setInt32(16,e.getInt32(16,!0),!0),t.setInt32(20,e.getInt32(20,!0),!0),t.setInt32(24,e.getInt32(24,!0),!0),t.setInt32(28,e.getInt32(28,!0),!0)}function Ur(t,e){const n=Cr(e);return function(){Y.call(this);const s=this[g];n(s,t,e)}}function Cr(t){const e=Dr[t];return e||(t&7?t&3?t&1?Fr:kr:Rr:Nr)}const Dr={1:Lr,2:Br,4:_r,8:qr,16:Wr,32:Gr};function Fr(t,e,n){for(let s=e,r=e+n;s<r;s++)t.setInt8(s,0)}function kr(t,e,n){for(let s=e,r=e+n;s<r;s+=2)t.setInt16(s,0,!0)}function Rr(t,e,n){for(let s=e,r=e+n;s<r;s+=4)t.setInt32(s,0,!0)}function Nr(t,e,n){for(let s=e,r=e+n;s<r;s+=8)t.setInt32(s,0,!0),t.setInt32(s+4,0,!0)}function Lr(t,e){t.setInt8(e,0)}function Br(t,e){t.setInt16(e,0,!0)}function _r(t,e){t.setInt32(e,0,!0)}function qr(t,e){t.setInt32(e+0,0,!0),t.setInt32(e+4,0,!0)}function Wr(t,e){t.setInt32(e+0,0,!0),t.setInt32(e+4,0,!0),t.setInt32(e+8,0,!0),t.setInt32(e+12,0,!0)}function Gr(t,e){t.setInt32(e+0,0,!0),t.setInt32(e+4,0,!0),t.setInt32(e+8,0,!0),t.setInt32(e+12,0,!0),t.setInt32(e+16,0,!0),t.setInt32(e+20,0,!0),t.setInt32(e+24,0,!0),t.setInt32(e+28,0,!0)}function Y(){const t=this[g],e=t[g];if(!e||t.buffer.byteLength!==0)return!1;const{memory:n,address:s,len:r}=e,i=new DataView(n.buffer,s,r);return i[g]=e,this[g]=i,!0}const wn={},On={};function Tt(t,e="utf-8"){let n=wn[e];n||(n=wn[e]=new TextDecoder(e));let s;if(Array.isArray(t))if(t.length===1)s=t[0];else{let r=0;for(const c of t)r+=c.length;const{constructor:i}=t[0];s=new i(r);let o=0;for(const c of t)s.set(c,o),o+=c.length}else s=t;return n.decode(s)}function Kr(t,e="utf-8"){switch(e){case"utf-16":{const{length:n}=t,s=new Uint16Array(n);for(let r=0;r<n;r++)s[r]=t.charCodeAt(r);return s}default:{let n=On[e];return n||(n=On[e]=new TextEncoder),n.encode(t)}}}function Jr(t){const e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=String.fromCharCode.apply(null,e);return btoa(n)}function Hr(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<n.byteLength;s++)n[s]=e.charCodeAt(s);return new DataView(n.buffer)}function X(){const t=new Map,e={error:"throw"},n=function(s){const r=s==null?void 0:s[q];if(r){let i=t.get(s);return i===void 0&&(i=r.call(s,n,e),t.set(s,i)),i}else return s};return n(this)}const Yr=BigInt(Number.MAX_SAFE_INTEGER),Xr=BigInt(Number.MIN_SAFE_INTEGER);function Z(){const t=new Map,e={error:"return"},n=function(s){const r=s==null?void 0:s[q];if(r){if(s instanceof Error)return{error:s.message};let i=t.get(s);return i===void 0&&(i=r.call(s,n,e),t.set(s,i)),i}else return typeof s=="bigint"&&Xr<=s&&s<=Yr?Number(s):s};return n(this)}function Mn(t,e){const n=Ue(()=>this.$,e);return t(n)}function Ue(t,e={}){const{error:n="throw"}=e;try{return t()}catch(s){if(n==="return")return s;throw s}}function ct(t,e={}){return Zt({get(){return Y.call(this),this[g]},set(n){Ao(n),Mt.call(this,n,t,!0,e)}})}function at(t,e={}){return Zt({get(){return Jr(this.dataView)},set(n){typeof n!="string"&&te("string",n);const s=Hr(n);Mt.call(this,s,t,!1,e)}})}function Pn(t,e={}){const{sentinel:n,instance:{members:s}}=t,{byteSize:r}=s[0];return Zt({get(){const i=this.dataView,o=r===1?Int8Array:Int16Array,c=new o(i.buffer,i.byteOffset,this.length),a=Tt(c,`utf-${r*8}`);return(n==null?void 0:n.value)===void 0?a:a.slice(0,-1)},set(i){typeof i!="string"&&te("a string",i),(n==null?void 0:n.value)!==void 0&&i.charCodeAt(i.length-1)!==n.value&&(i=i+String.fromCharCode(n.value));const o=Kr(i,`utf-${r*8}`),c=new DataView(o.buffer);Mt.call(this,c,t,!1,e)}})}function gt(t,e={}){const{typedArray:n}=t;return Zt({get(){const s=this.dataView,r=s.byteLength/n.BYTES_PER_ELEMENT;return new n(s.buffer,s.byteOffset,r)},set(s){zo(s,n)||te(n.name,s);const r=new DataView(s.buffer,s.byteOffset,s.byteLength);Mt.call(this,r,t,!0,e)}})}function Zt({get:t,set:e}){return t.special=e.special=!0,{get:t,set:e}}function Zr(t,e){const{byteSize:n,align:s,instance:{members:[r]},isConst:i}=t,{runtimeSafety:o=!0}=e,{structure:c}=r,{sentinel:a}=c,l=c.type===x.Slice,u=c.type===x.Pointer,f=l&&!a,h=f?n/2:n,{get:y,set:b}=k({type:j.Uint,bitOffset:0,bitSize:h*8,byteSize:h,structure:{byteSize:h}},e),{get:m,set:S}=f?k({type:j.Uint,bitOffset:h*8,bitSize:h*8,byteSize:h,structure:{name:"usize",byteSize:h}},e):{},O=function(){const A=this[ht];if(A){const M=this[Ae]();if(M.address!==A.address||M.length!==A.length){const{constructor:H}=c,Se=e.findMemory(M.address,M.length*H[L]),wr=H.call(zt,Se,{writable:!i});this[z][0]=wr,this[ht]=M}}},d=function(){return O.call(this),this[z][0]??we()},v=function(A){if(e.inFixedMemory(this))if(e.inFixedMemory(A)){const M={address:e.getViewAddress(A[g]),length:f?A.length:1};Rt.call(this,M),this[ht]=M}else mo();this[z][0]=A},E=Ne(c)?function(){return d.call(this)[Me]()}:d,G=function(A){return O.call(this),(this[z][0]??we())[qt](A)},w=function(A,M){const H=c.constructor;if(this===zt||this===Ve||A instanceof J)return!1;if(vn(A,H))return new J(H(A["*"],{writable:!i}),M);if(l)return new J(H(A),M);lo()},D=function(){const A=u?{}:ni,M=new Proxy(this,A);return Object.defineProperty(this,Xt,{value:M}),M},I=function(A){const M=c.constructor;if(vn(A,M)&&(!i&&A.constructor.const&&uo(t,A),A=A[z][0]),A instanceof M)Y.call(A),i&&!A[Wt]?A=M(A,{writable:!1}):!i&&A[Wt]&&go(t);else if(To(A,M)){const H=ee(c,A,e);A=M(H,{writable:!i})}else if(A!==void 0&&!A[g]){const H=e.inFixedMemory(this),Se=new M(A,{writable:!i,fixed:H});o&&c.typedArray&&Eo(A==null?void 0:A.buffer)&&So(c,A),A=Se}else A!==void 0&&yo(t,A);this[je](A)},J=t.constructor=nt(t,{initializer:I,alternateCaster:w,finalizer:D},e),Rt=function({address:A,length:M}){b.call(this,A),S==null||S.call(this,M)},Nt=function(){const A=y.call(this),M=m?m.call(this):a?A?e.findSentinel(A,a.bytes)+1:0:1;return{address:A,length:M}},gr={"*":{get:E,set:G},$:{get:Ce,set:I},valueOf:{value:X},toJSON:{value:Z},delete:{value:tt(e)},[ut]:{value:d},[je]:{value:v},[Ae]:{value:Nt},[En]:{value:Rt},[C]:{value:ei},[P]:{value:W(n)},[B]:{value:we},[q]:{value:Qr},[ht]:{value:void 0,writable:!0}},Sr={child:{get:()=>c.constructor},const:{value:i},[F]:{value:s},[L]:{value:n}};return et(J,gr,Sr)}function Qr(t){let e;try{e=this["*"]}catch{e=Symbol.for("inaccessible")}return t(e)}function Ce(){return this[Xt]}function St({source:t}){const e=t[z][0];e&&this[je](e)}function ti({isActive:t}){this[z][0]&&!t(this)&&(this[z][0]=void 0)}function ei(t,e={}){const{source:n,isActive:s=Q,isMutable:r=Q}=e;t.call(this,{source:n,isActive:s,isMutable:r})}function vn(t,e){var n;return((n=t==null?void 0:t.constructor)==null?void 0:n.child)===e&&t["*"]}const ni={get(t,e){return e===Te?t:e in t?t[e]:t[ut]()[e]},set(t,e,n){if(e in t)t[e]=n;else{const s=t[ut]();s[e]=n}return!0},deleteProperty(t,e){if(e in t)delete t[e];else{const n=t[ut]();delete n[e]}return!0},has(t,e){if(e in t)return!0;{const n=t[ut]();return e in n}}};function Q(){return!0}function si(t,e){const{byteSize:n,align:s,instance:{members:r},hasPointer:i}=t,o={};for(const y of r){const{get:b,set:m}=k(y,e);o[y.name]={get:b,set:m,configurable:!0,enumerable:!0},y.isRequired&&m&&(m.required=!0)}const c=!!r.find(y=>y.type===j.Object),a=lt(t),l=function(y){y instanceof u?(this[P](y),i&&this[C](St,{vivificate:!0,source:y})):y&&typeof y=="object"?a.call(this,y):y!==void 0&&yt(t,"object",y)},u=t.constructor=nt(t,{initializer:l},e),f={$:{get:Gn,set:l},dataView:ct(t),base64:at(t),valueOf:{value:X},toJSON:{value:Z},delete:{value:tt(e)},...o,[Symbol.iterator]:{value:Cn},[P]:{value:W(n)},[B]:c&&{value:De(t)},[C]:i&&{value:Fe(t,Q)},[q]:{value:$n},[Yt]:{value:r.map(y=>y.name)}},h={[F]:{value:s},[L]:{value:n}};return et(u,f,h)}function $n(t,e){const n={};for(const[s,r]of Un.call(this,e))n[s]=t(r);return n}function Un(t){return{[Symbol.iterator]:ri.bind(this,t),length:this[Yt].length}}function Cn(t){return Un.call(this,t)[Symbol.iterator]()}function ri(t){const e=this,n=this[Yt];let s=0;return{next(){let r,i;if(s<n.length){const o=n[s++];r=[o,Ue(()=>e[o],t)],i=!1}else i=!0;return{value:r,done:i}}}}function De(t){const{instance:{members:e}}=t,n={};for(const s of e.filter(r=>r.type===j.Object))n[s.slot]=s;return function(r,i=!0){const o=n[r],{bitOffset:c,byteSize:a,structure:{constructor:l}}=o,u=this[g],h=u.byteOffset+(c>>3);let y=a;y===void 0&&(c&7&&po(o),y=o.bitSize>>3);const b=new DataView(u.buffer,h,y);return this[z][r]=l.call(Ve,b,{writable:i})}}function Fe(t,e={}){const{isChildActive:n=Q,isChildMutable:s=Q}=e,{instance:{members:r}}=t,i=r.filter(o=>o.structure.hasPointer);return function(c,a={}){var b;const{source:l,vivificate:u=!1,isActive:f=Q,isMutable:h=Q}=a,y={...a,isActive:m=>f(this)&&n.call(this,m),isMutable:m=>h(this)&&s.call(this,m)};for(const{slot:m}of i){if(l){const O=(b=l[z])==null?void 0:b[m];if(!O)continue;y.source=O}const S=this[z][m]??(u?this[B](m):null);S&&S[C](c,y)}}}function ii(t,e){const{byteSize:n,align:s,instance:{members:r},hasPointer:i}=t,o=!!r.find(y=>y.type===j.Object),c=t.constructor=function(y){const b=e.allocateMemory(n,s);this[g]=b,o&&(this[z]={}),u.call(this,y)},a=r.slice(0,-1).map(y=>y.name),l=a.length,u=function(y){y.length!==l&&co(t,y.length);for(const[b,m]of a.entries())try{this[m]=y[b]}catch(S){ao(t,b,S)}},f={};for(const y of r)f[y.name]=k(y,e);const h=function(y){return y===this.retval};return R(c.prototype,{...f,[P]:{value:W(n)},[B]:o&&{value:De(t)},[C]:i&&{value:Fe(t,{isChildMutable:h})}}),R(c,{[F]:{value:s},[L]:{value:n}}),c}function oi(t,e){const{length:n,byteSize:s,align:r,instance:{members:[i]},hasPointer:o}=t,{get:c,set:a}=k(i,e),l=Fn(i),u=lt(t),f=function(d){if(d instanceof y)this[P](d),o&&this[C](St,{vivificate:!0,source:d});else if(typeof d=="string"&&l&&(d={string:d}),d!=null&&d[Symbol.iterator]){d=Bn(d),d.length!==n&&Qt(t,this,d);let v=0;for(const E of d)a.call(this,v++,E)}else d&&typeof d=="object"?u.call(this,d)===0&&ft(t,d):d!==void 0&&ft(t,d)},h=Dn,y=t.constructor=nt(t,{initializer:f,finalizer:h},e),b=t.typedArray=wt(i),m=i.type===j.Object,S={$:{get:Ce,set:f},length:{value:n},dataView:ct(t),base64:at(t),string:l&&Pn(t),typedArray:b&&gt(t),get:{value:c},set:{value:a},entries:{value:ke},valueOf:{value:X},toJSON:{value:Z},delete:{value:tt(e)},[Symbol.iterator]:{value:Rn},[P]:{value:W(s)},[B]:m&&{value:Nn(t)},[C]:o&&{value:Ln()},[q]:{value:kn}},O={child:{get:()=>i.structure.constructor},[Vt]:{value:ne(t)},[F]:{value:r},[L]:{value:s}};return et(y,S,O)}function Dn(){const t=new Proxy(this,ai);return Object.defineProperty(this,Xt,{value:t}),t}function Fn(t){return t.type===j.Uint&&[8,16].includes(t.bitSize)}function kn(t,e){const n=[];for(const[s,r]of ke.call(this,e))n.push(t(r));return n}function Rn(){const t=this[$e]??this,e=this.length;let n=0;return{next(){let s,r;if(n<e){const i=n++;s=t.get(i),r=!1}else r=!0;return{value:s,done:r}}}}function ci(t){const e=this[$e]??this,n=this.length;let s=0;return{next(){let r,i;if(s<n){const o=s++;r=[o,Ue(()=>e.get(o),t)],i=!1}else i=!0;return{value:r,done:i}}}}function ke(t){return{[Symbol.iterator]:ci.bind(this,t),length:this.length}}function Nn(t){const{instance:{members:[e]}}=t,{byteSize:n,structure:s}=e;return function(i,o=!0){const{constructor:c}=s,a=this[g],u=a.byteOffset+n*i,f=new DataView(a.buffer,u,n);return this[z][i]=c.call(Ve,f,{writable:o})}}function Ln(t){return function(n,s={}){const{source:r,vivificate:i=!1,isActive:o=Q,isMutable:c=Q}=s,a={...s,isActive:()=>o(this),isMutable:()=>c(this)};for(let l=0,u=this.length;l<u;l++){r&&(a.source=r==null?void 0:r[z][l]);const f=this[z][l]??(i?this[B](l):null);f&&f[C](n,a)}}}function Bn(t){var r;if(typeof t.length=="number")return t;const e=t[Symbol.iterator](),n=e.next(),s=(r=n.value)==null?void 0:r.length;if(typeof s=="number"&&Object.keys(n.value).join()==="length")return Object.assign(function*(){let i;for(;!(i=e.next()).done;)yield i.value}(),{length:s});{const i=[];let o=n;for(;!o.done;)i.push(o.value),o=e.next();return i}}const ai={get(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return t.get(n);switch(e){case"get":return t[vt]||(t[vt]=t.get.bind(t)),t[vt];case"set":return t[At]||(t[At]=t.set.bind(t)),t[At];case $e:return t;default:return t[e]}},set(t,e,n){const s=typeof e=="symbol"?0:e|0;if(s!==0||s==e)t.set(s,n);else switch(e){case"get":t[vt]=n;break;case"set":t[At]=n;break;default:t[e]=n}return!0},deleteProperty(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return!1;switch(e){case"get":delete t[vt];break;case"set":delete t[At];break;default:delete t[e]}return!0},has(t,e){const n=typeof e=="symbol"?0:e|0;return n!==0||n==e?n>=0&&n<t.length:t[e]},ownKeys(t){const e=[];for(let n=0,s=t.length;n<s;n++)e.push(`${n}`);return e.push("length",Xt),e},getOwnPropertyDescriptor(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e){if(n>=0&&n<t.length)return{value:t.get(n),enumerable:!0,writable:!0,configurable:!0}}else return Object.getOwnPropertyDescriptor(t,e)}};function li(t,e){const{byteSize:n,align:s,instance:{members:[r]}}=t,{get:i,set:o}=k(r,e),{get:c,set:a}=k({...r,type:j.EnumerationItem,structure:t},e),l=["string","number","tagged union"],u=lt(t),f=function(d){d&&typeof d=="object"?u.call(this,d)===0&&yt(t,l,d):d!==void 0&&a.call(this,d)},h=function(d){if(typeof d=="string"||typeof d=="number"||typeof d=="bigint"){const v=y[bt];let E=v[d];return E||y[xn]&&typeof d!="string"&&(E=v[d]=new y(void 0),o.call(E,d),R(E,{[_t]:{value:`${d}`}})),E}else{if((d==null?void 0:d[dn])instanceof y)return d[dn];if(!ee(t,d,e))yt(t,l,d);else return!1}},y=t.constructor=nt(t,{initializer:f,alternateCaster:h},e),b=t.typedArray=wt(r),m=function(d){return d==="string"?this.$[_t]:i.call(this)},S={$:{get:c,set:a},dataView:ct(t),base64:at(t),typedArray:b&&gt(t),valueOf:{value:X},toJSON:{value:Z},delete:{value:tt(e)},[Symbol.toPrimitive]:{value:m},[P]:{value:W(n)},[q]:{value:ui}},O={[F]:{value:s},[L]:{value:n},[bt]:{value:{}}};return et(y,S,O)}function ui(t){return t(this.$[_t])}function fi(t,e){const{byteSize:n,align:s,instance:{members:r},hasPointer:i}=t,{get:o,set:c}=k(r[0],e),{get:a,set:l}=k(r[1],e),u=function(){const I=a.call(this,!0);if(I)throw I;return o.call(this)},f=r[0].type===j.Void,y=r[1].structure.name==="anyerror"?Re():r[1].structure.constructor,b=function(){return!a.call(this,!0)},m=function(){var I;this[gn](),(I=this[C])==null||I.call(this,ti)},S=!!r.find(I=>I.type===j.Object),O=lt(t),d=function(I){if(I instanceof v)this[P](I),i&&b.call(this)&&this[C](St,{vivificate:!0,source:I});else if(I instanceof y)l.call(this,I),m.call(this);else if(I!==void 0||f)try{c.call(this,I),l.call(this,0,!0)}catch(J){if(I instanceof Error)Qn(t);else if(I&&typeof I=="object")try{if(O.call(this,I)===0)throw J}catch(Rt){const{error:Nt}=I;if(typeof Nt=="string")l.call(this,Nt),m.call(this);else throw Rt}else throw J}},v=t.constructor=nt(t,{initializer:d},e),{bitOffset:E,byteSize:G}=r[0],w={$:{get:u,set:d},dataView:ct(t),base64:at(t),valueOf:{value:X},toJSON:{value:Z},delete:{value:tt(e)},[P]:{value:W(n)},[gn]:{value:Ur(E/8,G)},[B]:S&&{value:De(t)},[C]:i&&{value:Fe(t,{isChildActive:b})},[q]:{value:Mn}},D={[F]:{value:s},[L]:{value:n}};return et(v,w,D)}function yi(t,e){const{byteSize:n,align:s,instance:{members:[r]}}=t,{get:i,set:o}=k(r,e),c=lt(t),a=function(y){if(y instanceof l)this[P](y);else if(y&&typeof y=="object"){if(c.call(this,y)===0){const b=qn(r);yt(t,b,y)}}else y!==void 0&&o.call(this,y)},l=t.constructor=nt(t,{initializer:a},e),u=t.typedArray=wt(r),f={$:{get:i,set:o},dataView:ct(t),base64:at(t),typedArray:u&&gt(t),valueOf:{value:X},toJSON:{value:Z},delete:{value:tt(e)},[Symbol.toPrimitive]:{value:i},[P]:{value:W(n)},[q]:{value:Mn}},h={[Vt]:{value:ne(t)},[F]:{value:s},[L]:{value:n}};return et(l,f,h)}function mi(t){const{type:e,bitSize:n}=t,s=e===j.Int;let r=s?n-1:n;if(n<=32){const i=2**r-1;return{min:s?-(2**r):0,max:i}}else{r=BigInt(r);const i=2n**r-1n;return{min:s?-(2n**r):0n,max:i}}}function _n({type:t,bitSize:e}){if(t===j.Int||t===j.Uint)return e<=32?Number:BigInt;if(t===j.Float)return Number;if(t===j.Bool)return Boolean}function qn(t){const e=_n(t);if(e)return typeof e(0)}function hi(t,e){const{align:n,instance:{members:[s]},hasPointer:r}=t,{get:i,set:o}=k(s,e),{byteSize:c,structure:a}=s,l=pi(t,e);l&&(t.sentinel=l);const u=Fn(s),f=function(w,D,I=!1){w||(w=e.allocateMemory(D*c,n,I)),this[g]=w,this[ze]=D},h=function(w,D){D!==this[ze]&&Qt(t,this,w)},y=lt(t),b=function(w,D=!1){if(w instanceof S)this[g]?h.call(this,w,w.length):f.call(this,null,w.length,D),this[P](w),r&&this[C](St,{vivificate:!0,source:w});else if(typeof w=="string"&&u)b.call(this,{string:w},D);else if(w!=null&&w[Symbol.iterator]){w=Bn(w),this[g]?h.call(this,w,w.length):f.call(this,null,w.length,D);let I=0;for(const J of w)l==null||l.validateValue(J,I,w.length),o.call(this,I++,J)}else typeof w=="number"?!this[g]&&w>=0&&isFinite(w)?f.call(this,null,w):ft(t,w,!this[g]):w&&typeof w=="object"?y.call(this,w)===0&&ft(t,w):w!==void 0&&ft(t,w)},m=Dn,S=t.constructor=nt(t,{initializer:b,shapeDefiner:f,finalizer:m},e),O=t.typedArray=wt(s),d=s.type===j.Object,v={shapeDefiner:f},E={$:{get:Ce,set:b},length:{get:bi},dataView:ct(t,v),base64:at(t,v),string:u&&Pn(t,v),typedArray:O&&gt(t,v),get:{value:i},set:{value:o},entries:{value:ke},valueOf:{value:X},toJSON:{value:Z},delete:{value:tt(e)},[Symbol.iterator]:{value:Rn},[P]:{value:W(c,!0)},[B]:d&&{value:Nn(t)},[C]:r&&{value:Ln()},[q]:{value:kn}},G={child:{get:()=>a.constructor},[Vt]:{value:ne(t)},[F]:{value:n},[L]:{value:c}};return et(S,E,G)}function bi(){return this[ze]}function pi(t,e){const{runtimeSafety:n=!0}=e,{byteSize:s,instance:{members:[r,i],template:o}}=t;if(!i)return;const{get:c}=k(i,e),a=c.call(o,0),{get:l}=k(r,e),u=n?function(y,b,m){y===a&&b!==m-1?An(t,y,b,m):y!==a&&b===m-1&&Lt(t,a,b)}:function(y,b,m){y!==a&&b===m-1&&Lt(t,a,m)},f=n?function(y,b){for(let m=0;m<b;m++){const S=l.call(y,m);S===a&&m!==b-1?An(t,a,m,b):S!==a&&m===b-1&&Lt(t,a,b)}}:function(y,b){if(b*s===y[g].byteLength){const m=b-1;l.call(y,m)!==a&&Lt(t,a,b)}},h=o[g];return{value:a,bytes:h,validateValue:u,validateData:f}}function di(t,e){const{length:n,byteSize:s,align:r,instance:{members:[i]}}=t,{bitSize:o,structure:c}=i,a={};for(let m=0,S=0;m<n;m++,S+=o){const{get:O,set:d}=k({...i,bitOffset:S},e);a[m]={get:O,set:d,configurable:!0}}const l=lt(t),u=function(m){if(m instanceof f)this[P](m);else if(m!=null&&m[Symbol.iterator]){let S=m.length;typeof S!="number"&&(m=[...m],S=m.length),S!==n&&Qt(t,this,m);let O=0;for(const d of m)this[Pe][O++].call(this,d)}else m&&typeof m=="object"?l.call(this,m)===0&&ft(t,m):m!==void 0&&ft(t,m)},f=t.constructor=nt(t,{initializer:u},e),h=t.typedArray=wt(i),y={...a,$:{get:Gn,set:u},length:{value:n},dataView:ct(t),base64:at(t),typedArray:h&&gt(t),valueOf:{value:X},toJSON:{value:Z},entries:{value:Wn},delete:{value:tt(t)},[Symbol.iterator]:{value:Si},[P]:{value:W(s)},[q]:{value:gi}},b={child:{get:()=>c.constructor},[Vt]:{value:ne(t)},[F]:{value:r},[L]:{value:s}};return et(f,y,b)}function gi(t,e){const n=[];for(const[s,r]of Wn.call(this,e))n.push(t(r));return n}function Si(){const t=this,e=this.length;let n=0;return{next(){let s,r;if(n<e){const i=n++;s=t[i],r=!1}else r=!0;return{value:s,done:r}}}}function wi(){const t=this,e=this.length;let n=0;return{next(){let s,r;if(n<e){const i=n++;s=[i,t[i]],r=!1}else r=!0;return{value:s,done:r}}}}function Wn(){return{[Symbol.iterator]:wi.bind(this),length:this.length}}const x={Primitive:0,Array:1,Struct:2,ExternStruct:3,PackedStruct:4,ArgStruct:5,ExternUnion:6,BareUnion:7,TaggedUnion:8,ErrorUnion:9,ErrorSet:10,Enumeration:11,Optional:12,Pointer:13,Slice:14,Vector:15,Opaque:16,Function:17},K=Array(Object.values(x).length);function Oi(){K[x.Primitive]=yi}function vi(){K[x.Array]=oi}function Ai(){K[x.Struct]=si}function ji(){K[x.ArgStruct]=ii}function zi(){K[x.ErrorUnion]=fi}function Ti(){K[x.ErrorSet]=Ui}function Ei(){K[x.Enumeration]=li}function Ii(){K[x.Pointer]=Zr}function xi(){K[x.Slice]=hi}function Vi(){K[x.Vector]=di}function Mi(t){return K[t]}function R(t,e){for(const[n,s]of Object.entries(e))if(s){const{set:r,get:i,value:o,enumerable:c,configurable:a=!0,writable:l=!0}=s;Object.defineProperty(t,n,i?{get:i,set:r,configurable:a,enumerable:c}:{value:o,configurable:a,enumerable:c,writable:l})}for(const n of Object.getOwnPropertySymbols(e)){const s=e[n];s&&Object.defineProperty(t,n,s)}}function et(t,e,n){var u;const s={};Object.setPrototypeOf(s,t.prototype);const r={},i={};for(const[f,h]of Object.entries(e))h!=null&&h.set?(r[f]={...h,set:Oe},f!=="$"&&(i[f]=h.set)):f==="set"&&(r[f]={value:Oe,configurable:!0,writable:!0});const o=(u=e[B])==null?void 0:u.value,c={value:function(f){return o.call(this,f,!1)}},{get:a,set:l}=e.$;return R(t.prototype,{[Wt]:{value:!1},[In]:{value:Object.keys(i)},[qt]:{value:l},[Me]:{value:a},[Pe]:{value:i},...e}),R(t,{[Ee]:{value:s},...n}),R(s,{constructor:{value:t,configurable:!0},[Wt]:{value:!0},[qt]:{value:Oe},[B]:o&&c,...r}),t}function nt(t,e,n){const{byteSize:s,align:r,instance:{members:i,template:o},hasPointer:c}=t,{modifier:a,initializer:l,finalizer:u,alternateCaster:f,shapeDefiner:h}=e,y=Pi(i);let b;if(o!=null&&o[z]){const O=i.filter(d=>Di(d.type));O.length>0&&(b=O.map(d=>d.slot))}const m=new $i,S=function(O,d={}){const{writable:v=!0,fixed:E=!1}=d,G=this instanceof S;let w,D;if(G)arguments.length===0&&eo(t),w=this,y&&(w[z]={}),h?(l.call(w,O,E),D=w[g]):w[g]=D=n.allocateMemory(s,r,E);else{if(f&&(w=f.call(this,O,d),w!==!1)||(D=jo(t,O,n),w=m.find(D,v)))return w;w=Object.create(v?S.prototype:S[Ee]),h?Mt.call(w,D,t,!1,{shapeDefiner:h}):w[g]=D,y&&(w[z]={},c&&O instanceof S&&w[C](St,{vivificate:!0,source:O}))}if(b)for(const I of b)w[z][I]=o[z][I];return a&&a.call(w),G&&(h||l.call(w,O),v||(w=Object.assign(Object.create(S[Ee]),w))),u&&(w=u.call(w)),m.save(D,v,w)};return S}function lt(t){const{instance:{template:e}}=t;return function(n){var u;const s=Object.keys(n),r=this[Pe],i=this[In];for(const f of s)f in r||oo(t,f);let o=0,c=0,a=0,l=0;for(const f of i){const h=r[f];h.special?f in n&&l++:(o++,f in n?c++:h.required&&a++)}if(a!==0&&l===0){const f=i.filter(h=>r[h].required&&!(h in n));io(t,f)}if(l+c>s.length)for(const f of i)f in n&&(s.includes(f)||s.push(f));c<o&&l===0&&e&&(e[g]&&this[P](e),(u=this[C])==null||u.call(this,St,{vivificate:!0,source:e}));for(const f of s)r[f].call(this,n[f]);return s.length}}function Pi(t){for(const{type:e}of t)switch(e){case j.Object:case j.Comptime:case j.Type:case j.Literal:return!0}return!1}function Gn(){return this}class $i{constructor(){V(this,0,null);V(this,1,null)}find(e,n){const r=this[n?0:1];return r==null?void 0:r.get(e)}save(e,n,s){const r=n?0:1;let i=this[r];return i||(i=this[r]=new WeakMap),i.set(e,s),s}}function Ui(t,e){const{byteSize:n,align:s,instance:{members:[r]}}=t,{get:i}=k(r,e),{get:o,set:c}=k({...r,type:j.Error,structure:t},e),a=["string","number"],l=lt(t),u=function(v){if(v&&typeof v=="object")try{l.call(this,v)===0&&yt(t,a,v)}catch(E){const{error:G}=v;if(typeof G=="string")c.call(this,G);else throw E}else v!==void 0&&c.call(this,v)},f=function(v){if(typeof v=="number"||typeof v=="string")return h[bt][v];if(!ee(t,v,e))yt(t,a,v);else return!1},h=t.constructor=nt(t,{initializer:u,alternateCaster:f},e);Object.setPrototypeOf(h.prototype,Gt.prototype);const y=t.typedArray=wt(r),b=function(){return this.$.message},m=function(){return"Error"},S=function(v){return v==="string"?Error.prototype.toString.call(this,v):i.call(this)},O={$:{get:o,set:c},message:{get:b},dataView:ct(t),base64:at(t),typedArray:y&&gt(t),valueOf:{value:X},toJSON:{value:Z},delete:{value:tt(e)},[Symbol.toStringTag]:{get:m},[Symbol.toPrimitive]:{value:S},[P]:{value:W(n)},[q]:{value:o}},d={[F]:{value:s},[L]:{value:n},[bt]:{value:{}}};return et(h,O,d)}let Gt;function Ci(){Gt=function(){},Object.setPrototypeOf(Gt.prototype,Error.prototype)}function Re(){return Gt}const j={Void:0,Bool:1,Int:2,Uint:3,Float:4,EnumerationItem:5,Error:6,Object:7,Type:8,Comptime:9,Static:10,Literal:11,Null:12,Undefined:13};function Di(t){switch(t){case j.Type:case j.Comptime:case j.Literal:return!0;default:return!1}}const st={};function Fi(){st[j.Int]=Wi}function ki(){st[j.Uint]=Gi}function Ri(){st[j.Float]=Ki}function Ni(){st[j.EnumerationItem]=Ji}function Li(){st[j.Error]=Hi}function Bi(){st[j.Object]=Xi}function _i(){st[j.Type]=Qi}function qi(){st[j.Comptime]=to}function Kn({bitOffset:t,bitSize:e,byteSize:n}){return n!==void 0||!(t&7)&&!(e&7)||e===0}function k(t,e){const n=st[t.type];return n(t,e)}function Wi(t,e){const n=Jn(e,Et);return Be(t,e,n)}function Gi(t,e){const n=Jn(e,Et);return Be(t,e,n)}function Jn(t,e){return function(n,s){const{runtimeSafety:r=!0}=t,i=e(n,s);if(r&&n==="set"){const{min:o,max:c}=mi(s);return function(a,l,u){(l<o||l>c)&&ho(s,l),i.call(this,a,l,u)}}return i}}function Ki(t,e){return Be(t,e,Et)}function Hn(t,e){const{type:n,structure:s}=t.structure.instance.members[0],r={...t,type:n,structure:s};return k(r,e)}function Ji(t,e){const{structure:n}=t,{get:s,set:r}=Hn(t,e),i=function(o){const{constructor:c}=n,a=o instanceof c?o:c(o);return a||so(n,o),a};return{get:s.length===0?function(){const c=s.call(this);return i(c)}:function(c){const a=s.call(this,c);return i(a)},set:r.length===1?function(c){const a=i(c);r.call(this,a[Symbol.toPrimitive]())}:function(c,a){const l=i(a);r.call(this,c,l[Symbol.toPrimitive]())}}}function Hi(t,e){const{structure:n}=t,{name:s}=n,{get:r,set:i}=Hn(t,e),o=s==="anyerror",c=Re(),a=function(l,u=!1){const{constructor:f}=n;let h;if(!(l===0&&u))return l instanceof Error?l instanceof(o?c:f)?h=l:Qn(n):(h=o?c[l]:f(l),h||ro(n,l)),h};return{get:r.length===0?function(u){const f=r.call(this);return a(f,u)}:function(u){const f=r.call(this,u);return a(f,!1)},set:i.length===1?function(u,f){const h=a(u,f);i.call(this,Number(h??0))}:function(u,f){const h=a(f,!1);i.call(this,u,Number(h))}}}function Ne(t){switch(t.type){case x.Primitive:case x.ErrorUnion:case x.Optional:case x.Enumeration:case x.ErrorSet:return!0;default:return!1}}function Yn(t){return(this[z][t]??this[B](t))[Me]()}function Xn(t){return this[z][t]??this[B](t)}function Yi(t,e){(this[z][t]??this[B](t))[qt](e)}function Le(t,{get:e,set:n}){return t!==void 0?{get:function(){return e.call(this,t)},set:n?function(s){return n.call(this,t,s)}:void 0}:{get:e,set:n}}function Xi(t,e){const{structure:n,slot:s}=t;return Le(s,{get:Ne(n)?Yn:Xn,set:Yi})}function Zi(t){const e=this[z][t];return e==null?void 0:e.constructor}function Qi(t,e){const{slot:n}=t;return Le(n,{get:Zi})}function to(t,e){const{slot:n,structure:s}=t;return Le(n,{get:Ne(s)?Yn:Xn})}function Be(t,e,n){const{littleEndian:s=!0}=e,{bitOffset:r,byteSize:i}=t,o=n("get",t),c=n("set",t);if(r!==void 0){const a=r>>3;return{get:function(){try{return o.call(this[g],a,s)}catch(u){if(u instanceof TypeError&&Y.call(this))return o.call(this[g],a,s);throw u}},set:function(u){try{return c.call(this[g],a,u,s)}catch(f){if(f instanceof TypeError&&Y.call(this))return c.call(this[g],a,u,s);throw f}}}}else return{get:function(l){try{return o.call(this[g],l*i,s)}catch(u){if(u instanceof TypeError&&Y.call(this))return o.call(this[g],l*i,s);jn(t,l,u)}},set:function(l,u){try{return c.call(this[g],l*i,u,s)}catch(f){if(f instanceof TypeError&&Y.call(this))return c.call(this[g],l*i,u,s);jn(t,l,f)}}}}function eo(t){const{name:e}=t;throw new TypeError(`An initializer must be provided to the constructor of ${e}, even when the intended value is undefined`)}function Zn(t,e,n=null){const{name:s,type:r,byteSize:i}=t,o=e.byteLength,c=i!==1?"s":"";if(r===x.Slice&&!n)throw new TypeError(`${s} has elements that are ${i} byte${c} in length, received ${o}`);{const a=r===x.Slice?n.length*i:i;throw new TypeError(`${s} has ${a} byte${c}, received ${o}`)}}function no(t){const{type:e,byteSize:n,typedArray:s}=t,r=n!==1?"s":"",i=["ArrayBuffer","DataView"].map(it);throw s&&i.push(it(s.name)),e===x.Slice?new TypeError(`Expecting ${Ie(i)} that can accommodate items ${n} byte${r} in length`):new TypeError(`Expecting ${Ie(i)} that is ${n} byte${r} in length`)}function so(t,e){const{name:n}=t;throw typeof e=="number"||typeof e=="bigint"?new TypeError(`Value given does not correspond to an item of enum ${n}: ${e}`):new TypeError(`Enum item of the type ${n} expected, received ${e}`)}function ro(t,e){const{name:n}=t,s=typeof e;throw s==="string"||s==="number"?new TypeError(`Error ${s} does not corresponds to any error in error set ${n}: ${e}`):new TypeError(`Error of the type ${n} expected, received ${e}`)}function Qn(t){const{name:e}=t;throw new TypeError(`Error given is not a part of error set ${e}`)}function yt(t,e,n){const{name:s}=t,r=[];if(Array.isArray(e))for(const o of e)r.push(it(o));else r.push(it(e));const i=es(n);throw new TypeError(`${s} expects ${Ie(r)} as argument, received ${i}`)}function ft(t,e,n=!1){const{instance:{members:[s]},type:r,typedArray:i}=t,o=[],c=qn(s);c?o.push(`array of ${c}s`):s.type===j.EnumerationItem?o.push("array of enum items"):o.push("array of objects"),i&&o.push(i.name),r===x.Slice&&n&&o.push("length"),yt(t,o.join(" or "),e)}function Qt(t,e,n){const{name:s,length:r,instance:{members:[i]}}=t,{structure:{constructor:o}}=i,{length:c,constructor:a}=n,l=(e==null?void 0:e.length)??r,u=l!==1?"s":"";let f;throw a===o?f="only a single one":a.child===o?f=`a slice/array that has ${c}`:f=`${c} initializer${c>1?"s":""}`,new TypeError(`${s} has ${l} element${u}, received ${f}`)}function io(t,e){const{name:n}=t;throw new TypeError(`Missing initializers for ${n}: ${e.join(", ")}`)}function oo(t,e){const{name:n,instance:{members:s}}=t;throw s.find(i=>i.name===e)?new TypeError(`Comptime value cannot be changed: ${e}`):new TypeError(`${n} does not have a property with that name: ${e}`)}function co(t,e){const{name:n,instance:{members:s}}=t,r=s.length-1,i=r!==1?"s":"";throw new Error(`${n} expects ${r} argument${i}, received ${e}`)}function ao(t,e,n){const{name:s,instance:{members:r}}=t,i=`args[${e}]`,o=r.length-1,c=e!==0?"..., ":"",a=e!==o-1?", ...":"",l=c+i+a,u=new n.constructor(`${s}(${l}): ${n.message}`);throw u.stack=n.stack,u}function lo(t){throw new TypeError("Non-slice pointers can only be created with the help of the new operator")}function uo(t,e){const{name:n}=t,{constructor:{name:s}}=e;throw new TypeError(`Conversion of ${s} to ${n} requires an explicit cast`)}function An(t,e,n,s){const{name:r}=t;throw new TypeError(`${r} expects the sentinel value ${e} at ${s-1}, found at ${n}`)}function Lt(t,e,n){const{name:s}=t;throw new TypeError(`${s} expects the sentinel value ${e} at ${n-1}`)}function fo(t,e){throw new TypeError(`Unable to simultaneously align memory to ${e}-byte and ${t}-byte boundary`)}function te(t,e){const n=es(e);throw new TypeError(`Expected ${it(t)}, received ${n}`)}function we(){throw new TypeError("Null pointer")}function yo(t,e){const{name:n}=t;let s;if(e!=null){const r=typeof e,i=r==="object"&&e.constructor!==Object?`${e.constructor.name} object`:r;s=`${ns(i)} ${i}`}else s=e+"";throw new TypeError(`${n} cannot point to ${s}`)}function mo(t,e){throw new TypeError("Pointers in fixed memory cannot point to garbage-collected object")}function ho(t,e){const n=_e(t);throw new TypeError(`${n} cannot represent the value given: ${e}`)}function bo(t,e){const{name:n}=t;throw new RangeError(`Index exceeds the size of ${n??"array"}: ${e}`)}function jn(t,e,n){if(n instanceof RangeError)bo(t,e);else throw n}function po(t){const{name:e,structure:{name:{struct:n}}}=t;throw new TypeError(`Unable to create ${n} as it is not situated on a byte boundary: ${e}`)}function Oe(){throw new TypeError("Unable to modify read-only object")}function go(t){const{name:e}=t;throw new TypeError(`${e} cannot point to a read-only object`)}function zn(t){throw new Error(ts(t))}function So(t,e){const n=it(t.typedArray.name),s=it(e.constructor.name);console.warn(`Implicitly creating ${n} from ${s}`)}function ts(t){let e=t.replace(/_/g," ");try{e=e.replace(/(\p{Uppercase}+)(\p{Lowercase}*)/gu,(n,s,r)=>{if(s.length===1)return` ${s.toLocaleLowerCase()}${r}`;if(r){const i=s.substring(0,s.length-1),o=s.charAt(s.length-1).toLocaleLowerCase();return` ${i} ${o}${r}`}else return` ${s}`}).trimStart()}catch{}return e.charAt(0).toLocaleUpperCase()+e.substring(1)}function es(t){const e=typeof t;let n;return e==="object"?n=t?Object.prototype.toString.call(t):"null":n=e,it(n)}function it(t){return`${ns(t)} ${t}`}function ns(t){return/^\W*[aeiou]/i.test(t)?"an":"a"}function Ie(t,e="or"){const n=` ${e} `;return t.length>2?t.slice(0,-1).join(", ")+n+t[t.length-1]:t.join(n)}function Et(t,e){return Po(t,e,n=>DataView.prototype[n]?DataView.prototype[n]:Oo(t,e))}const ss={};function wo(){ss[j.Uint]=vo}function Oo(t,e){const n=ss[e.type];return n(t,e)}function vo(t,e){return Kn(e)?xo(t,e):Vo(t,e)}function ee(t,e,n){const{type:s,byteSize:r,typedArray:i}=t;let o;const c=e==null?void 0:e[Symbol.toStringTag];if(c==="DataView")o=e;else if(c==="ArrayBuffer"||c==="SharedArrayBuffer")o=n.obtainView(e,0,e.byteLength);else if(i&&c===i.name||c==="Uint8ClampedArray"&&i===Uint8Array)o=n.obtainView(e.buffer,e.byteOffset,e.byteLength);else if(c==="Uint8Array"&&typeof Buffer=="function"&&e instanceof Buffer)o=n.obtainView(e.buffer,e.byteOffset,e.byteLength);else{const a=e==null?void 0:e[g];if(a){const{constructor:l,instance:{members:[u]}}=t;if(e instanceof l)return a;if(s===x.Array||s===x.Slice||s===x.Vector){const{byteSize:f,structure:{constructor:h}}=u,y=is(e,h);if(y!==void 0){if(s===x.Slice||y*f===r)return a;Qt(t,null,e)}}}}return o&&r!==void 0&&rs(o,t),o}function Ao(t){return(t==null?void 0:t[Symbol.toStringTag])!=="DataView"&&te("a DataView",t),t}function rs(t,e){const{byteSize:n,type:s}=e;(s===x.Slice?t.byteLength%n!==0:t.byteLength!==n)&&Zn(e,t)}function Mt(t,e,n,s){const{byteSize:r,type:i,sentinel:o}=e,c=i===x.Slice;if(this[g]){const a=c?r*this.length:r;t.byteLength!==a&&Zn(e,t,this);const l={[g]:t};o==null||o.validateData(l,this.length),this[P](l)}else{const{shapeDefiner:a}=s;rs(t,e);const l=t.byteLength/r,u={[g]:t};o==null||o.validateData(u,l),a.call(this,n?null:t,l),n&&this[P](u)}}function is(t,e){const{constructor:n}=t;if(n===e)return 1;if(n.child===e)return t.length}function jo(t,e,n){const s=ee(t,e,n);return s||no(t),s}function wt(t){const{type:e,byteSize:n}=t;if(e===j.Int)switch(n){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array;case 8:return BigInt64Array}else if(e===j.Uint)switch(n){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array;case 8:return BigUint64Array}else if(e===j.Float)switch(n){case 4:return Float32Array;case 8:return Float64Array}else if(e===j.Object)return t.structure.typedArray;return null}function zo(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return!!e&&n===e.name}function To(t,e){const n=e[Vt];if(n){const s=t==null?void 0:t[Symbol.toStringTag];if(n.includes(s))return!0}return!!(e.child&&is(t,e.child)!==void 0)}function ne(t){const{typedArray:e}=t,n=[];return e&&(n.push(e.name),n.push("DataView"),(e===Uint8Array||e===Int8Array)&&(n.push("Uint8ClampedArray"),n.push("ArrayBuffer"),n.push("SharedArrayBuffer"))),n}function Eo(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return n==="DataView"||n==="ArrayBuffer"||n==="SharedArrayBuffer"?!0:!!(e&&n===e.name)}function _e(t){const{type:e,bitSize:n,byteSize:s}=t;if(e===j.Int)return`${n<=32?"":"Big"}Int${n}`;if(e===j.Uint)return`${n<=32?"":"Big"}Uint${n}`;if(e===j.Float)return`Float${n}`;if(e===j.Bool)return`Bool${s!==void 0?s*8:1}`;if(e===j.Void)return"Null"}function Io(t){const e=DataView.prototype.getBigUint64,n=DataView.prototype.setBigUint64,s=Math.ceil(t/64);return{get:function(r,i){let o=0n;if(i)for(let c=0,a=r+(s-1)*8;c<s;c++,a-=8){const l=e.call(this,a,i);o=o<<64n|l}else for(let c=0,a=r;c<s;c++,a+=8){const l=e.call(this,a,i);o=o<<64n|l}return o},set:function(r,i,o){let c=i;const a=0xFFFFFFFFFFFFFFFFn;if(o)for(let l=0,u=r;l<s;l++,u+=8){const f=c&a;n.call(this,u,f,o),c>>=64n}else{c<<=BigInt(s*64-t);for(let l=0,u=r+(s-1)*8;l<s;l++,u-=8){const f=c&a;n.call(this,u,f,o),c>>=64n}}return c}}}function xo(t,e){const{bitSize:n,byteSize:s}=e;if(n<64){const r=_e({...e,bitSize:s*8}),i=DataView.prototype[`get${r}`],o=DataView.prototype[`set${r}`],c=n<=32?2**n-1:2n**BigInt(n)-1n;return t==="get"?function(a,l){return i.call(this,a,l)&c}:function(a,l,u){const f=l&c;o.call(this,a,f,u)}}else{const{get:r,set:i}=Io(n),o=2n**BigInt(n)-1n;return t==="get"?function(c,a){return r.call(this,c,a)&o}:function(c,a,l){const u=a&o;i.call(this,c,u,l)}}}function Vo(t,e){const{bitSize:n,bitOffset:s}=e,r=s&7;if(r+n<=8){const i=DataView.prototype.setUint8,o=DataView.prototype.getUint8,c=2**n-1;if(t==="get")return function(a){return o.call(this,a)>>>r&c};{const a=255^c<<r;return function(l,u){const h=o.call(this,l)&a|(u&c)<<r;i.call(this,l,h)}}}return Mo(t,e)}function Mo(t,e){const{bitSize:n,bitOffset:s}=e,r=s&7,i=[1,2,4,8].find(c=>c*8>=n)??Math.ceil(n/64)*64,o=new DataView(new ArrayBuffer(i));if(t==="get"){const c=Et("get",{...e,byteSize:i}),a=Sn(r,n,!0);return function(l,u){return a(o,this,l),c.call(o,0,u)}}else{const c=Et("set",{...e,byteSize:i}),a=Sn(r,n,!1);return function(l,u,f){c.call(o,0,u,f),a(this,o,l)}}}const Tn={};function Po(t,e,n){const{type:s,bitOffset:r,bitSize:i,structure:o}=e,c=r&7,a=_e(e),l=Kn(e)?"":`Bit${c}`,u=s===j.Int||s===j.Uint;let f=`${t}${a}${l}`,h=!1,y=f;if(u&&i===64){const m=o==null?void 0:o.name;(m==="usize"||m==="isize")&&(f+="Size",h=!0)}let b=Tn[f];if(!b){if(u&&t==="set"){const m=_n(e),S=n(y);b=function(O,d,v){S.call(this,O,m(d),v)}}else if(h&&t==="get"){const m=n(y),S=BigInt(Number.MIN_SAFE_INTEGER),O=BigInt(Number.MAX_SAFE_INTEGER);b=function(d,v){const E=m.call(this,d,v);return S<=E&&E<=O?Number(E):E}}else b=n(f);b&&b.name!==f&&Object.defineProperty(b,"name",{value:f,configurable:!0,writable:!1}),Tn[f]=b}return b}function $o(t,e){const n=(s,{methods:r},i)=>{const o={},c=/^(get|set)\s+([\s\S]+)/;for(const a of r){const l=e.createCaller(a,i),u=c.exec(l.name);if(u){const f=u[1],h=u[2],y=f==="get"?0:1;if(Uo(a,i)===y){let m=o[h];m||(m=o[h]={configurable:!0,enumerable:!0}),m[f]=l}}else o[l.name]={value:l,configurable:!0,writable:!0}}R(s,o)};n(t.constructor,t.static,!1),n(t.constructor.prototype,t.instance,!0)}function Uo(t,e){const{argStruct:{instance:{members:n}}}=t;return n.length-(e?2:1)}function Co(t,e){const{type:n,constructor:s,static:{members:r,template:i}}=t;if(r.length===0)return;const o={};for(const c of r)o[c.name]=k(c,e);if(R(s,{valueOf:{value:X},toJSON:{value:Z},...o,[Symbol.iterator]:{value:Cn},[z]:{value:i[z]},[Yt]:{value:r.map(c=>c.name)},[q]:{value:$n}}),n===x.Enumeration){const c=s[bt];for(const{name:a,slot:l}of r)if(a!==void 0){const u=s[z][l];if(u instanceof s){R(u,{[_t]:{value:a}});const f=u[Symbol.toPrimitive]();c[f]=c[a]=u}}else R(s,{[xn]:{value:!0}})}else if(n===x.ErrorSet){const c=Re(),a=s[bt];for(const{name:l,slot:u}of r){let f=s[z][u];const h=Number(f),y=c[h];if(y){if(!(y instanceof s)){const b=y.constructor,m=Object.values(b[z]),S=Object.values(s[z]).map(O=>Number(O));if(m.every(O=>S.includes(Number(O))))Object.setPrototypeOf(b.prototype,s.prototype);else{Object.setPrototypeOf(s.prototype,b.prototype);for(const O of m)S.includes(Number(O))&&Object.setPrototypeOf(O,s.prototype)}}f=s[z][u]=y}else R(f,{message:{value:ts(l)}}),c[h]=c[f.message]=c[`${f}`]=f;a[h]=a[f.message]=a[`${f}`]=f}}}class Do{constructor(){V(this,"context");V(this,"contextStack",[]);V(this,"consolePending",[]);V(this,"consoleTimeout",0);V(this,"viewMap",new WeakMap);V(this,"initPromise");V(this,"abandoned",!1);V(this,"released",!1);V(this,"littleEndian",!0);V(this,"runtimeSafety",!0);V(this,"comptime",!1);V(this,"variables",[]);V(this,"imports");V(this,"console",globalThis.console)}startContext(){this.context&&this.contextStack.push(this.context),this.context=new Fo}endContext(){this.context=this.contextStack.pop()}allocateMemory(e,n=0,s=!1){return s?this.allocateFixedMemory(e,n):this.allocateRelocMemory(e,n)}allocateRelocMemory(e,n){return this.obtainView(new ArrayBuffer(e),0,e)}registerMemory(e,n=null,s=void 0){const{memoryList:r}=this.context,i=this.getViewAddress(e),o=ve(r,i);return r.splice(o,0,{address:i,dv:e,len:e.byteLength,targetDV:n,targetAlign:s}),i}unregisterMemory(e){const{memoryList:n}=this.context,s=ve(n,e),r=n[s-1];(r==null?void 0:r.address)===e&&n.splice(s-1,1)}findMemory(e,n){if(this.context){const{memoryList:s}=this.context,r=ve(s,e),i=s[r-1];if((i==null?void 0:i.address)===e&&i.len===n)return i.targetDV??i.dv;if((i==null?void 0:i.address)<=e&&e<jt(i.address,i.len)){const o=Number(e-i.address),c=i.targetDV??i.dv,a=n===void 0;a&&(n=c.byteLength-o);const l=this.obtainView(c.buffer,c.byteOffset+o,n);return a&&(l[F]=i.targetAlign),l}}return this.obtainFixedView(e,n??0)}getViewAddress(e){const n=this.getBufferAddress(e.buffer);return jt(n,e.byteOffset)}obtainView(e,n,s){let r=this.viewMap.get(e);if(!r){const c=new DataView(e,n,s);return this.viewMap.set(e,c),c}if(r instanceof DataView){if(r.byteOffset===n&&r.byteLength===s)return r;{const c=r;r={[`${c.byteOffset}:${c.byteLength}`]:c},this.viewMap.set(e,r)}}const i=`${n}:${s}`;let o=r[i];return o||(o=r[i]=new DataView(e,n,s)),o}captureView(e,n,s){if(s){const r=this.allocateRelocMemory(n,0);return n>0&&this.copyBytes(r,e,n),r}else return this.obtainFixedView(e,n)}castView(e,n,s){const{constructor:r,hasPointer:i}=e,o=r.call(zt,n,{writable:s});return i&&this.acquirePointerTargets(o),o}finalizeShape(e){const s=Mi(e.type)(e,this);typeof s=="function"&&(R(s,{name:{value:e.name,configurable:!0}}),s.prototype.hasOwnProperty(Symbol.toStringTag)||R(s.prototype,{[Symbol.toStringTag]:{value:e.name,configurable:!0}}))}finalizeStructure(e){Co(e,this),$o(e,this)}createCaller(e,n){const{name:s,argStruct:r,thunkId:i}=e,{constructor:o}=r,c=this;let a;return n?a=function(...l){return c.invokeThunk(i,new o([this,...l]))}:a=function(...l){return c.invokeThunk(i,new o(l))},Object.defineProperty(a,"name",{value:s}),a}recreateStructures(e,n){Object.assign(this,n);const s=(o,c)=>{for(const[a,l]of Object.entries(c))o[a]=r(l);return o},r=o=>{if(o.memory){const{array:c,offset:a,length:l}=o.memory,u=this.obtainView(c.buffer,a,l),{constructor:f}=o.structure,{reloc:h,const:y}=o,b=h!==void 0&&y!==!0,m=f.call(zt,u,{writable:b});return o.slots&&s(m[z],o.slots),h!==void 0&&this.variables.push({reloc:h,object:m}),m}else return o.structure};Ci();const i=new Map;for(const o of e){for(const c of[o.instance,o.static])if(c.template){const a=c.template,l=c.template={};if(a.memory){const{array:u,offset:f,length:h}=a.memory;l[g]=this.obtainView(u.buffer,f,h)}if(a.slots){const u=l[z]={};i.set(u,a.slots)}}this.finalizeShape(o)}for(const[o,c]of i)s(o,c);for(const o of e)this.finalizeStructure(o)}linkVariables(e){const n=[];for(const{object:s,reloc:r}of this.variables)this.linkObject(s,r,e),s[ut]&&s[z][0]&&n.push(s);for(const s of n){const r=s[ut](),i=this.getViewAddress(r[g]),{length:o=1}=r;s[ht]={address:i,length:o}}}linkObject(e,n,s){if(this.inFixedMemory(e))return;const r=e[g],i=this.recreateAddress(n),o=this.obtainFixedView(i,r.byteLength);if(s){const a=Object.create(e.constructor.prototype);a[g]=o,a[P](e)}e[g]=o;const c=a=>{if(a[z]){for(const l of Object.values(a[z]))if(l){const u=l[g];if(u.buffer===r.buffer){const f=u.byteOffset-r.byteOffset;l[g]=this.obtainView(o.buffer,f,u.byteLength),c(l)}}}};c(e)}unlinkVariables(){for(const{object:e}of this.variables)this.unlinkObject(e)}unlinkObject(e){if(!this.inFixedMemory(e))return;const n=e[g],s=this.allocateMemory(n.byteLength),r=Object.create(e.constructor.prototype);r[g]=s,r[P](e),e[g]=s}releaseFunctions(){const e=function(){throw new Error("Module was abandoned")};for(const n of Object.keys(this.imports))this[n]&&(this[n]=e)}getControlObject(){return{init:()=>this.initPromise??Promise.resolve(),abandon:()=>this.abandon(),released:()=>this.released,connect:e=>this.console=e}}abandon(){this.abandoned||(this.releaseFunctions(),this.unlinkVariables(),this.abandoned=!0)}writeToConsole(e){const{console:n}=this;try{const s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength).slice(),r=s.lastIndexOf(10);if(r===-1)this.consolePending.push(s);else{const i=s.subarray(0,r),o=s.subarray(r+1),c=[...this.consolePending,i];n.log(Tt(c)),this.consolePending=o.length>0?[o]:[]}clearTimeout(this.consoleTimeout),this.consolePending.length>0&&(this.consoleTimeout=setTimeout(()=>{n.log(Tt(this.consolePending)),this.consolePending=[]},250))}catch(s){n.error(s)}}flushConsole(){this.consolePending.length>0&&(console.log(Tt(this.consolePending)),this.consolePending=[],clearTimeout(this.consoleTimeout))}updatePointerAddresses(e){const n=new Map,s=new Map,r=[],i=this,o=function({isActive:l}){var h;if(!l(this))return;const u=this[Te];if(n.get(u))return;const f=u[z][0];if(f&&(n.set(u,f),!i.inFixedMemory(f))){const y=f[g],b=s.get(y.buffer);if(b){const m=Array.isArray(b)?b:[b],S=os(m,y.byteOffset,O=>O[g].byteOffset);m.splice(S,0,f),Array.isArray(b)||(s.set(y.buffer,m),r.push(m))}else s.set(y.buffer,f);(h=f[C])==null||h.call(f,o)}};e[C](o);const c=this.findTargetClusters(r),a=new Map;for(const l of c)for(const u of l.targets)a.set(u,l);for(const[l,u]of n){const f=a.get(u),{length:h=1}=u;let y=this.getTargetAddress(u,f);y===!1&&(y=this.getShadowAddress(u,f)),l[En]({address:y,length:h})}}findTargetClusters(e){const n=[];for(const s of e){let r=null,i=0,o=0,c=null;for(const a of s){const l=a[g],{byteOffset:u,byteLength:f}=l,h=u+f;let y=!0;r&&(o>u?(c||(c={targets:[r],start:i,end:o,address:void 0,misaligned:void 0},n.push(c)),c.targets.push(a),h>o?c.end=h:y=!1):c=null),y&&(r=a,i=u,o=h)}}return n}createClusterShadow(e){const{start:n,end:s,targets:r}=e;let i=0,o;for(const O of r){const d=O[g],v=d.byteOffset,E=O.constructor[F]??d[F];(i===void 0||E>i)&&(i=E,o=v)}const c=s-n,a=this.allocateShadowMemory(c+i,1),l=this.getViewAddress(a),u=Ro(jt(l,o),i),f=No(u,o),h=a.byteOffset+Number(f-l),y=new DataView(a.buffer,h,c);for(const O of r){const d=O[g],v=d.byteOffset;if(v!==o){const E=O.constructor[F]??d[F];ko(jt(f,v),E)&&fo(E,i)}}const b={[P]:W(c)},m=Object.create(b),S=Object.create(b);return m[g]=new DataView(r[0][g].buffer,Number(n),c),S[g]=y,S[Bt]={address:l,len:a.byteLength,align:1},this.addShadow(S,m,1)}getShadowAddress(e,n){if(n){const s=e[g];if(n.address===void 0){const r=this.createClusterShadow(n);n.address=this.getViewAddress(r[g])}return jt(n.address,s.byteOffset)}else{const s=this.createShadow(e);return this.getViewAddress(s[g])}}createShadow(e){const n=e[g],s=e.constructor[F]??n[F],r=Object.create(e.constructor.prototype),i=r[g]=this.allocateShadowMemory(n.byteLength,s);return r[Bt]={address:this.getViewAddress(i),len:i.byteLength,align:s},this.addShadow(r,e,s)}addShadow(e,n,s){let{shadowMap:r}=this.context;return r||(r=this.context.shadowMap=new Map),r.set(e,n),this.registerMemory(e[g],n[g],s),e}removeShadow(e){const{shadowMap:n}=this.context;if(n){for(const[s]of n)if(s[g]===e){n.delete(s);break}}}updateShadows(){const{shadowMap:e}=this.context;if(e)for(const[n,s]of e)n[P](s)}updateShadowTargets(){const{shadowMap:e}=this.context;if(e)for(const[n,s]of e)s[P](n)}releaseShadows(){const{shadowMap:e}=this.context;if(e)for(const[n]of e){const{address:s,len:r,align:i}=n[Bt];this.freeShadowMemory(s,r,i)}}acquirePointerTargets(e){const n=this,s=new Map,r=function({isActive:i,isMutable:o}){var h,y;const c=this[Te];if(s.get(c))return;s.set(c,!0);const a=!c.constructor.const,l=c[z][0];let u,f;if(i(this)){const b=c.constructor.child;if(!l||o(this))if(f=c[Ae](),Lo(f.address))u=null;else{const m=b[L]!==void 0?f.length*b[L]:void 0,S=n.findMemory(f.address,m);u=b.call(zt,S,{writable:a})}else u=l}(h=l==null?void 0:l[C])==null||h.call(l,r,{vivificate:!0,isMutable:()=>a}),u!==l&&((y=u==null?void 0:u[C])==null||y.call(u,r,{vivificate:!0,isMutable:()=>a}),c[z][0]=u,n.inFixedMemory(c)&&(c[ht]=f))};e[C](r,{vivificate:!0})}}class Fo{constructor(){V(this,"pointerProcessed",new Map);V(this,"memoryList",[]);V(this,"shadowMap",null);V(this,"call",0)}}function os(t,e,n){let s=0,r=t.length;if(r===0)return 0;for(;s<r;){const i=Math.floor((s+r)/2);n(t[i])<=e?s=i+1:r=i}return r}function ve(t,e){return os(t,e,n=>n.address)}function ko(t,e){if(e===void 0)return!1;typeof t=="bigint"&&(t=Number(t&0xFFFFFFFFn));const n=e-1;return(t&n)!==0}function Ro(t,e){let n;return typeof t=="bigint"?(e=BigInt(e),n=~(e-1n)):n=~(e-1),(t&n)+e}function jt(t,e){return t+(typeof t=="bigint"?BigInt(e):e)}function No(t,e){return t-(typeof t=="bigint"?BigInt(e):e)}function Lo(t){return typeof t=="bigint"?t===0xaaaaaaaaaaaaaaaan:t===2863311530}class Bo extends Do{constructor(){super(...arguments);V(this,"imports",{getFactoryThunk:{argType:"",returnType:"i"},allocateExternMemory:{argType:"ii",returnType:"i"},freeExternMemory:{argType:"iii"},allocateShadowMemory:{argType:"cii",returnType:"v"},freeShadowMemory:{argType:"ciii"},runThunk:{argType:"iv",returnType:"v"},isRuntimeSafetyActive:{argType:"",returnType:"b"}});V(this,"exports",{allocateHostMemory:{argType:"ii",returnType:"v"},freeHostMemory:{argType:"iii"},captureString:{argType:"ii",returnType:"v"},captureView:{argType:"iib",returnType:"v"},castView:{argType:"vvb",returnType:"v"},getSlotNumber:{argType:"ii",returnType:"i"},readSlot:{argType:"vi",returnType:"v"},writeSlot:{argType:"viv"},getViewAddress:{argType:"v",returnType:"i"},beginDefinition:{returnType:"v"},insertInteger:{argType:"vsi",alias:"insertProperty"},insertBoolean:{argType:"vsb",alias:"insertProperty"},insertString:{argType:"vss",alias:"insertProperty"},insertObject:{argType:"vsv",alias:"insertProperty"},beginStructure:{argType:"v",returnType:"v"},attachMember:{argType:"vvb"},attachMethod:{argType:"vvb"},createTemplate:{argType:"v",returnType:"v"},attachTemplate:{argType:"vvb"},finalizeShape:{argType:"v"},endStructure:{argType:"v"},startCall:{argType:"iv",returnType:"i"},endCall:{argType:"iv",returnType:"i"}});V(this,"nextValueIndex",1);V(this,"valueTable",{0:null});V(this,"valueIndices",new Map);V(this,"memory",null);V(this,"littleEndian",!0)}allocateHostMemory(n,s){const r={[F]:s},i=W(n),o=this.allocateRelocMemory(n,s),c=this.allocateShadowMemory(n,s),a={constructor:r,[g]:o,[P]:i},l={constructor:r,[g]:c,[P]:i};return l[Bt]={address:this.getViewAddress(c),len:n,align:s},this.addShadow(l,a,s),c}freeHostMemory(n,s,r){const i=this.findMemory(n,s);this.removeShadow(i),this.unregisterMemory(n),this.freeShadowMemory(n,s,r)}getBufferAddress(n){return 0}allocateFixedMemory(n,s){if(n===0)return new DataView(this.memory.buffer,0,0);const r=this.allocateExternMemory(n,s),i=this.obtainFixedView(r,n);return i[F]=s,i}freeFixedMemory(n,s,r){s!==0&&this.freeExternMemory(n,s,r)}obtainFixedView(n,s){const{memory:r}=this;s===0&&n===-1431655766&&(n=0);const i=this.obtainView(r.buffer,n,s);return i[g]={memory:r,address:n,len:s},i}releaseFixedView(n){n.buffer;const s=n.byteOffset,r=n.byteLength,i=n[F];i!==void 0&&this.freeFixedMemory(s,r,i)}inFixedMemory(n){return this.memory?(Y.call(n),n[g].buffer===this.memory.buffer):!1}copyBytes(n,s,r){const{memory:i}=this,o=new DataView(i.buffer,s,r);Vn(r)(n,o)}findSentinel(n,s){const{memory:r}=this,i=s.byteLength,o=r.buffer.byteLength-i+1;for(let c=n;c<o;c+=i){const a=new DataView(r.buffer,c,i);let l=!0;for(let u=0;u<i;u++){const f=a.getUint8(u),h=s.getUint8(u);if(f!==h){l=!1;break}}if(l)return(c-n)/i}}captureString(n,s){const{buffer:r}=this.memory,i=new Uint8Array(r,n,s);return Tt(i)}getTargetAddress(n,s){return this.inFixedMemory(n)?this.getViewAddress(n[g]):n[g].byteLength===0?0:!1}clearExchangeTable(){this.nextValueIndex!==1&&(this.nextValueIndex=1,this.valueTable={0:null},this.valueIndices=new Map)}getObjectIndex(n){if(n){let s=this.valueIndices.get(n);return s===void 0&&(s=this.nextValueIndex++,this.valueIndices.set(n,s),this.valueTable[s]=n),s}else return 0}fromWebAssembly(n,s){switch(n){case"v":case"s":return this.valueTable[s];case"i":return s;case"b":return!!s}}toWebAssembly(n,s){switch(n){case"v":case"s":return this.getObjectIndex(s);case"i":return s;case"b":return s?1:0}}exportFunction(n,s="",r=""){return n?(...i)=>{i=i.map((c,a)=>this.fromWebAssembly(s.charAt(a),c));const o=n.apply(this,i);return this.toWebAssembly(r,o)}:()=>{}}importFunction(n,s="",r=""){let i=!1;return s.startsWith("c")&&(i=!0,s=s.slice(1)),(...o)=>{o=o.map((a,l)=>this.toWebAssembly(s.charAt(l),a)),i&&(o=[this.context.call,...o]);const c=n.apply(this,o);return this.fromWebAssembly(r,c)}}exportFunctions(){const n={};for(const[s,{argType:r,returnType:i,alias:o}]of Object.entries(this.exports)){const c=this[o??s];n[`_${s}`]=this.exportFunction(c,r,i)}return n}importFunctions(n){for(const[s,r]of Object.entries(n)){const i=this.imports[s];if(i){const{argType:o,returnType:c}=i;this[s]=this.importFunction(r,o,c)}}}async instantiateWebAssembly(n){const s=await n,r=this.exportFunctions(),i=this.getWASI(),o={env:r,wasi_snapshot_preview1:i};return s[Symbol.toStringTag]==="Response"?WebAssembly.instantiateStreaming(s,o):WebAssembly.instantiate(s,o)}loadModule(n){return this.initPromise=(async()=>{const{instance:s}=await this.instantiateWebAssembly(n),{memory:r,_initialize:i}=s.exports;this.importFunctions(s.exports),this.trackInstance(s),this.runtimeSafety=this.isRuntimeSafetyActive(),this.memory=r,i==null||i()})()}trackInstance(n){const s=new WeakRef(n);Object.defineProperty(this,"released",{get:()=>!s.deref(),enumerable:!0})}linkVariables(n){this.initPromise&&(this.initPromise=this.initPromise.then(()=>super.linkVariables(n)))}getMemoryOffset(n){return n}recreateAddress(n){return n}startCall(n,s){this.startContext(),this.context.call=n,s[C]&&this.updatePointerAddresses(s);const r=this.getShadowAddress(s);return this.updateShadows(),r}endCall(n,s){this.updateShadowTargets(),s[C]&&this.acquirePointerTargets(s),this.releaseShadows(),this.endContext(),!this.context&&this.flushConsole&&this.flushConsole()}async runThunk(n,s){return await this.initPromise,this.runThunk(n,s)}invokeThunk(n,s){const r=this.runThunk(n,s);if(r){if(r[Symbol.toStringTag]==="Promise")return r.then(i=>(i&&zn(i),s.retval));zn(r)}return s.retval}getWASI(){return{proc_exit:n=>{},fd_write:(n,s,r,i)=>{if(n===1||n===2){const o=new DataView(this.memory.buffer);let c=0;for(let a=0,l=s;a<r;a++,l+=8){const u=o.getUint32(l,!0),f=o.getUint32(l+4,!0),h=new DataView(this.memory.buffer,u,f);this.writeToConsole(h),c+=f}return o.setUint32(i,c,!0),0}else return 1},random_get:(n,s)=>{const r=new DataView(this.memory.buffer);for(let i=0;i<s;i++)r.setUint8(Math.floor(256*Math.random()));return 0}}}}function _o(t){return new Bo}Oi();_i();ki();vi();Ii();Bi();qi();Fi();Ai();Vi();xi();Ei();Ni();Ri();wo();Ti();Li();zi();ji();const T={constructor:null,typedArray:null,type:0,name:void 0,byteSize:0,align:0,isConst:!1,hasPointer:!1,instance:{members:[],methods:[],template:null},static:{members:[],methods:[],template:null}},p={type:0,isRequired:!1},$={},mt={},se={},re={},ie={},oe={},U={},_={},ce={},ae={},pt={},le={},Kt={},ue={},fe={},ot={},ye={},me={},qe={},Pt={},he={},Ot={},N={},rt={},It={},Jt={},We={},dt={},$t={},be={},Ut={},pe={},Ct={},Dt={},xt={},Ge={},Ke={},Ht={},Je={},He={},Ye={},cs={},Xe={},Ze={},Qe={},as={},tn={},ls={},en={},us={},fs={},nn={},sn={},ys={},rn={},ms={},on={},hs={},bs={},cn={},an={},ps={},Ft={},ds={},gs={},ln={},un={},Ss={},fn={},ws={},Os={},vs={},As={},js={},zs={},Ts={},Es={},Is={},xs={},Vs={},Ms={},Ps={},$s={},Us={},Cs={},Ds={},de={},Fs={},ks={},yn={},Rs={},mn={},Ns={},Ls={},Bs={},_s={},qs={},Ws={},Gs={},Ks={},Js={},hn={},Hs={},Ys={},Xs={},Zs={},Qs={},tr={},er={},nr={},sr={},rr={},bn={},ir={},or={},cr={},ar={},lr={},ur={},fr={},yr={},mr={},hr={},qo=new Uint8Array,Wo=new Uint8Array,Go=new Uint8Array([1]),Ko=new Uint8Array,Jo=new Uint8Array([32]),Ho=new Uint8Array,Yo=new Uint8Array([8]),Xo=new Uint8Array,Zo=new Uint8Array,Qo=new Uint8Array([1]),tc=new Uint8Array,ec=new Uint8Array([0,2]),nc=new Uint8Array,sc=new Uint8Array([56]),rc=new Uint8Array,ic=new Uint8Array,oc=new Uint8Array,cc=new Uint8Array([4]),ac=new Uint8Array,lc=new Uint8Array,uc=new Uint8Array,fc=new Uint8Array([236,4,0,1]),yc=new Uint8Array([99,111,109,46,103,114,101,121,98,111,120,119,97,114,101,46,97,115,99,105,105,109,105,105,0]),mc=new Uint8Array([16,5,0,1]),hc=new Uint8Array([82,105,99,104,97,114,100,32,90,117,114,97,100,0]),bc=new Uint8Array,pc=new Uint8Array([1]),dc=new Uint8Array([47,5,0,1]),gc=new Uint8Array([70,105,108,116,101,114,32,116,111,32,109,105,109,105,99,32,116,104,101,32,84,69,88,84,112,32,101,102,102,101,99,116,32,102,114,111,109,32,89,111,117,84,117,98,101,39,115,32,50,48,49,48,32,65,112,114,105,108,32,70,111,111,108,115,32,106,111,107,101,0]),Sc=new Uint8Array,wc=new Uint8Array,Oc=new Uint8Array,vc=new Uint8Array([0]),Ac=new Uint8Array([1]),br=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),jc=new Uint8Array,zc=new Uint8Array,Tc=new Uint8Array,Ec=new Uint8Array,Ic=new Uint8Array([4]),kt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),pr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),xc=new Uint8Array,Vc=new Uint8Array,Mc=new Uint8Array,Pc=new Uint8Array,$c=new Uint8Array([4]),pn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uc=new Uint8Array([8,0,0,0,56,0,0,0]),Cc=new Uint8Array([27,0]),Dc=new Uint8Array,Fc=new Uint8Array,kc=new Uint8Array,Rc=new Uint8Array;Object.assign(cs,{slots:{0:Xe,1:Qe,2:tn,3:en}});Object.assign(Xe,{structure:$,memory:{array:qo},slots:{0:Ze}});Object.assign(Ze,{structure:pt});Object.assign(Qe,{structure:U,memory:{array:Wo},slots:{0:as}});Object.assign(as,{structure:_,memory:{array:Go}});Object.assign(tn,{structure:U,memory:{array:Ko},slots:{0:ls}});Object.assign(ls,{structure:_,memory:{array:Jo}});Object.assign(en,{structure:U,memory:{array:Ho},slots:{0:us}});Object.assign(us,{structure:_,memory:{array:Yo}});Object.assign(fs,{slots:{0:nn,1:sn,2:rn,3:on}});Object.assign(nn,{structure:$,memory:{array:Xo},slots:{0:Ze}});Object.assign(sn,{structure:U,memory:{array:Zo},slots:{0:ys}});Object.assign(ys,{structure:_,memory:{array:Qo}});Object.assign(rn,{structure:U,memory:{array:tc},slots:{0:ms}});Object.assign(ms,{structure:Kt,memory:{array:ec}});Object.assign(on,{structure:U,memory:{array:nc},slots:{0:hs}});Object.assign(hs,{structure:_,memory:{array:sc}});Object.assign(bs,{slots:{0:cn,1:an}});Object.assign(cn,{structure:le,memory:{array:rc},slots:{0:Xe,1:Qe,2:tn,3:en}});Object.assign(an,{structure:ue,memory:{array:ic},slots:{0:nn,1:sn,2:rn,3:on}});Object.assign(ps,{slots:{0:Ft}});Object.assign(Ft,{structure:U,memory:{array:oc},slots:{0:ds}});Object.assign(ds,{structure:_,memory:{array:cc}});Object.assign(gs,{slots:{0:ln,1:un}});Object.assign(ln,{structure:ot,memory:{array:ac},slots:{0:Ft}});Object.assign(un,{structure:ot,memory:{array:lc},slots:{0:Ft}});Object.assign(Ss,{slots:{0:fn}});Object.assign(fn,{structure:ot,memory:{array:uc},slots:{0:Ft}});Object.assign(ws,{slots:{0:Os,1:As,2:zs,3:Es,4:xs,5:Vs,6:Ms}});Object.assign(Os,{structure:re,memory:{array:fc},slots:{0:vs}});Object.assign(vs,{structure:se,memory:{array:yc},reloc:16778476,const:!0});Object.assign(As,{structure:oe,memory:{array:mc},slots:{0:js}});Object.assign(js,{structure:ie,memory:{array:hc},reloc:16778512,const:!0});Object.assign(zs,{structure:U,memory:{array:bc},slots:{0:Ts}});Object.assign(Ts,{structure:_,memory:{array:pc}});Object.assign(Es,{structure:ae,memory:{array:dc},slots:{0:Is}});Object.assign(Is,{structure:ce,memory:{array:gc},reloc:16778543,const:!0});Object.assign(xs,{structure:fe,memory:{array:Sc},slots:{0:cn,1:an}});Object.assign(Vs,{structure:ye,memory:{array:wc},slots:{0:ln,1:un}});Object.assign(Ms,{structure:me,memory:{array:Oc},slots:{0:fn}});Object.assign(Ps,{slots:{0:$s,1:Us}});Object.assign($s,{structure:rt,memory:{array:vc}});Object.assign(Us,{structure:rt,memory:{array:Ac}});Object.assign(Cs,{memory:{array:br},slots:{0:Ds}});Object.assign(Ds,{structure:Ot,memory:{array:br,offset:0,length:8},slots:{0:de}});Object.assign(de,{structure:he,memory:{array:jc},reloc:0,const:!0});Object.assign(Fs,{slots:{0:ks,1:Rs,2:Ns}});Object.assign(ks,{structure:$,memory:{array:zc},slots:{0:yn}});Object.assign(yn,{structure:Pt});Object.assign(Rs,{structure:$,memory:{array:Tc},slots:{0:mn}});Object.assign(mn,{structure:We});Object.assign(Ns,{structure:U,memory:{array:Ec},slots:{0:Ls}});Object.assign(Ls,{structure:_,memory:{array:Ic}});Object.assign(Bs,{memory:{array:kt},slots:{0:_s,1:Ws}});Object.assign(_s,{structure:dt,memory:{array:kt,offset:0,length:24},slots:{0:qs}});Object.assign(qs,{structure:Ot,memory:{array:kt,offset:0,length:8},slots:{0:de}});Object.assign(Ws,{structure:dt,memory:{array:kt,offset:24,length:24},slots:{0:Gs}});Object.assign(Gs,{structure:Ot,memory:{array:kt,offset:24,length:8},slots:{0:de}});Object.assign(Ks,{memory:{array:pr},slots:{0:Js}});Object.assign(Js,{structure:Ut,memory:{array:pr,offset:0,length:8},slots:{0:hn}});Object.assign(hn,{structure:be,memory:{array:xc},reloc:0});Object.assign(Hs,{slots:{0:Ys,1:Xs,2:Zs}});Object.assign(Ys,{structure:$,memory:{array:Vc},slots:{0:yn}});Object.assign(Xs,{structure:$,memory:{array:Mc},slots:{0:mn}});Object.assign(Zs,{structure:U,memory:{array:Pc},slots:{0:Qs}});Object.assign(Qs,{structure:_,memory:{array:$c}});Object.assign(tr,{memory:{array:pn},slots:{0:er}});Object.assign(er,{structure:pe,memory:{array:pn},slots:{0:nr}});Object.assign(nr,{structure:Ut,memory:{array:pn,offset:0,length:8},slots:{0:hn}});Object.assign(sr,{memory:{array:Uc}});Object.assign(rr,{slots:{0:bn}});Object.assign(bn,{structure:xt,memory:{array:Cc}});Object.assign(ir,{slots:{0:bn}});Object.assign(or,{slots:{0:cr,1:lr,2:fr,3:mr}});Object.assign(cr,{structure:$,memory:{array:Dc},slots:{0:ar}});Object.assign(ar,{structure:qe});Object.assign(lr,{structure:$,memory:{array:Fc},slots:{0:ur}});Object.assign(ur,{structure:$t});Object.assign(fr,{structure:$,memory:{array:kc},slots:{0:yr}});Object.assign(yr,{structure:Ct});Object.assign(mr,{structure:$,memory:{array:Rc},slots:{0:hr}});Object.assign(hr,{structure:Dt});const Nc={argStruct:Ke,thunkId:2,name:"createOutput"},Lc={argStruct:He,thunkId:3,name:"createPartialOutput"};Object.assign($,{...T,name:"type",align:1,instance:{members:[{...p,type:8,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:$}],methods:[]}});Object.assign(mt,{...T,name:"u8",byteSize:1,align:1,instance:{members:[{...p,type:3,bitOffset:0,bitSize:8,byteSize:1,structure:mt}],methods:[]}});Object.assign(se,{...T,type:1,name:"[24:0]u8",length:24,byteSize:25,align:1,instance:{members:[{...p,type:3,bitSize:8,byteSize:1,structure:mt}],methods:[]}});Object.assign(re,{...T,type:13,name:"*const [24:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:7,bitSize:32,byteSize:4,slot:0,structure:se}],methods:[]}});Object.assign(ie,{...T,type:1,name:"[13:0]u8",length:13,byteSize:14,align:1,instance:{members:[{...p,type:3,bitSize:8,byteSize:1,structure:mt}],methods:[]}});Object.assign(oe,{...T,type:13,name:"*const [13:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:7,bitSize:32,byteSize:4,slot:0,structure:ie}],methods:[]}});Object.assign(U,{...T,name:"comptime_int",align:1,instance:{members:[{...p,type:9,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:U}],methods:[]}});Object.assign(_,{...T,name:"i8",byteSize:1,align:1,instance:{members:[{...p,type:2,bitOffset:0,bitSize:8,byteSize:1,structure:_}],methods:[]}});Object.assign(ce,{...T,type:1,name:"[69:0]u8",length:69,byteSize:70,align:1,instance:{members:[{...p,type:3,bitSize:8,byteSize:1,structure:mt}],methods:[]}});Object.assign(ae,{...T,type:13,name:"*const [69:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:7,bitSize:32,byteSize:4,slot:0,structure:ce}],methods:[]}});Object.assign(pt,{...T,name:"i32",byteSize:4,align:4,instance:{members:[{...p,type:2,bitOffset:0,bitSize:32,byteSize:4,structure:pt}],methods:[]}});Object.assign(le,{...T,type:2,name:"Struct1449345558",align:1,instance:{members:[{...p,type:9,slot:0,name:"type",structure:$},{...p,type:9,slot:1,name:"minValue",structure:U},{...p,type:9,slot:2,name:"maxValue",structure:U},{...p,type:9,slot:3,name:"defaultValue",structure:U}],methods:[],template:cs}});Object.assign(Kt,{...T,name:"i16",byteSize:2,align:2,instance:{members:[{...p,type:2,bitOffset:0,bitSize:16,byteSize:2,structure:Kt}],methods:[]}});Object.assign(ue,{...T,type:2,name:"Struct3551455779",align:1,instance:{members:[{...p,type:9,slot:0,name:"type",structure:$},{...p,type:9,slot:1,name:"minValue",structure:U},{...p,type:9,slot:2,name:"maxValue",structure:U},{...p,type:9,slot:3,name:"defaultValue",structure:U}],methods:[],template:fs}});Object.assign(fe,{...T,type:2,name:"Struct3770657015",align:1,instance:{members:[{...p,type:9,slot:0,name:"size",structure:le},{...p,type:9,slot:1,name:"charCount",structure:ue}],methods:[],template:bs}});Object.assign(ot,{...T,type:2,name:"Struct3832472641",align:1,instance:{members:[{...p,type:9,slot:0,name:"channels",structure:U}],methods:[],template:ps}});Object.assign(ye,{...T,type:2,name:"Struct1891826899",align:1,instance:{members:[{...p,type:9,slot:0,name:"src",structure:ot},{...p,type:9,slot:1,name:"text",structure:ot}],methods:[],template:gs}});Object.assign(me,{...T,type:2,name:"Struct172100005",align:1,instance:{members:[{...p,type:9,slot:0,name:"dst",structure:ot}],methods:[],template:Ss}});Object.assign(qe,{...T,type:2,name:"asciimii.kernel",align:1,static:{members:[{...p,type:9,slot:0,name:"namespace",structure:re},{...p,type:9,slot:1,name:"vendor",structure:oe},{...p,type:9,slot:2,name:"version",structure:U},{...p,type:9,slot:3,name:"description",structure:ae},{...p,type:9,slot:4,name:"parameters",structure:fe},{...p,type:9,slot:5,name:"inputImages",structure:ye},{...p,type:9,slot:6,name:"outputImages",structure:me}],methods:[],template:ws}});Object.assign(Pt,{...T,type:15,name:"@Vector(4, u8)",length:4,byteSize:4,align:4,instance:{members:[{...p,type:3,bitSize:8,byteSize:1,structure:mt}],methods:[]}});Object.assign(he,{...T,type:14,name:"[_]const @Vector(4, u8)",length:0,byteSize:4,align:4,instance:{members:[{...p,type:7,bitSize:32,byteSize:4,structure:Pt}],methods:[]}});Object.assign(Ot,{...T,type:13,name:"[]const @Vector(4, u8)",byteSize:8,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:7,bitSize:64,byteSize:8,slot:0,structure:he}],methods:[]}});Object.assign(N,{...T,name:"u32",byteSize:4,align:4,instance:{members:[{...p,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:N}],methods:[]}});Object.assign(rt,{...T,type:11,name:"asciimii.ColorSpace",byteSize:1,align:1,instance:{members:[{...p,type:3,bitOffset:0,bitSize:8,byteSize:1}],methods:[]},static:{members:[{...p,type:9,slot:0,name:"srgb",structure:rt},{...p,type:9,slot:1,name:"display-p3",structure:rt}],methods:[],template:Ps}});Object.assign(It,{...T,name:"usize",byteSize:4,align:4,instance:{members:[{...p,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:It}],methods:[]}});Object.assign(Jt,{...T,name:"f32",byteSize:4,align:4,instance:{members:[{...p,type:4,bitOffset:0,bitSize:32,byteSize:4,structure:Jt}],methods:[]}});Object.assign(We,{...T,type:15,name:"@Vector(4, f32)",length:4,byteSize:16,align:16,instance:{members:[{...p,type:4,bitSize:32,byteSize:4,structure:Jt}],methods:[]}});Object.assign(dt,{...T,type:2,name:"asciimii.Image(u8,4,false)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...p,type:7,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:Ot},{...p,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:N},{...p,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:N},{...p,type:5,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:rt},{...p,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:It}],methods:[],template:Cs},static:{members:[{...p,type:9,slot:0,name:"Pixel",structure:$},{...p,type:9,slot:1,name:"FPixel",structure:$},{...p,type:9,slot:2,name:"channels",structure:U}],methods:[],template:Fs}});Object.assign($t,{...T,type:2,name:"asciimii.KernelInput(u8,asciimii.kernel)",byteSize:48,align:4,hasPointer:!0,instance:{members:[{...p,type:7,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"src",structure:dt},{...p,type:7,bitOffset:192,bitSize:192,byteSize:24,slot:1,name:"text",structure:dt}],methods:[],template:Bs}});Object.assign(be,{...T,type:14,name:"[_]@Vector(4, u8)",length:0,byteSize:4,align:4,instance:{members:[{...p,type:7,bitSize:32,byteSize:4,structure:Pt}],methods:[]}});Object.assign(Ut,{...T,type:13,name:"[]@Vector(4, u8)",byteSize:8,align:4,hasPointer:!0,instance:{members:[{...p,type:7,bitSize:64,byteSize:8,slot:0,structure:be}],methods:[]}});Object.assign(pe,{...T,type:2,name:"asciimii.Image(u8,4,true)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...p,type:7,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:Ut},{...p,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:N},{...p,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:N},{...p,type:5,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:rt},{...p,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:It}],methods:[],template:Ks},static:{members:[{...p,type:9,slot:0,name:"Pixel",structure:$},{...p,type:9,slot:1,name:"FPixel",structure:$},{...p,type:9,slot:2,name:"channels",structure:U}],methods:[],template:Hs}});Object.assign(Ct,{...T,type:2,name:"asciimii.KernelOutput(u8,asciimii.kernel)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...p,type:7,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"dst",structure:pe}],methods:[],template:tr}});Object.assign(Dt,{...T,type:2,name:"asciimii.KernelParameters(asciimii.kernel)",byteSize:8,align:4,instance:{members:[{...p,type:2,bitOffset:0,bitSize:32,byteSize:4,slot:0,name:"size",structure:pt},{...p,type:2,bitOffset:32,bitSize:32,byteSize:4,slot:1,name:"charCount",structure:pt}],methods:[],template:sr}});Object.assign(xt,{...T,type:10,name:"@typeInfo(@typeInfo(@TypeOf(asciimii.createOutput)).Fn.return_type.?).ErrorUnion.error_set",byteSize:2,align:2,instance:{members:[{...p,type:3,bitOffset:0,bitSize:16,byteSize:2}],methods:[]},static:{members:[{...p,type:9,slot:0,name:"OutOfMemory",structure:xt}],methods:[],template:rr}});Object.assign(Ge,{...T,type:9,name:"ErrorSet2017218537!asciimii.KernelOutput(u8,asciimii.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...p,type:7,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:Ct},{...p,type:6,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:xt}],methods:[]}});Object.assign(Ke,{...T,type:5,name:"createOutput",byteSize:92,align:4,hasPointer:!0,instance:{members:[{...p,type:3,isRequired:!0,bitOffset:0,bitSize:32,byteSize:4,slot:3,name:"0",structure:N},{...p,type:3,isRequired:!0,bitOffset:32,bitSize:32,byteSize:4,slot:4,name:"1",structure:N},{...p,type:7,isRequired:!0,bitOffset:64,bitSize:384,byteSize:48,slot:0,name:"2",structure:$t},{...p,type:7,isRequired:!0,bitOffset:448,bitSize:64,byteSize:8,slot:1,name:"3",structure:Dt},{...p,type:7,isRequired:!0,bitOffset:512,bitSize:224,byteSize:28,slot:2,name:"retval",structure:Ge}],methods:[]}});Object.assign(Ht,{...T,type:10,name:"@typeInfo(@typeInfo(@TypeOf(asciimii.createPartialOutput)).Fn.return_type.?).ErrorUnion.error_set",byteSize:2,align:2,instance:{members:[{...p,type:3,bitOffset:0,bitSize:16,byteSize:2}],methods:[]},static:{members:[{...p,type:9,slot:0,name:"OutOfMemory",structure:Ht}],methods:[],template:ir}});Object.assign(Je,{...T,type:9,name:"ErrorSet3250127848!asciimii.KernelOutput(u8,asciimii.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...p,type:7,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:Ct},{...p,type:6,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:Ht}],methods:[]}});Object.assign(He,{...T,type:5,name:"createPartialOutput",byteSize:100,align:4,hasPointer:!0,instance:{members:[{...p,type:3,isRequired:!0,bitOffset:0,bitSize:32,byteSize:4,slot:3,name:"0",structure:N},{...p,type:3,isRequired:!0,bitOffset:32,bitSize:32,byteSize:4,slot:4,name:"1",structure:N},{...p,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:5,name:"2",structure:N},{...p,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:6,name:"3",structure:N},{...p,type:7,isRequired:!0,bitOffset:128,bitSize:384,byteSize:48,slot:0,name:"4",structure:$t},{...p,type:7,isRequired:!0,bitOffset:512,bitSize:64,byteSize:8,slot:1,name:"5",structure:Dt},{...p,type:7,isRequired:!0,bitOffset:576,bitSize:224,byteSize:28,slot:2,name:"retval",structure:Je}],methods:[]}});Object.assign(Ye,{...T,type:2,name:"asciimii",align:1,static:{members:[{...p,type:9,slot:0,name:"kernel",structure:$},{...p,type:9,slot:1,name:"Input",structure:$},{...p,type:9,slot:2,name:"Output",structure:$},{...p,type:9,slot:3,name:"Parameters",structure:$}],methods:[Nc,Lc],template:or}});const Bc=[$,mt,se,re,ie,oe,U,_,ce,ae,pt,le,Kt,ue,fe,ot,ye,me,qe,Pt,he,Ot,N,rt,It,Jt,We,dt,$t,be,Ut,pe,Ct,Dt,xt,Ge,Ke,Ht,Je,He,Ye],_c=Ye,qc={runtimeSafety:!1,littleEndian:!0},ge=_o();ge.getControlObject();ge.recreateStructures(Bc,qc);const Wc=(async()=>{const t=new URL("asciimii-5ed1ab11.wasm",import.meta.url).href;return fetch(t)})();ge.loadModule(Wc);ge.linkVariables(!0);const{constructor:Gc}=_c,{createPartialOutput:Kc,Input:Jc,kernel:xe}=Gc;function Hc(t,e,n,s,r={},i={}){const o=[];for(const[y]of xe.inputImages)o.push(y);const c=[];for(const[y]of xe.outputImages)c.push(y);if(Array.isArray(r)){const y=r;r={};for(const[b,m]of o.entries())r[m]=y[b]}const a=new Jc(void 0),l=[];let u;for(const y of o){let b=r[y];if(b||(o.length===1&&["data","width","height"].every(m=>!!r[m])?b=r:l.push(y)),a[y]=b,u){if(b.colorSpace!==u)throw new Error(`Input images must all use the same color space: ${u}`)}else u=b.colorSpace}if(l.length>0)throw new Error(`Missing input image${l.length>1?"s":""}: ${l.join(", ")}`);const f=Kc(t,e,n,s,a,i),h=y=>{const b={};for(const m of c){const{data:{typedArray:S},width:O,height:d}=y[m];let v;if(typeof ImageData=="function"){const E=new Uint8ClampedArray(S.buffer,S.byteOffset,S.byteLength);v=new ImageData(E,O,s,{colorSpace:u})}else v={data:S,width:O,height:d};if(c.length===1)return v;b[m]=v}return b};return f[Symbol.toStringTag]==="Promise"?f.then(h):h(f)}function Yc(){const t={};for(let[e,n]of xe){if(e==="parameters"){const s={};for(const[r,i]of n){const o=s[r]={};for(let[c,a]of i)typeof a=="object"?"string"in a?a=a.string:a=dr(a):typeof a=="function"&&(a=Xc(a.name)),o[c]=a}n=s}else typeof n=="object"&&("string"in n?n=n.string:n=n.valueOf());t[e]=n}return t}function dr(t){const e=[];for(let[n,s]of t)typeof s=="object"&&(s=dr(s)),e[n]=s;return e}function Xc(t){return{bool:"bool","@Vector(2, bool)":"bool2","@Vector(3, bool)":"bool3","@Vector(4, bool)":"bool4",i32:"int","@Vector(2, i32)":"int2","@Vector(3, i32)":"int3","@Vector(4, i32)":"int4",f32:"float","@Vector(2, f32)":"float2","@Vector(3, f32)":"float3","@Vector(4, f32)":"float4","[2]@Vector(2, f32)":"float2x2","[3]@Vector(3, f32)":"float3x3","[4]@Vector(4, f32)":"float4x4"}[t]}onmessage=t=>{const[e,n,...s]=t.data;Zc(e,s).then(([r,i])=>{postMessage([e,n,r],{transfer:i})}).catch(r=>{postMessage(["error",n,r])})};async function Zc(t,e){switch(t){case"getKernelInfo":return[Yc(...e)];case"createPartialImageData":const s=await Hc(...e),r=[];if("data"in s&&"width"in s&&"height"in s)r.push(s.data.buffer);else for(const i of Object.entries(s))r.push(s.data.buffer);return[s,r];default:throw new Error(`Unknown function: ${t}`)}}
