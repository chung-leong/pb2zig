const O=Symbol("memory"),P=Symbol("slots"),Z=Symbol("zig"),yt=Symbol("parent"),Fn=Symbol("enumName"),qt=Symbol("enumIndex"),Kn=Symbol("enumItems"),je=Symbol("errorIndex"),kt=Symbol("enumItem"),te=Symbol("getter"),ne=Symbol("setter"),at=Symbol("length"),ye=Symbol("proxy"),we=Symbol("compat"),mt=Symbol("self"),K=Symbol("childVivificator"),B=Symbol("pointerVisitor");function _(e,t=!1){if(!t)switch(e){case 1:return Yn;case 2:return Zn;case 4:return Jn;case 8:return Qn;case 16:return er;case 32:return tr}return e&7?e&3?e&1?Gn:Wn:Hn:Xn}function Gn(e,t){for(let n=0,r=e.byteLength;n<r;n++)e.setInt8(n,t.getInt8(n))}function Wn(e,t){for(let n=0,r=e.byteLength;n<r;n+=2)e.setInt16(n,t.getInt16(n,!0),!0)}function Hn(e,t){for(let n=0,r=e.byteLength;n<r;n+=4)e.setInt32(n,t.getInt32(n,!0),!0)}function Xn(e,t){for(let n=0,r=e.byteLength;n<r;n+=8)e.setInt32(n,t.getInt32(n,!0),!0),e.setInt32(n+4,t.getInt32(n+4,!0),!0)}function Yn(e,t){e.setInt8(0,t.getInt8(0))}function Zn(e,t){e.setInt16(0,t.getInt16(0,!0),!0)}function Jn(e,t){e.setInt32(0,t.getInt32(0,!0),!0)}function Qn(e,t){e.setInt32(0,t.getInt32(0,!0),!0),e.setInt32(4,t.getInt32(4,!0),!0)}function er(e,t){e.setInt32(0,t.getInt32(0,!0),!0),e.setInt32(4,t.getInt32(4,!0),!0),e.setInt32(8,t.getInt32(8,!0),!0),e.setInt32(12,t.getInt32(12,!0),!0)}function tr(e,t){e.setInt32(0,t.getInt32(0,!0),!0),e.setInt32(4,t.getInt32(4,!0),!0),e.setInt32(8,t.getInt32(8,!0),!0),e.setInt32(12,t.getInt32(12,!0),!0),e.setInt32(16,t.getInt32(16,!0),!0),e.setInt32(20,t.getInt32(20,!0),!0),e.setInt32(24,t.getInt32(24,!0),!0),e.setInt32(28,t.getInt32(28,!0),!0)}function nr(e){switch(e){case 1:return cr;case 2:return ur;case 4:return ar;case 8:return lr;case 16:return fr;case 32:return yr;default:return e&7?e&3?e&1?rr:sr:ir:or}}function rr(e){for(let t=0,n=e.byteLength;t<n;t++)e.setInt8(t,0)}function sr(e){for(let t=0,n=e.byteLength;t<n;t+=2)e.setInt16(t,0,!0)}function ir(e){for(let t=0,n=e.byteLength;t<n;t+=4)e.setInt32(t,0,!0)}function or(e){for(let t=0,n=e.byteLength;t<n;t+=8)e.setInt32(t,0,!0),e.setInt32(t+4,0,!0)}function cr(e){e.setInt8(0,0)}function ur(e){e.setInt16(0,0,!0)}function ar(e){e.setInt32(0,0,!0)}function lr(e){e.setInt32(0,0,!0),e.setInt32(4,0,!0)}function fr(e){e.setInt32(0,0,!0),e.setInt32(4,0,!0),e.setInt32(8,0,!0),e.setInt32(12,0,!0)}function yr(e){e.setInt32(0,0,!0),e.setInt32(4,0,!0),e.setInt32(8,0,!0),e.setInt32(12,0,!0),e.setInt32(16,0,!0),e.setInt32(20,0,!0),e.setInt32(24,0,!0),e.setInt32(28,0,!0)}function C(){{const e=this[O],t=e[O];if(!t||e.buffer.byteLength!==0)return!1;const{memory:n,address:r,len:s}=t,o=new DataView(n.buffer,r,s);return o[O]=t,this[O]=o,!0}}function oe(e){const t=k(e);throw new TypeError(`An initializer must be provided to the constructor of ${t}, even when it's undefined`)}function Wt(e,t,n=null){const{type:r,byteSize:s}=e,o=k(e),f=t.byteLength,l=s>1?"s":"";if(r===$.Slice&&!n)throw new TypeError(`${o} has elements that are ${s} byte${l} in length, received ${f}`);{const a=r===$.Slice?n.length*s:s;throw new TypeError(`${o} has ${a} byte${l}, received ${f}`)}}function mr(e){const{type:t,byteSize:n,typedArray:r}=e,s=n>1?"s":"",o=["ArrayBuffer","DataView"].map(Q);throw r&&o.push(Q(r.name)),t===$.Slice?new TypeError(`Expecting ${lt(o)} that can accommodate items ${n} byte${s} in length`):new TypeError(`Expecting ${lt(o)} that is ${n} byte${s} in length`)}function br(e,t){const n=k(e);throw new TypeError(`Value given does not correspond to an item of enum ${n}: ${t}`)}function pr(e,t){const n=k(e);throw new TypeError(`Enum item of the type ${n} expected, received ${t}`)}function hr(e){const t=k(e);throw new TypeError(`Cannot create new enum item
Call ${t} without the use of "new" to obtain an enum object`)}function dr(e){const t=k(e);throw new TypeError(`Cannot create new error
Call ${t} without the use of "new" to obtain an error object`)}function gr(e){const t=k(e);throw new TypeError(`Error given is not a part of error set ${t}`)}function wr(e,t){const n=k(e);throw new TypeError(`Error number does not corresponds to any error in error set ${n}: #${t}`)}function qe(e,t,n){const r=k(e),s=[];if(Array.isArray(t))for(const f of t)s.push(Q(f));else s.push(Q(t));const o=Ht(n);throw new TypeError(`${r} expects ${lt(s)} as argument, received ${o}`)}function le(e,t,n=!1){const{instance:{members:[r]},type:s,typedArray:o}=e,f=[],l=an(r);l?f.push(`array of ${l}s`):r.type===v.EnumerationItem?f.push("array of enum items"):f.push("array of objects"),o&&f.push(o.name),s===$.Slice&&n&&f.push("length"),qe(e,f.join(" or "),t)}function ke(e,t,n){const{length:r,instance:{members:[s]}}=e,o=k(e),{structure:{constructor:f}}=s,{length:l,constructor:a}=n,m=(t==null?void 0:t.length)??r,u=m>1?"s":"";let i;throw a===f?i="only a single one":a.child===f?i=`a slice/array that has ${l}`:i=`${l} initializer${l>1?"s":""}`,new TypeError(`${o} has ${m} element${u}, received ${i}`)}function Sr(e,t){const{instance:{members:n}}=e,r=k(e),s=[];for(const{name:o,isRequired:f}of n)f&&(t==null?void 0:t[o])===void 0&&s.push(o);throw new TypeError(`Missing initializers for ${r}: ${s.join(", ")}`)}function bt(e,t){const n=k(e);throw new TypeError(`${n} does not have a property with that name: ${t}`)}function Or(e,t){const{instance:{members:n}}=e,r=k(e),s=n.length-1,o=s>1?"s":"";throw new Error(`${r} expects ${s} argument${o}, received ${t}`)}function zr(e,t,n){const{instance:{members:r}}=e,s=k(e),o=`args[${t}]`,f=r.length-1,l=t!==0?"..., ":"",a=t!==f-1?", ...":"",m=l+o+a,u=new n.constructor(`${s}(${m}): ${n.message}`);throw u.stack=n.stack,u}function jr(e){throw new TypeError("Non-slice pointers can only be created with the help of the new operator")}function Ar(e,t){const n=k(e),{constructor:{name:r}}=t;throw new TypeError(`Conversion of ${r} to ${n} requires an explicit cast`)}function Ct(e,t,n,r){const s=k(e);throw new TypeError(`${s} expects the sentinel value ${t} at ${r-1}, found at ${n}`)}function Ae(e,t,n){const r=k(e);throw new TypeError(`${r} expects the sentinel value ${t} at ${n-1}`)}function Ir(e){const{constructor:{name:t}}=e;throw new TypeError(`${t} cannot be modified`)}function Ce(e,t){const n=Ht(t);throw new TypeError(`Expected ${Q(e)}, received ${n}`)}function Pr(e,t){const n=k(e);let r;if(t!=null){const s=typeof t,o=s==="object"&&t.constructor!==Object?`${t.constructor.name} object`:s;r=`${Xt(o)} ${o}`}else r=t+"";throw new TypeError(`${n} cannot point to ${r}`)}function vr(e,t){throw new TypeError("Pointers in fixed memory cannot point to garbage-collected object")}function Er(e,t){const n=Qt(e);throw new TypeError(`${n} cannot represent the value given: ${t}`)}function Vr(e,t){const{name:n}=e;throw new RangeError(`Index exceeds the size of ${n??"array"}: ${t}`)}function Mt(e,t,n){if(n instanceof RangeError)Vr(e,t);else throw n}function Ur(e){throw new Error(pt(e))}function pt(e){try{const t=e.replace(/(\p{Uppercase}+)(\p{Lowercase}*)/gu,(n,r,s)=>{if(r.length===1)return` ${r.toLocaleLowerCase()}${s}`;if(s){const o=r.substring(0,r.length-1),f=r.charAt(r.length-1).toLocaleLowerCase();return` ${o} ${f}${s}`}else return` ${r}`}).trimStart();return t.charAt(0).toLocaleUpperCase()+t.substring(1)}catch{return e}}function Ht(e){const t=typeof e;let n;return t==="object"?n=e?Object.prototype.toString.call(e):"null":n=t,Q(n)}function Q(e){return`${Xt(e)} ${e}`}function Xt(e){return/^\W*[aeiou]/i.test(e)?"an":"a"}function lt(e,t="or"){const n=` ${t} `;return e.length>2?e.slice(0,-1).join(", ")+n+e[e.length-1]:e.join(n)}function ht(e,t){return kr(e,t,n=>DataView.prototype[n])}function Yt(e,t){return ht(e,t)}function $r(e,t){return ht(e,t)}function Rr(e,t){return ht(e,t)}function dt(e,t){const{type:n,byteSize:r,typedArray:s}=e;let o;const f=t==null?void 0:t[Symbol.toStringTag];if(f==="DataView")o=t;else if(f==="ArrayBuffer"||f==="SharedArrayBuffer")o=new DataView(t);else if(s&&f===s.name||f==="Uint8ClampedArray"&&s===Uint8Array)o=new DataView(t.buffer,t.byteOffset,t.byteLength);else if(f==="Uint8Array"&&typeof Buffer=="function"&&t instanceof Buffer)o=new DataView(t.buffer,t.byteOffset,t.byteLength);else{const l=t==null?void 0:t[O];if(l&&(n===$.Array||n===$.Slice||n===$.Vector)){const{instance:{members:[a]}}=e,{byteSize:m,structure:{constructor:u}}=a,i=Jt(t,u);if(i!==void 0){if(n===$.Slice||i*m===r)return l;ke(e,null,t)}}}return o&&Zt(e,o),o}function Zt(e,t){const{type:n,byteSize:r}=e;(n===$.Slice?t.byteLength%r!==0:t.byteLength!==r)&&Wt(e,t)}function Jt(e,t){const{constructor:n}=e;if(n===t)return 1;if(n.child===t)return e.length}function me(e,t){const n=dt(e,t);return n||mr(e),n}function Tr(e){const{type:t,instance:{members:n}}=e;if(t===$.Primitive){const{type:r,byteSize:s}=n[0];if(r===v.Int)switch(s){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array;case 8:return BigInt64Array}else if(r===v.Uint)switch(s){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array;case 8:return BigUint64Array}else if(r===v.Float)switch(s){case 4:return Float32Array;case 8:return Float64Array}}else if(t===$.Array||t===$.Slice||t===$.Vector){const{structure:{typedArray:r}}=n[0];return r}return null}function Me(e){return e.typedArray=Tr(e)}function xr(e,t){const n=e==null?void 0:e[Symbol.toStringTag];return!!t&&n===t.name}function Dr(e,t){const n=t[we];if(n){const r=e==null?void 0:e[Symbol.toStringTag];if(n.includes(r))return!0}return!!(t.child&&Jt(e,t.child)!==void 0)}function Be(e){const{typedArray:t}=e,n=[];return t&&(n.push(t.name),n.push("DataView"),t===Uint8Array&&(n.push("Uint8ClampedArray"),n.push("ArrayBuffer"),n.push("SharedArrayBuffer"))),n}function qr(e,t){const n=e==null?void 0:e[Symbol.toStringTag];return n==="DataView"||n==="ArrayBuffer"||n==="SharedArrayBuffer"?!0:!!(t&&n===t.name)}function Qt(e){const{type:t,bitSize:n,byteSize:r,structure:s}=e;if((s==null?void 0:s.name)==="usize")return"USize";if((s==null?void 0:s.name)==="isize")return"ISize";if(t===v.Int)return`${n<=32?"":"Big"}Int${n}`;if(t===v.Uint)return`${n<=32?"":"Big"}Uint${n}`;if(t===v.Float)return`Float${n}`;if(t===v.Bool)return`Bool${r!==void 0?r*8:1}`;if(t===v.Void)return"Null"}function kr(e,t,n){const{type:r,bitOffset:s,bitSize:o}=t,f=s&7,l=Qt(t),a=Fr(t)?"":`Bit${f}`,m=`${e}${l}${a}`;let u=Bt[m];if(!u){if(r===v.Int&&l==="ISize"||r===v.Uint&&l==="USize"){if(o===64){const i=r===v.Int?"BigInt64":"BigUint64",c=`${e}${i}`;if(e==="get"){const d=n(c),y=BigInt(Number.MIN_SAFE_INTEGER),b=BigInt(Number.MAX_SAFE_INTEGER);u=function(S,h){const I=d.call(this,S,h);return y<=I&&I<=b?Number(I):I}}else{const d=n(c);u=function(y,b,S){typeof b=="number"&&(b=BigInt(b)),d.call(this,y,b,S)}}}else if(o===32){const i=r===v.Int?"Int32":"Uint32",c=`${e}${i}`;if(e==="get")u=n(c);else{const d=n(c);u=function(y,b,S){typeof b=="bigint"&&(b=Number(b)),d.call(this,y,b,S)}}}}else u=n(m);u&&u.name!==m&&Object.defineProperty(u,"name",{value:m,configurable:!0,writable:!1}),Bt[m]=u}return u}const Bt={},v={Void:0,Bool:1,Int:2,Uint:3,Float:4,EnumerationItem:5,Object:6,Type:7,Comptime:8},ce=Array(Object.values(v).length);function Cr(){ce[v.Int]=Kr}function Mr(){ce[v.Uint]=Gr}function Br(){ce[v.Float]=Wr}function Lr(){ce[v.EnumerationItem]=Hr}function Nr(){ce[v.Object]=Yr}function _r(){ce[v.Type]=Zr}function Fr({bitOffset:e,bitSize:t,byteSize:n}){return n!==void 0||!(e&7)&&!(t&7)||t===0}function L(e,t={}){const n=ce[e.type];return{get:n("get",e,t),set:n("set",e,t)}}function Kr(e,t,n){const r=en(n,Yt);return Le(e,t,n,r)}function Gr(e,t,n){const r=en(n,$r);return Le(e,t,n,r)}function en(e,t){return function(n,r){const{runtimeSafety:s=!0}=e,o=t(n,r);if(s&&n==="set"){const{min:f,max:l}=rs(r);return function(a,m,u){(m<f||m>l)&&Er(r,m),o.call(this,a,m,u)}}return o}}function Wr(e,t,n){return Le(e,t,n,Rr)}function Hr(e,t,n){const r=Xr(Yt);return Le(e,t,n,r)}function Xr(e){return function(t,n){let{bitSize:r,byteSize:s}=n;s&&(r=s*8);const o={type:v.Int,bitSize:r,byteSize:s},f=e(t,o),{structure:l}=n;return t==="get"?function(a,m){const{constructor:u}=l,i=f.call(this,a,m),c=u(i);return c||br(l,i),c}:function(a,m,u){const{constructor:i}=l;let c;m instanceof i?c=m:c=i(m),c||pr(l,m),f.call(this,a,c.valueOf(),u)}}}function Yr(e,t,n){const{structure:r,slot:s}=t;let o=!1;switch(r.type){case $.ErrorUnion:case $.Optional:o=!0;break}return s!==void 0?e==="get"?o?function(){return this[K][s].call(this).$}:function(){return this[K][s].call(this)}:function(l){const a=this[K][s].call(this);a.$=l}:e==="get"?o?function(l){return this[K](l).$}:function(l){return this[K](l)}:function(l,a){const m=this[K](l);m.$=a}}function Zr(e,t,n){const{structure:r}=t;if(e==="get")return function(){const{constructor:s}=r;return s}}function Le(e,t,n,r){const{littleEndian:s=!0}=n,{bitOffset:o,byteSize:f}=t,l=r(e,t);if(o!==void 0){const a=o>>3;return e==="get"?function(){try{return l.call(this[O],a,s)}catch(m){if(m instanceof TypeError&&C.call(this))return l.call(this[O],a,s);throw m}}:function(m){try{return l.call(this[O],a,m,s)}catch(u){if(u instanceof TypeError&&C.call(this))return l.call(this[O],a,m,s);throw u}}}else return e==="get"?function(a){try{return l.call(this[O],a*f,s)}catch(m){if(m instanceof TypeError&&C.call(this))return l.call(this[O],a*f,s);Mt(t,a,m)}}:function(a,m){try{return l.call(this[O],a*f,m,s)}catch(u){if(u instanceof TypeError&&C.call(this))return l.call(this[O],a*f,m,s);Mt(t,a,u)}}}function ue(e){const{constructor:t,instance:{members:n}}=e;Object.defineProperties(t.prototype,{dataView:{...Jr(e),configurable:!0},base64:{...Qr(),configurable:!0},toJSON:{value:Nt,configurable:!0,writable:!0},valueOf:{value:Nt,configurable:!0,writable:!0}}),tn(e)&&Object.defineProperty(t.prototype,"string",{...es(e),configurable:!0}),nn(e)&&Object.defineProperty(t.prototype,"typedArray",{...ts(e),configurable:!0})}function tn(e){if(e.type===$.Array||e.type===$.Slice){const{type:t,bitSize:n}=e.instance.members[0];if(t===v.Uint&&(n===8||n===16))return!0}return!1}function nn(e){return!!e.typedArray}function Ne(e){const t=["dataView","base64"];return tn(e)&&t.push("string"),nn(e)&&t.push("typedArray"),t}function Jr(e){const{type:t,byteSize:n,sentinel:r}=e,s=_(n,t===$.Slice);return{get(){return C.call(this),this[O]},set(o){rn(o),C.call(this);const f=this[O];f.byteLength!==o.byteLength&&Wt(e,o,this),r==null||r.validateData(o,this.length),s(f,o)}}}function rn(e){return(e==null?void 0:e[Symbol.toStringTag])!=="DataView"&&Ce("a DataView",e),e}function Qr(){return{get(){const e=this.dataView,t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=String.fromCharCode.apply(null,t);return btoa(n)},set(e){this.dataView=sn(e)}}}function sn(e){typeof e!="string"&&Ce("a string",e);const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<n.byteLength;r++)n[r]=t.charCodeAt(r);return new DataView(n.buffer)}const Lt={};function es(e){const{sentinel:t,instance:{members:[n]}}=e,{byteSize:r}=n;return{get(){let s=Lt[r];s||(s=Lt[r]=new TextDecoder(`utf-${r*8}`));const o=this.dataView,f=r===1?Int8Array:Int16Array,l=new f(o.buffer,o.byteOffset,this.length),a=s.decode(l);return(t==null?void 0:t.value)===void 0?a:a.slice(0,-1)},set(s){this.dataView=on(s,r,t==null?void 0:t.value)}}}let ut;function on(e,t,n){typeof e!="string"&&Ce("a string",e),n!==void 0&&e.charCodeAt(e.length-1)!==n&&(e=e+String.fromCharCode(n));let r;if(t===1)ut||(ut=new TextEncoder(`utf-${t*8}`)),r=ut.encode(e);else if(t===2){const{length:s}=e;r=new Uint16Array(s);for(let o=0;o<s;o++)r[o]=e.charCodeAt(o)}return new DataView(r.buffer)}function ts(e){const{typedArray:t}=e;return{get(){const n=this.dataView,r=n.byteLength/t.BYTES_PER_ELEMENT;return new t(n.buffer,n.byteOffset,r)},set(n){this.dataView=cn(n,t)}}}function cn(e,t){return xr(e,t)||Ce(t.name,e),new DataView(e.buffer,e.byteOffset,e.byteLength)}function Nt(){const e=new WeakMap;function t(n){if(n[Symbol.iterator]){const r=[];for(const s of n)r.push(t(s));return r}else if(n&&(typeof n=="object"||typeof n=="function")){let r=e.get(n);if(!r){r={},e.set(n,r);for(const[s,o]of Object.entries(n)){const f=t(o);f!==void 0&&(r[s]=f)}return r}return r}else return n}return t(this.$)}function ns(e){const{byteSize:t,instance:{members:[n]},options:r}=e;Me(e);const s=e.constructor=function(u){const i=this instanceof s;let c,d;if(i?(arguments.length===0&&oe(e),c=this,d=new DataView(new ArrayBuffer(t))):(c=Object.create(s.prototype),d=me(e,u)),c[O]=d,i)l.call(c,u);else return c},o=_(t),f=Ne(e),l=function(u){if(u instanceof s)C.call(this),C.call(u),o(this[O],u[O]);else if(u&&typeof u=="object"){for(const c of Object.keys(u))c in this||bt(e,c);let i=0;for(const c of f)c in u&&i++;if(i===0){const c=an(n);qe(e,c,u)}for(const c of f)c in u&&(this[c]=u[c])}else u!==void 0&&(this.$=u)},{get:a,set:m}=L(n,r);return Object.defineProperties(s.prototype,{$:{get:a,set:m,configurable:!0},[Symbol.toPrimitive]:{value:a,configurable:!0,writable:!0}}),Object.defineProperty(s,we,{value:Be(e)}),ue(e),s}function rs(e){const{type:t,bitSize:n}=e,r=t===v.Int;let s=r?n-1:n;if(n<=32){const o=2**s-1;return{min:r?-(2**s):0,max:o}}else{s=BigInt(s);const o=2n**s-1n;return{min:r?-(2n**s):0n,max:o}}}function un({type:e,bitSize:t}){if(e===v.Int||e===v.Uint)return t<=32?Number:BigInt;if(e===v.Float)return Number;if(e===v.Bool)return Boolean}function an(e){const t=un(e);if(t)return typeof t(0)}function ss(e){const{byteSize:t,instance:{members:[n]},isConst:r,options:s}=e,{runtimeSafety:o=!0}=s,{structure:f}=n,l=f.type===$.Slice,a=f.type===$.Pointer,m=l?t/2:t,u={name:"usize",byteSize:m},i=L({type:v.Uint,bitOffset:0,bitSize:m*8,byteSize:m,structure:u},s).set,c=l?L({type:v.Uint,bitOffset:m*8,bitSize:m*8,byteSize:m,structure:u},s).set:null,d=e.constructor=function(b){const S=this===Z,h=this===yt;let I=this instanceof d,V,R;if(I)arguments.length===0&&oe(e),V=this,R=new DataView(new ArrayBuffer(t));else if(V=Object.create(d.prototype),S||h)R=me(e,b);else{const x=f.constructor;Ft(b,x)?(I=!0,b=b["*"]):l?(I=!0,b=x(b)):jr()}return V[O]=R,V[P]={0:null},V[Z]=S,I&&y.call(V,b),as.call(V,r,a)},y=function(b){if(b instanceof d)Ie(this)?y.call(this,b[P][0]):se.call(this,b);else{const S=f.constructor;if(Ft(b,S))!r&&b.constructor.const&&Ar(e,b),se.call(this,b);else{if(!(b instanceof S))if(Dr(b,S)){const h=dt(f,b);b=S(h)}else if(l){const h=new S(b);if(o&&f.typedArray&&qr(b==null?void 0:b.buffer)){const I=Q(f.typedArray.name),V=Q(b.constructor.name);console.warn(`Implicitly creating ${I} from ${V}`)}b=h}else Pr(e,b);if(Ie(this))if(Ie(b)){const{address:h}=Ie(b);i.call(this,h),c&&c.call(this,b.length)}else vr();this[P][0]=b}}};return Object.defineProperties(d.prototype,{"*":{get:is,set:r?void 0:os,configurable:!0},$:{get:ln,set:y,configurable:!0},valueOf:{value:cs,configurable:!0,writable:!0},[B]:{value:us}}),Object.defineProperties(d,{child:{get:()=>f.constructor},const:{value:r}}),d}function ln(){return this[ye]}function se(e){this[P][0]=e[P][0]}function _t(){this[P][0]=null}function is(){return this[P][0].$}function os(e){const t=this[P][0];t.$=e}function cs(){return this[P][0].$.valueOf()}function us(e,t,n){n.call(this,t)}function Ft(e,t){var n;return((n=e==null?void 0:e.constructor)==null?void 0:n.child)===t&&e["*"]}function Ie(e){var t;return(t=e==null?void 0:e[O])==null?void 0:t[O]}function as(e,t){const n=t?{}:e?ls:fn,r=new Proxy(this,n);return Object.defineProperty(this,ye,{value:r}),r}const re={$:!0,"*":!0,constructor:!0,valueOf:!0,[Z]:!0,[P]:!0,[O]:!0,[ye]:!0,[B]:!0,[Symbol.toStringTag]:!0,[Symbol.toPrimitive]:!0},fn={get(e,t){return re[t]?e[t]:e[P][0][t]},set(e,t,n){return re[t]?e[t]=n:e[P][0][t]=n,!0},deleteProperty(e,t){return re[t]?delete e[t]:delete e[P][0][t],!0},has(e,t){return re[t]||t in e[P][0]},ownKeys(e){return[...Object.getOwnPropertyNames(e[P][0]),ye,B]},getOwnPropertyDescriptor(e,t){return re[t]?Object.getOwnPropertyDescriptor(e,t):Object.getOwnPropertyDescriptor(e[P][0],t)}},ls={...fn,set(e,t,n){return re[t]?e[t]=n:Ir(e),!0},getOwnPropertyDescriptor(e,t){if(re[t])return Object.getOwnPropertyDescriptor(e,t);{const n=Object.getOwnPropertyDescriptor(e[P][0],t);return n!=null&&n.set&&(n.set=void 0),n}}};function fs(e){const{length:t,byteSize:n,instance:{members:[r]},hasPointer:s,options:o}=e;Me(e);const f=r.type===v.Object,l=e.constructor=function(y){const b=this instanceof l;let S,h;return b?(arguments.length===0&&oe(e),S=this,h=new DataView(new ArrayBuffer(n))):(S=Object.create(l.prototype),h=me(e,y)),S[O]=h,S[te]=null,S[ne]=null,f&&(S[P]={}),b&&i.call(S,y),hn.call(S)},{structure:a}=r,m=_(n),u=Ne(e),i=function(y){if(y instanceof l)C.call(this),C.call(y),m(this[O],y[O]),s&&this[B](!0,y,se);else if(typeof y=="string"&&u.includes("string")&&(y={string:y}),y!=null&&y[Symbol.iterator]){let b=y.length;typeof b!="number"&&(y=[...y],b=y.length),b!==t&&ke(e,this,y);let S=0;for(const h of y)d.call(this,S++,h)}else if(y&&typeof y=="object"){for(const S of Object.keys(y))S in this||throwNoProperty(e,S);let b=0;for(const S of u)S in y&&b++;b===0&&le(e,y);for(const S of u)S in y&&(this[S]=y[S])}else y!==void 0&&le(e,y)},{get:c,set:d}=L(r,o);return Object.defineProperties(l.prototype,{get:{value:c,configurable:!0,writable:!0},set:{value:d,configurable:!0,writable:!0},length:{value:t,configurable:!0},$:{get:ln,set:i,configurable:!0},[Symbol.iterator]:{value:bn,configurable:!0,writable:!0},entries:{value:pn,configurable:!0,writable:!0}}),Object.defineProperties(l,{child:{get:()=>a.constructor},[we]:{value:Be(e)}}),f&&(yn(e),s&&mn(e)),ue(e),l}function yn(e){const{constructor:{prototype:t},instance:{members:[n]}}=e,{byteSize:r,structure:s}=n;Object.defineProperty(t,K,{value:function(l){let a=this[P][l];if(!a){const{constructor:m}=s,u=this[O],c=u.byteOffset+r*l,d=new DataView(u.buffer,c,r);a=this[P][l]=m.call(yt,d)}return a}})}function mn(e){const{constructor:{prototype:t}}=e;Object.defineProperty(t,B,{value:function(s,o,f){for(let l=0,a=this.length;l<a;l++){const m=o==null?void 0:o[P][l],u=s?this[K](l):this[P][l];u&&u[B](s,m,f)}}})}function bn(){const e=this[mt]??this,t=this.length;let n=0;return{next(){let r,s;return n<t?(r=e.get(n),s=!1,n++):s=!0,{value:r,done:s}}}}function ys(){const e=this[mt]??this,t=this.length;let n=0;return{next(){let r,s;return n<t?(r=[n,e.get(n)],s=!1,n++):s=!0,{value:r,done:s}}}}function pn(){return{[Symbol.iterator]:ys.bind(this),length:this.length}}function hn(){const e=new Proxy(this,ms);return Object.defineProperty(this,ye,{value:e}),e}const ms={get(e,t){const n=typeof t=="symbol"?0:t|0;if(n!==0||n==t)return e.get(n);switch(t){case"get":return e[te]||(e[te]=e.get.bind(e)),e[te];case"set":return e[ne]||(e[ne]=e.set.bind(e)),e[ne];case mt:return e;default:return e[t]}},set(e,t,n){const r=typeof t=="symbol"?0:t|0;if(r!==0||r==t)e.set(r,n);else switch(t){case"get":e[te]=n;break;case"set":e[ne]=n;break;default:e[t]=n}return!0},deleteProperty(e,t){const n=typeof t=="symbol"?0:t|0;if(n!==0||n==t)return!1;switch(t){case"get":delete e[te];break;case"set":delete e[ne];break;default:delete e[t]}return!0},has(e,t){const n=typeof t=="symbol"?0:t|0;return n!==0||n==t?n>=0&&n<e.length:e[t]},ownKeys(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(`${n}`);return t.push("length",ye),t},getOwnPropertyDescriptor(e,t){const n=typeof t=="symbol"?0:t|0;if(n!==0||n==t){if(n>=0&&n<e.length)return{value:e.get(n),enumerable:!0,writable:!0,configurable:!0}}else return Object.getOwnPropertyDescriptor(e,t)}};function dn(e){const{constructor:t,static:{members:n,template:r},options:s}=e,o={};for(const f of n){let{get:l,set:a}=L(f,s);const{type:m,slot:u,structure:{isConst:i}}=f;if(m===v.Object){const c=l;l=function(){return c.call(this)["*"]},a=i?void 0:function(d){const y=c.call(this);y["*"]=d},o[u]=()=>r[P][u]}Object.defineProperty(t,f.name,{get:l,set:a,configurable:!0,enumerable:!0})}Object.defineProperty(t,K,{value:o})}function gn(e){const{constructor:t,instance:{methods:n},static:{methods:r}}=e;for(const s of r){let{name:o,argStruct:f,thunk:l}=s;const a=function(...m){const{constructor:u}=f,i=new u(m);return Kt(l,i)};Object.defineProperty(a,"name",{value:o,writable:!1}),Object.defineProperty(t,o,{value:a,configurable:!0,writable:!0})}for(const s of n){let{name:o,argStruct:f,thunk:l}=s;const a=function(...m){const{constructor:u}=f,i=new u([this,...m]);return Kt(l,i)};Object.defineProperty(a,"name",{value:o,writable:!1}),Object.defineProperty(Object.prototype,o,{value:a,configurable:!0,writable:!0})}}function Kt(e,t){{const n=e(t);if(n!==void 0){if(n instanceof Promise)return n.then(()=>t.retval);Ur(n)}}return t.retval}function bs(e){const{byteSize:t,instance:{members:n,template:r},hasPointer:s,options:o}=e,f={};for(const y of n)if(y.type===v.Comptime){const{slot:b}=y,h=r[P][b]["*"];f[y.name]={value:h,configurable:!0,enumerable:!0},delete r[P][b]}else{const{get:b,set:S}=L(y,o);f[y.name]={get:b,set:S,configurable:!0,enumerable:!0}}const l=Object.keys(f),a=!!n.find(y=>y.type===v.Object),m=e.constructor=function(y){const b=this instanceof m;let S,h;if(b?(arguments.length===0&&oe(e),S=this,h=new DataView(new ArrayBuffer(t))):(S=Object.create(m.prototype),h=dt(e,y)),S[O]=h,Object.defineProperties(S,f),a&&(S[P]={}),b)d.call(S,y);else return S},u=_(t),i=Ne(e),c=n.filter(y=>y.isRequired).map(y=>y.name),d=function(y){if(y instanceof m)C.call(this),C.call(y),u(this[O],y[O]),s&&this[B](!0,y,se);else if(y&&typeof y=="object"){let b=0;for(const I of l)I in y&&b++;let S=0;for(const I of c)I in y&&S++;let h=0;if(!y[O])for(const I of i)I in y&&h++;for(const I of Object.keys(y))I in this||bt(e,I);if(h===0&&S<c.length&&Sr(e,y),r&&h===0&&b<l.length&&(u(this[O],r[O]),s&&this[B](!0,r,se)),h>0)for(const I of i)I in y&&(this[I]=y[I]);else if(b>0)for(const I of l)I in y&&(this[I]=y[I])}else y!==void 0&&qe(e,"object",y)};return Object.defineProperty(m.prototype,"$",{get:gt,set:d,configurable:!0}),ue(e),a&&(wt(e),s&&wn(e)),dn(e),gn(e),m}function gt(){return this}function wt(e){const{constructor:{prototype:t},instance:{members:n}}=e,r=n.filter(o=>o.type===v.Object),s={};for(const{slot:o,bitOffset:f,byteSize:l,structure:a}of r)s[o]=function(){let u=this[P][o];if(!u){const{constructor:i}=a,c=this[O],y=c.byteOffset+(f>>3),b=new DataView(c.buffer,y,l);u=this[P][o]=i.call(yt,b)}return u};Object.defineProperty(t,K,{value:s})}function wn(e){const{constructor:{prototype:t},instance:{members:n}}=e,r=n.filter(o=>o.structure.hasPointer);Object.defineProperty(t,B,{value:function(f,l,a){var m;for(const{slot:u}of r){let i;if(l&&(i=(m=l[P])==null?void 0:m[u],!i))continue;const c=f?this[K][u].call(this):this[P][u];c&&c[B](f,i,a)}}})}function ps(e){const{byteSize:t,instance:{members:n},options:r,hasPointer:s}=e,o=!!n.find(c=>c.type===v.Object),f=e.constructor=function(c){const d=this instanceof f;let y,b;if(d?(arguments.length===0&&oe(e),y=this,b=new DataView(new ArrayBuffer(t))):(y=Object.create(f.prototype),b=me(e,c)),y[O]=b,o&&(y[P]={}),d)a.call(this,c);else return y},l=_(t),a=function(c){c instanceof f?(l(this[O],c[O]),s&&i.call(this)&&this[B](!0,c,se)):this.$=c},{get:m,set:u,check:i}=hs(n,t,r);return Object.defineProperty(f.prototype,"$",{get:m,set:u,configurable:!0}),o&&(wt(e),s&&wn(e)),ue(e),f}function hs(e,t,n){const{get:r,set:s}=L(e[0],n),{get:o,set:f}=L(e[1],n),{structure:l}=e[1],{constructor:a}=l,m=nr(t);return{get:function(){var i;const u=o.call(this);if(u!==0){const c=a(u);throw c||wr(l,u),(i=this[B])==null||i.call(this,!1,null,_t),c}else return r.call(this)},set:function(u){var i;u instanceof Error?(u instanceof a||gr(l),m(this[O]),f.call(this,u.index),(i=this[B])==null||i.call(this,!1,null,_t)):(s.call(this,u),f.call(this,0))},check:function(){return o.call(this)===0}}}let Sn;function ds(e){const{name:t,instance:{members:n}}=e,r=Sn,s=e.constructor=function(a){this instanceof s&&dr(e);const u=Number(a);return r[u]};Object.setPrototypeOf(s.prototype,Error.prototype);const o=function(){return this[je]},f=function(){return"Error"};Object.defineProperties(s.prototype,{index:{get:o,configurable:!0},[Symbol.toStringTag]:{get:f,configurable:!0}});let l;for(const[a,{name:m,slot:u}]of n.entries()){let i=r[u];if(i){if(!(i instanceof s)){l||(l=n.map(y=>y.slot));const c=i.constructor,d=Object.values(c);if(d.every(y=>l.includes(y[je])))Object.setPrototypeOf(c.prototype,s.prototype);else{Object.setPrototypeOf(s.prototype,c.prototype);for(const y of d)l.includes(y[je])&&Object.setPrototypeOf(y,s.prototype)}}}else{i=Object.create(s.prototype);const c=pt(m);Object.defineProperties(i,{message:{value:c,configurable:!0,enumerable:!0,writable:!1},[je]:{value:u}}),r[u]=i}Object.defineProperties(s,{[m]:{value:i,configurable:!0,enumerable:!0,writable:!0}})}return s}function gs(){Sn={}}function ws(e){const{instance:{members:t,template:n},options:r}=e,s=un(t[0]),{get:o}=L(t[0],r),f=t.length,l={},a=e.constructor=function(i){if(this instanceof a&&hr(e),typeof i=="number"||typeof i=="bigint"){let d=-1;if(u)d=Number(i);else{const y=s(i);for(let b=0;b<f;b++)if(o.call(a,b)===y){d=b;break}}return l[d]}else{if(i&&typeof i=="object"&&i[kt])return i[kt];if(typeof i=="string")return a[i];qe(e,["number","string","tagged union"],i)}};Object.defineProperties(a,{[O]:{value:n[O]},[Kn]:{value:l}});const m=function(){const i=this[qt];return o.call(a,i)};Object.defineProperties(a.prototype,{[Symbol.toPrimitive]:{value:m,configurable:!0,writable:!0},$:{get:m,configurable:!0}});const u=(()=>{try{for(let i=0;i<f;i++)if(o.call(a,i)!==i)return!1;return!0}catch{return!1}})();for(const[i,{name:c}]of t.entries()){const d=Object.create(a.prototype);Object.defineProperties(d,{[qt]:{value:i},[Fn]:{value:c}}),Object.defineProperties(a,{[c]:{value:d,configurable:!0,enumerable:!0,writable:!0}}),l[i]=d}return ue(e),dn(e),gn(e),a}function Ss(e){const{instance:{members:[t]},hasPointer:n,options:r}=e,s=Me(e),o=t.type===v.Object,{byteSize:f,structure:l}=t,a=zs(e,r);a&&(e.sentinel=a);const m=e.constructor=function(h){const I=this instanceof m;let V;if(I)arguments.length===0&&oe(e),V=this,y.call(V,h);else{V=Object.create(m.prototype);const R=me(e,h);c.call(V,R,R.byteLength/f,this)}return hn.call(V)},u=_(f,!0),i=Ne(e),c=function(h,I,V=null){h||(h=new DataView(new ArrayBuffer(I*f))),this[O]=h,this[te]=null,this[ne]=null,this[at]=I,o&&(this[P]={})},d=function(h,I){I!==this[at]&&ke(e,this,h)},y=function(h){let I=!this.hasOwnProperty(O);if(h instanceof m)I?c.call(this,null,h.length):d.call(this,h,h.length),C.call(this),C.call(h),u(this[O],h[O]),n&&this[B](!0,h,se);else if(typeof h=="string"&&i.includes("string")&&(h={string:h}),h!=null&&h[Symbol.iterator]){let V=h.length;typeof V!="number"&&(h=[...h],V=h.length),this[O]?d.call(this,h,V):c.call(this,null,V);let R=0;for(const x of h)a==null||a.validateValue(x,R,V),S.call(this,R++,x)}else if(typeof h=="number")I&&h>=0&&isFinite(h)?c.call(this,null,h):le(e,h,I);else if(h&&typeof h=="object"){for(const R of Object.keys(h))R in this||bt(e,R);let V=0;for(const R of i)R in h&&V++;V===0&&le(e,h);for(const R of i)if(R in h)if(I){let x,M=!0;switch(R){case"dataView":x=h[R],rn(x);break;case"typedArray":x=cn(h[R],s);break;case"string":x=on(h[R],f,a==null?void 0:a.value),M=!1;break;case"base64":x=sn(h[R]),M=!1;break}Zt(e,x);const pe=x.byteLength/f;a==null||a.validateData(x,pe),M?(c.call(this,null,pe),u(this[O],x)):c.call(this,x,pe),I=!1}else this[R]=h[R]}else h!==void 0&&le(e,h)},{get:b,set:S}=L(t,r);return Object.defineProperties(m.prototype,{get:{value:b,configurable:!0,writable:!0},set:{value:S,configurable:!0,writable:!0},length:{get:Os,configurable:!0},$:{get:gt,set:y,configurable:!0},[Symbol.iterator]:{value:bn,configurable:!0,writable:!0},entries:{value:pn,configurable:!0,writable:!0}}),Object.defineProperties(m,{child:{get:()=>l.constructor},[we]:{value:Be(e)}}),o&&(yn(e),n&&mn(e)),ue(e),m}function Os(){return this[at]}function zs(e,t){const{runtimeSafety:n=!0}=t,{instance:{members:[r,s],template:o}}=e;if(!s)return;const{get:f}=L(s,t),l=f.call(o,0),{get:a}=L(r,t);return{value:l,validateValue:n?function(i,c,d){i===l&&c!==d-1?Ct(e,i,c,d):i!==l&&c===d-1&&Ae(e,l,c)}:function(i,c,d){i!==l&&c===d-1&&Ae(e,l,d)},validateData:n?function(i,c){const d={[O]:i};for(let y=0;y<c;y++){const b=a.call(d,y);b===l&&y!==c-1?Ct(e,l,y,c):b!==l&&y===c-1&&Ae(e,l,c)}}:function(i,c){const d={[O]:i};if(c>0){const y=c-1;a.call(d,y)!==l&&Ae(e,l,c)}}}}function js(e){const{length:t,byteSize:n,instance:{members:[r]},options:s}=e;Me(e);const o=e.constructor=function(u){const i=this instanceof o;let c,d;if(i?(arguments.length===0&&oe(e),c=this,d=new DataView(new ArrayBuffer(n))):(c=Object.create(o.prototype),d=me(e,u)),c[O]=d,i)m.call(c,u);else return c},{bitSize:f,structure:l}=r,a=_(n),m=function(u){if(u instanceof o)C.call(this),C.call(u),a(this[O],u[O]);else if(u!=null&&u[Symbol.iterator]){let i=u.length;typeof i!="number"&&(u=[...u],i=u.length),i!==t&&ke(e,this,u);let c=0;for(const d of u)this[c++]=d}else u!==void 0&&le(e,u)};for(let u=0,i=0;u<t;u++,i+=f){const{get:c,set:d}=L({...r,bitOffset:i},s);Object.defineProperty(o.prototype,u,{get:c,set:d,configurable:!0})}return Object.defineProperties(o.prototype,{length:{value:t,configurable:!0},$:{get:gt,set:m,configurable:!0},[Symbol.iterator]:{value:As,configurable:!0,writable:!0},entries:{value:Ps,configurable:!0,writable:!0}}),Object.defineProperties(o,{child:{get:()=>l.constructor},[we]:{value:Be(e)}}),ue(e),o}function As(){const e=this,t=this.length;let n=0;return{next(){let r,s;return n<t?(r=e[n],s=!1,n++):s=!0,{value:r,done:s}}}}function Is(){const e=this,t=this.length;let n=0;return{next(){let r,s;return n<t?(r=[n,e[n]],s=!1,n++):s=!0,{value:r,done:s}}}}function Ps(){return{[Symbol.iterator]:Is.bind(this),length:this.length}}function vs(e){const{byteSize:t,instance:{members:n},options:r}=e,s=!!n.find(m=>m.type===v.Object),o=e.constructor=function(m){const u=new DataView(new ArrayBuffer(t));this[O]=u,s&&(this[P]={}),a.call(this,m)},f=n.slice(0,-1).map(m=>m.name),l=f.length,a=function(m){m.length!==l&&Or(e,m.length);for(const[u,i]of f.entries())try{this[i]=m[u]}catch(c){zr(e,u,c)}};for(const m of n){const u=L(m,r);Object.defineProperty(o.prototype,m.name,u)}return s&&wt(e),o}const $={Primitive:0,Array:1,Struct:2,ArgStruct:3,ExternUnion:4,BareUnion:5,TaggedUnion:6,ErrorUnion:7,ErrorSet:8,Enumeration:9,Optional:10,Pointer:11,Slice:12,Vector:13,Opaque:14,Function:15},G=Array(Object.values($).length);function Es(){G[$.Primitive]=ns}function Vs(){G[$.Array]=fs}function Us(){G[$.Struct]=bs}function $s(){G[$.ErrorUnion]=ps}function Rs(){G[$.ErrorSet]=ds}function Ts(){G[$.Enumeration]=ws}function xs(){G[$.Pointer]=ss}function Ds(){G[$.Slice]=Ss}function qs(){G[$.Vector]=js}function ks(){G[$.ArgStruct]=vs}function k(e){let t=e.name;return t=t.replace(/{.*}/,""),t=t.replace(/[^. ]*?\./g,""),t}function Cs(e){try{const t=G[e.type],n=t(e);return typeof n=="function"&&(Object.defineProperties(n,{name:{value:k(e),writable:!1}}),n.prototype.hasOwnProperty(Symbol.toStringTag)||Object.defineProperties(n.prototype,{[Symbol.toStringTag]:{value:e.name,configurable:!0,writable:!1}})),n}catch(t){throw console.error(t),t}}const Gt={Auto:0,Copy:1,Link:2};async function Ms(e,t={}){const{resolve:n,reject:r,promise:s,...o}=t;try{const f=await e,l=await Bs(f,o);n(l)}catch(f){r(f)}return s}async function Bs(e,t={}){const{omitFunctions:n=!1,slots:r={},variables:s,methodRunner:o,writeBack:f=!0}=t;let l=0,a=null,m=null,u=0,i=null,c=null;const d=new TextDecoder,y={};let b=0;const S=r,h=()=>{},V={env:{_startCall:In,_endCall:Pn,_allocMemory:vn,_freeMemory:En,_getMemory:Un,_getMemoryOffset:$n,_getMemoryLength:Rn,_wrapMemory:Tn,_createString:xn,_getPointerStatus:Dn,_setPointerStatus:qn,_readGlobalSlot:kn,_readObjectSlot:Cn,_writeObjectSlot:Mn,_createDataView:Nn,_writeToConsole:_n,_writeGlobalSlot:h,_setObjectPropertyString:h,_setObjectPropertyInteger:h,_setObjectPropertyBoolean:h,_setObjectPropertyObject:h,_beginStructure:h,_attachMember:h,_attachMethod:h,_attachTemplate:h,_finalizeStructure:h,_createObject:h,_createTemplate:h}},R=e[Symbol.toStringTag]==="Response"?WebAssembly.instantiateStreaming(e,V):WebAssembly.instantiate(e,V);let{instance:x}=await R,{memory:M,define:pe,run:Et,alloc:st,free:it,safe:zn}=x.exports,W="",ot=0;Vt();{for(const{address:A,object:U}of s)Rt(U,Number(A));o[0]=function(A,U){const E=ee(U),q=Et(E,A);q!==0&&An(q)};const g=new WeakRef(x);return{abandon:()=>{x=M=pe=st=it=zn=null,Et=function(){throw new Error("WebAssembly instance was abandoned")};for(const{object:A}of s)Tt(A)},released:()=>!g.deref()}}function Vt(){l!==1&&(l=1,a={0:null},m=new WeakMap),u!==1&&(u=1,i={0:null},c={})}function Ut(g,w){const z=new Uint8Array(M.buffer,g,w);return d.decode(z)}function jn(g,w){const z=Ut(g,w);let A=c[z];return A===void 0&&(A=c[z]=u++,i[A]=z),A}function ee(g){const w=l++;return a[w]=g,m.set(g,w),w}function $t(g){const w=m.get(g);return w!==void 0?w:ee(g)}function Rt(g,w){const z=g[O],A=z.byteLength;if(A===0)return;const U=new DataView(M.buffer,w,A);if(f&&_(z.byteLength)(U,z),U[O]={memory:M,address:w,len:A},g[O]=U,g.hasOwnProperty(Z)){const E=g[P][0],q=U.getUint32(0,!0);Rt(E,q)}}function Tt(g){const w=g[O],z=w.byteLength;if(z===0||!w[O])return;const A=new DataView(new ArrayBuffer(z));if(_(w.byteLength)(A,w),g[O]=A,g.hasOwnProperty(Z)){const E=g[P][0];Tt(E)}}function An(g){const w=i[g],z=pt(w);throw new Error(z)}function In(g){y[g]={bufferMap:new Map},b++}function Pn(g){const w=y[g];for(const[z,{address:A,len:U,ptrAlign:E,copy:q,shadow:H}]of w.bufferMap){if(q){const X=new DataView(M.buffer,A,U);q(z,X)}H&&it(g,A,U,E)}delete y[g],b--,b===0&&(Vt(),W&&(console.log(W),W="",clearTimeout(ot)))}function vn(g,w,z){if(w===0)return null;const A=st(g,w,z),{bufferMap:U}=y[g],E=new ArrayBuffer(w),q=new DataView(E),H=_(w);return new DataView(M.buffer,A,w),U.set(q,{address:A,len:w,ptrAlign:z,copy:H,shadow:!0}),A}function En(g,w,z,A){const{bufferMap:U}=y[g];for(const[E,{address:q}]of U)w===q&&(U.delete(E),it(g,w,z,A))}function Vn({address:g},w){const z=(1<<w)-1;return(g&z)!==0}function Un(g,w,z,A){let E=a[w][O];if(!E)return 0;const q=E[O];if(q)return ee(q);{const H=y[g];let X=H.bufferMap.get(E);if(!X){const Y=E.byteLength;if(Y===0)return ee({address:0,len:0});for(const[F,ct]of H.bufferMap)if(E.buffer===F.buffer){if(F.byteOffset<=E.byteOffset&&E.byteOffset+Y<=F.byteOffset+F.byteLength){X={address:ct.address+(E.byteOffset-F.byteOffset),len:Y,copy:null,ptrAlign:z,shadow:!1};break}else if(!(F.byteOffset>=E.byteOffset+Y||E.byteOffset>=F.byteOffset+F.byteLength))return 0}if(X){if(Vn(X,z))return 0}else{const F=st(g,Y,z),ct=new DataView(M.buffer,F,Y),xt=E.byteLength===Y?E:new DataView(E.buffer),Dt=_(Y);Dt(ct,xt),X={address:F,len:Y,copy:A?null:Dt,ptrAlign:z,shadow:!0}}H.bufferMap.set(E,X)}return ee(X)}}function $n(g){return a[g].address}function Rn(g){return a[g].len}function Tn(g,w){const z=a[g];let A=a[w],U;{const{constructor:E}=z;U=E.call(Z,A)}return ee(U)}function xn(g,w){return jn(g,w)}function Dn(g){const z=a[g][Z];return typeof z!="boolean"?-1:z?1:0}function qn(g,w){const z=a[g];z[Z]=!!w}function kn(g){const w=S[g];return w?$t(w):0}function Cn(g,w){const A=a[g][P][w];return A?$t(A):0}function Mn(g,w,z){const A=a[g];A[P][w]=a[z]}function Bn(g,w,z){const A=new ArrayBuffer(z),U=new DataView(A);if(z>0){const E=_(z),q=new DataView(M.buffer,w,z);E(U,q)}return g.bufferMap.set(U,{address:w,len:z,copy:null,ptrAlign:0,shadow:!1}),U}function Ln(g,w,z,A){if(A===Gt.Copy)return Bn(g,w,z);if(A===Gt.Auto){for(const[U,{address:E,len:q}]of g.bufferMap)if(E<=w&&w+z<=E+q){if(z===q)return U;{const H=w-E;return new DataView(U.buffer,H,z)}}}{const U=new DataView(M.buffer,w,z);return U[O]={memory:M,address:w,len:z},U}}function Nn(g,w,z,A){const U=y[g];return ee(Ln(U,w,z,A))}function _n(g,w){const z=Ut(g,w),A=z.lastIndexOf(`
`);A===-1?W+=z:(console.log(W+z.substring(0,A)),W=z.substring(A+1)),clearTimeout(ot),W&&(ot=setTimeout(()=>{console.log(W),W=""},250))}}function Ls(e){const t={},n=[];gs();for(const i of e){for(const c of[i.static,i.instance])c.template&&(c.template=r(c.template));for(const c of i.static.methods)c.thunk=u(c.thunk);Cs(i),t[i.slot]=i}function r(i){const c={};if(i.memory){const{array:d,offset:y,length:b}=i.memory;c[O]=new DataView(d.buffer,y,b)}return i.slots&&(c[P]=s({},i.slots)),c}function s(i,c){for(const[d,y]of Object.entries(c))i[d]=o(y);return i}function o(i){let c;if(i.memory){const{array:b,offset:S,length:h}=i.memory;c=new DataView(b.buffer,S,h)}else{const{byteSize:b}=i.structure;c=new DataView(new ArrayBuffer(b))}const{constructor:d}=i.structure,y=d.call(Z,c);return i.slots&&s(y[P],i.slots),i.address!==void 0&&n.push({address:i.address,object:y}),y}let f,l;const a=new Promise((i,c)=>{f=i,l=c}),m={0:function(i,c){return a.then(()=>m[0].call(this,i,c))}};function u(i){return function(c){return m[0](i,c)}}return{promise:a,resolve:f,reject:l,slots:t,variables:n,methodRunner:m}}Es();Vs();xs();Us();qs();Ds();Ts();Rs();$s();ks();Mr();Nr();Cr();_r();Br();Lr();const j={constructor:null,typedArray:null,type:0,name:void 0,byteSize:4,align:2,isConst:!1,hasPointer:!1,instance:{members:[],methods:[],template:null},static:{members:[],methods:[],template:null},options:{runtimeSafety:!1}},p={type:0,isRequired:!0},ie={},_e={},Fe={},Pe={},Ke={},Ge={},ve={},D={},T={},We={},He={},Ee={},Xe={},Ve={},Ye={},Ue={},Ze={},$e={},fe={},J={},Je={},Re={},Qe={},Te={},St={},be={},he={},de={},N={},et={},ge={},xe={},tt={},ae={},Se={},nt={},rt={},De={},Oe={},ze={},Ot={},zt={},jt={},At={},It={},Pt={},vt={};Object.assign(ie,{...j,name:"u8",length:1,byteSize:1,align:0,instance:{members:[{...p,type:3,isRequired:!1,bitOffset:0,bitSize:8,byteSize:1,structure:ie}],methods:[],template:null},slot:5});Object.assign(_e,{...j,type:1,name:"[24:0]u8",length:24,byteSize:25,align:0,instance:{members:[{...p,type:3,isRequired:!1,bitSize:8,byteSize:1,structure:ie}],methods:[],template:null},slot:4});Object.assign(Fe,{...j,type:11,name:"*const [24:0]u8",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:_e}],methods:[],template:null},slot:3});Object.assign(Pe,{...j,type:11,name:"*const *const [24:0]u8",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:Fe}],methods:[],template:null},slot:2});Object.assign(Ke,{...j,type:1,name:"[13:0]u8",length:13,byteSize:14,align:0,instance:{members:[{...p,type:3,isRequired:!1,bitSize:8,byteSize:1,structure:ie}],methods:[],template:null},slot:8});Object.assign(Ge,{...j,type:11,name:"*const [13:0]u8",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:Ke}],methods:[],template:null},slot:7});Object.assign(ve,{...j,type:11,name:"*const *const [13:0]u8",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:Ge}],methods:[],template:null},slot:6});Object.assign(D,{...j,name:"i32",length:1,instance:{members:[{...p,type:2,isRequired:!1,bitOffset:0,bitSize:32,byteSize:4,structure:D}],methods:[],template:null},slot:10});Object.assign(T,{...j,type:11,name:"*const i32",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:D}],methods:[],template:null},slot:9});Object.assign(We,{...j,type:1,name:"[69:0]u8",length:69,byteSize:70,align:0,instance:{members:[{...p,type:3,isRequired:!1,bitSize:8,byteSize:1,structure:ie}],methods:[],template:null},slot:13});Object.assign(He,{...j,type:11,name:"*const [69:0]u8",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:We}],methods:[],template:null},slot:12});Object.assign(Ee,{...j,type:11,name:"*const *const [69:0]u8",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:He}],methods:[],template:null},slot:11});const Ns=new Uint8Array,_s=new Uint8Array([16,253,15,0]),Fs=new Uint8Array([1,0,0,0]),Ks=new Uint8Array([48,253,15,0]),Gs=new Uint8Array([32,0,0,0]),Ws=new Uint8Array([80,253,15,0]),Hs=new Uint8Array([8,0,0,0]);Object.assign(Xe,{...j,type:2,name:"Struct0009",length:1,byteSize:0,align:0,instance:{members:[{...p,type:7,isRequired:!1,name:"type",structure:D},{...p,type:8,isRequired:!1,slot:0,name:"minValue",structure:T},{...p,type:8,isRequired:!1,slot:1,name:"maxValue",structure:T},{...p,type:8,isRequired:!1,slot:2,name:"defaultValue",structure:T}],methods:[],template:{memory:{array:Ns},slots:{0:{structure:T,memory:{array:_s},slots:{0:{structure:D,memory:{array:Fs}}}},1:{structure:T,memory:{array:Ks},slots:{0:{structure:D,memory:{array:Gs}}}},2:{structure:T,memory:{array:Ws},slots:{0:{structure:D,memory:{array:Hs}}}}}}},slot:37});Object.assign(Ve,{...j,type:11,name:"Struct0006",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:Xe}],methods:[],template:null},slot:36});const Xs=new Uint8Array,Ys=new Uint8Array([16,253,15,0]),Zs=new Uint8Array([1,0,0,0]),Js=new Uint8Array([48,253,15,0]),Qs=new Uint8Array([0,2,0,0]),ei=new Uint8Array([80,253,15,0]),ti=new Uint8Array([56,0,0,0]);Object.assign(Ye,{...j,type:2,name:"Struct0010",length:1,byteSize:0,align:0,instance:{members:[{...p,type:7,isRequired:!1,name:"type",structure:D},{...p,type:8,isRequired:!1,slot:0,name:"minValue",structure:T},{...p,type:8,isRequired:!1,slot:1,name:"maxValue",structure:T},{...p,type:8,isRequired:!1,slot:2,name:"defaultValue",structure:T}],methods:[],template:{memory:{array:Xs},slots:{0:{structure:T,memory:{array:Ys},slots:{0:{structure:D,memory:{array:Zs}}}},1:{structure:T,memory:{array:Js},slots:{0:{structure:D,memory:{array:Qs}}}},2:{structure:T,memory:{array:ei},slots:{0:{structure:D,memory:{array:ti}}}}}}},slot:39});Object.assign(Ue,{...j,type:11,name:"Struct0007",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:Ye}],methods:[],template:null},slot:38});const ni=new Uint8Array,ri=new Uint8Array([170,170,170,170]),si=new Uint8Array,ii=new Uint8Array([170,170,170,170]),oi=new Uint8Array;Object.assign(Ze,{...j,type:2,name:"Struct0003",length:1,byteSize:0,align:0,instance:{members:[{...p,type:8,isRequired:!1,slot:0,name:"size",structure:Ve},{...p,type:8,isRequired:!1,slot:1,name:"charCount",structure:Ue}],methods:[],template:{memory:{array:ni},slots:{0:{structure:Ve,memory:{array:ri},slots:{0:{structure:Xe,memory:{array:si}}}},1:{structure:Ue,memory:{array:ii},slots:{0:{structure:Ye,memory:{array:oi}}}}}}},slot:15});Object.assign($e,{...j,type:11,name:"Struct0000",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:Ze}],methods:[],template:null},slot:14});const ci=new Uint8Array,ui=new Uint8Array([144,249,15,0]),ai=new Uint8Array([4,0,0,0]);Object.assign(fe,{...j,type:2,name:"Struct0011",length:1,byteSize:0,align:0,instance:{members:[{...p,type:8,isRequired:!1,slot:0,name:"channels",structure:T}],methods:[],template:{memory:{array:ci},slots:{0:{structure:T,memory:{array:ui},slots:{0:{structure:D,memory:{array:ai}}}}}}},slot:41});Object.assign(J,{...j,type:11,name:"Struct0008",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:fe}],methods:[],template:null},slot:40});const li=new Uint8Array,fi=new Uint8Array([170,170,170,170]),yi=new Uint8Array,mi=new Uint8Array([170,170,170,170]),bi=new Uint8Array;Object.assign(Je,{...j,type:2,name:"Struct0004",length:1,byteSize:0,align:0,instance:{members:[{...p,type:8,isRequired:!1,slot:0,name:"src",structure:J},{...p,type:8,isRequired:!1,slot:1,name:"text",structure:J}],methods:[],template:{memory:{array:li},slots:{0:{structure:J,memory:{array:fi},slots:{0:{structure:fe,memory:{array:yi}}}},1:{structure:J,memory:{array:mi},slots:{0:{structure:fe,memory:{array:bi}}}}}}},slot:17});Object.assign(Re,{...j,type:11,name:"Struct0001",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:Je}],methods:[],template:null},slot:16});const pi=new Uint8Array,hi=new Uint8Array([170,170,170,170]),di=new Uint8Array;Object.assign(Qe,{...j,type:2,name:"Struct0005",length:1,byteSize:0,align:0,instance:{members:[{...p,type:8,isRequired:!1,slot:0,name:"dst",structure:J}],methods:[],template:{memory:{array:pi},slots:{0:{structure:J,memory:{array:hi},slots:{0:{structure:fe,memory:{array:di}}}}}}},slot:19});Object.assign(Te,{...j,type:11,name:"Struct0002",length:1,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,slot:0,structure:Qe}],methods:[],template:null},slot:18});const gi=new Uint8Array,wi=new Uint8Array,Si=new Uint8Array([4,36,16,0]),Oi=new Uint8Array([172,35,16,0]),zi=new Uint8Array([99,111,109,46,103,114,101,121,98,111,120,119,97,114,101,46,97,115,99,105,105,109,105,105,0]),ji=new Uint8Array([0,36,16,0]),Ai=new Uint8Array([147,35,16,0]),Ii=new Uint8Array([82,105,99,104,97,114,100,32,90,117,114,97,100,0]),Pi=new Uint8Array([252,35,16,0]),vi=new Uint8Array([1,0,0,0]),Ei=new Uint8Array([248,35,16,0]),Vi=new Uint8Array([60,35,16,0]),Ui=new Uint8Array([70,105,108,116,101,114,32,116,111,32,109,105,109,105,99,32,116,104,101,32,84,69,88,84,112,32,101,102,102,101,99,116,32,102,114,111,109,32,89,111,117,84,117,98,101,39,115,32,50,48,49,48,32,65,112,114,105,108,32,70,111,111,108,115,32,106,111,107,101,0]),$i=new Uint8Array([170,170,170,170]),Ri=new Uint8Array,Ti=new Uint8Array([170,170,170,170]),xi=new Uint8Array,Di=new Uint8Array([170,170,170,170]),qi=new Uint8Array;Object.assign(St,{...j,type:2,name:"asciimii.kernel",length:1,byteSize:0,align:0,instance:{members:[],methods:[],template:{memory:{array:gi}}},static:{members:[{...p,type:6,isRequired:!1,slot:0,name:"namespace",structure:Pe},{...p,type:6,isRequired:!1,slot:1,name:"vendor",structure:ve},{...p,type:6,isRequired:!1,slot:2,name:"version",structure:T},{...p,type:6,isRequired:!1,slot:3,name:"description",structure:Ee},{...p,type:6,isRequired:!1,slot:4,name:"parameters",structure:$e},{...p,type:6,isRequired:!1,slot:5,name:"inputImages",structure:Re},{...p,type:6,isRequired:!1,slot:6,name:"outputImages",structure:Te}],methods:[],template:{memory:{array:wi},slots:{0:{structure:Pe,memory:{array:Si},slots:{0:{structure:Fe,memory:{array:Oi},slots:{0:{structure:_e,memory:{array:zi}}}}}},1:{structure:ve,memory:{array:ji},slots:{0:{structure:Ge,memory:{array:Ai},slots:{0:{structure:Ke,memory:{array:Ii}}}}}},2:{structure:T,memory:{array:Pi},slots:{0:{structure:D,memory:{array:vi}}}},3:{structure:Ee,memory:{array:Ei},slots:{0:{structure:He,memory:{array:Vi},slots:{0:{structure:We,memory:{array:Ui}}}}}},4:{structure:$e,memory:{array:$i},slots:{0:{structure:Ze,memory:{array:Ri}}}},5:{structure:Re,memory:{array:Ti},slots:{0:{structure:Je,memory:{array:xi}}}},6:{structure:Te,memory:{array:Di},slots:{0:{structure:Qe,memory:{array:qi}}}}}}},slot:1});Object.assign(be,{...j,type:13,name:"@Vector(4, u8)",length:4,instance:{members:[{...p,type:3,isRequired:!1,bitSize:8,byteSize:1,structure:ie}],methods:[],template:null},slot:24});Object.assign(he,{...j,type:12,name:"[_]const @Vector(4, u8)",length:0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,structure:be}],methods:[],template:null},slot:23});Object.assign(de,{...j,type:11,name:"[]const @Vector(4, u8)",length:1,byteSize:8,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:64,byteSize:8,slot:0,structure:he}],methods:[],template:null},slot:22});Object.assign(N,{...j,name:"u32",length:1,instance:{members:[{...p,type:3,isRequired:!1,bitOffset:0,bitSize:32,byteSize:4,structure:N}],methods:[],template:null},slot:25});const ki=new Uint8Array([0,0,0,0,1,0,0,0]);Object.assign(et,{...j,type:9,name:"asciimii.ColorSpace",length:1,byteSize:1,align:0,instance:{members:[{...p,type:2,isRequired:!1,bitSize:32,byteSize:4,name:"srgb",structure:D},{...p,type:2,isRequired:!1,bitSize:32,byteSize:4,name:"display-p3",structure:D}],methods:[],template:{memory:{array:ki}}},slot:26});Object.assign(ge,{...j,name:"usize",length:1,instance:{members:[{...p,type:3,isRequired:!1,bitOffset:0,bitSize:32,byteSize:4,structure:ge}],methods:[],template:null},slot:27});Object.assign(xe,{...j,name:"f32",length:1,instance:{members:[{...p,type:4,isRequired:!1,bitOffset:0,bitSize:32,byteSize:4,structure:xe}],methods:[],template:null},slot:45});Object.assign(tt,{...j,type:13,name:"@Vector(4, f32)",length:4,byteSize:16,align:4,instance:{members:[{...p,type:4,isRequired:!1,bitSize:32,byteSize:4,structure:xe}],methods:[],template:null},slot:42});const Ci=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Mi=new Uint8Array,Bi=new Uint8Array([4,35,16,0]),Li=new Uint8Array([4,0,0,0]);Object.assign(ae,{...j,type:2,name:"asciimii.Image(u8,4,false)",length:1,byteSize:24,hasPointer:!0,instance:{members:[{...p,type:6,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:de},{...p,type:3,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:N},{...p,type:3,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:N},{...p,type:5,isRequired:!1,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:et},{...p,type:3,isRequired:!1,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:ge}],methods:[],template:{memory:{array:Ci}}},static:{members:[{...p,type:7,isRequired:!1,name:"Pixel",structure:be},{...p,type:7,isRequired:!1,name:"FPixel",structure:tt},{...p,type:6,isRequired:!1,slot:0,name:"channels",structure:T}],methods:[],template:{memory:{array:Mi},slots:{0:{structure:T,memory:{array:Bi},slots:{0:{structure:D,memory:{array:Li}}}}}}},slot:21});const Ni=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Fi=new Uint8Array([0,0,0,0,0,0,0,0]),Ki=new Uint8Array,Gi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Wi=new Uint8Array([0,0,0,0,0,0,0,0]),Hi=new Uint8Array;Object.assign(Se,{...j,type:2,name:"asciimii.KernelInput(u8,asciimii.kernel)",length:1,byteSize:48,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"src",structure:ae},{...p,type:6,isRequired:!1,bitOffset:192,bitSize:192,byteSize:24,slot:1,name:"text",structure:ae}],methods:[],template:{memory:{array:Ni},slots:{0:{structure:ae,memory:{array:_i},slots:{0:{structure:de,memory:{array:Fi},address:1047936,slots:{0:{structure:he,memory:{array:Ki},address:0}}}}},1:{structure:ae,memory:{array:Gi},slots:{0:{structure:de,memory:{array:Wi},address:1047960,slots:{0:{structure:he,memory:{array:Hi},address:0}}}}}}}},slot:20});Object.assign(nt,{...j,type:12,name:"[_]@Vector(4, u8)",length:0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:32,byteSize:4,structure:be}],methods:[],template:null},slot:23});Object.assign(rt,{...j,type:11,name:"[]@Vector(4, u8)",length:1,byteSize:8,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitSize:64,byteSize:8,slot:0,structure:nt}],methods:[],template:null},slot:30});const Xi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Yi=new Uint8Array,Zi=new Uint8Array([4,35,16,0]),Ji=new Uint8Array([4,0,0,0]);Object.assign(De,{...j,type:2,name:"asciimii.Image(u8,4,true)",length:1,byteSize:24,hasPointer:!0,instance:{members:[{...p,type:6,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:rt},{...p,type:3,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:N},{...p,type:3,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:N},{...p,type:5,isRequired:!1,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:et},{...p,type:3,isRequired:!1,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:ge}],methods:[],template:{memory:{array:Xi}}},static:{members:[{...p,type:7,isRequired:!1,name:"Pixel",structure:be},{...p,type:7,isRequired:!1,name:"FPixel",structure:tt},{...p,type:6,isRequired:!1,slot:0,name:"channels",structure:T}],methods:[],template:{memory:{array:Yi},slots:{0:{structure:T,memory:{array:Zi},slots:{0:{structure:D,memory:{array:Ji}}}}}}},slot:29});const Qi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),eo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),to=new Uint8Array([0,0,0,0,0,0,0,0]),no=new Uint8Array;Object.assign(Oe,{...j,type:2,name:"asciimii.KernelOutput(u8,asciimii.kernel)",length:1,byteSize:24,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"dst",structure:De}],methods:[],template:{memory:{array:Qi},slots:{0:{structure:De,memory:{array:eo},slots:{0:{structure:rt,memory:{array:to},address:1047568,slots:{0:{structure:nt,memory:{array:no},address:0}}}}}}}},slot:28});const ro=new Uint8Array([8,0,0,0,56,0,0,0]);Object.assign(ze,{...j,type:2,name:"asciimii.KernelParameters(asciimii.kernel)",length:1,byteSize:8,instance:{members:[{...p,type:2,isRequired:!1,bitOffset:0,bitSize:32,byteSize:4,slot:0,name:"size",structure:D},{...p,type:2,isRequired:!1,bitOffset:32,bitSize:32,byteSize:4,slot:1,name:"charCount",structure:D}],methods:[],template:{memory:{array:ro}}},slot:31});Object.assign(Ot,{...j,type:8,name:"@typeInfo(@typeInfo(@TypeOf(asciimii.createOutput)).Fn.return_type.?).ErrorUnion.error_set",length:1,byteSize:2,align:1,instance:{members:[{...p,type:6,isRequired:!1,slot:22,name:"OutOfMemory"}],methods:[],template:null},slot:43});Object.assign(zt,{...j,type:7,name:"ErrorSet0000!asciimii.KernelOutput(u8,asciimii.kernel)",length:1,byteSize:28,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:Oe},{...p,type:3,isRequired:!1,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:Ot}],methods:[],template:null},slot:34});Object.assign(jt,{...j,type:3,name:"createOutput",length:1,byteSize:92,hasPointer:!0,instance:{members:[{...p,type:3,bitOffset:0,bitSize:32,byteSize:4,slot:0,name:"0",structure:N},{...p,type:3,bitOffset:32,bitSize:32,byteSize:4,slot:1,name:"1",structure:N},{...p,type:6,bitOffset:64,bitSize:384,byteSize:48,slot:2,name:"2",structure:Se},{...p,type:6,bitOffset:448,bitSize:64,byteSize:8,slot:3,name:"3",structure:ze},{...p,type:6,bitOffset:512,bitSize:224,byteSize:28,slot:4,name:"retval",structure:zt}],methods:[],template:null},slot:32});Object.assign(At,{...j,type:8,name:"@typeInfo(@typeInfo(@TypeOf(asciimii.createPartialOutput)).Fn.return_type.?).ErrorUnion.error_set",length:1,byteSize:2,align:1,instance:{members:[{...p,type:6,isRequired:!1,slot:22,name:"OutOfMemory"}],methods:[],template:null},slot:44});Object.assign(It,{...j,type:7,name:"ErrorSet0001!asciimii.KernelOutput(u8,asciimii.kernel)",length:1,byteSize:28,hasPointer:!0,instance:{members:[{...p,type:6,isRequired:!1,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:Oe},{...p,type:3,isRequired:!1,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:At}],methods:[],template:null},slot:35});Object.assign(Pt,{...j,type:3,name:"createPartialOutput",length:1,byteSize:100,hasPointer:!0,instance:{members:[{...p,type:3,bitOffset:0,bitSize:32,byteSize:4,slot:0,name:"0",structure:N},{...p,type:3,bitOffset:32,bitSize:32,byteSize:4,slot:1,name:"1",structure:N},{...p,type:3,bitOffset:64,bitSize:32,byteSize:4,slot:2,name:"2",structure:N},{...p,type:3,bitOffset:96,bitSize:32,byteSize:4,slot:3,name:"3",structure:N},{...p,type:6,bitOffset:128,bitSize:384,byteSize:48,slot:4,name:"4",structure:Se},{...p,type:6,bitOffset:512,bitSize:64,byteSize:8,slot:5,name:"5",structure:ze},{...p,type:6,bitOffset:576,bitSize:224,byteSize:28,slot:6,name:"retval",structure:It}],methods:[],template:null},slot:33});const so=new Uint8Array,io={argStruct:jt,thunk:7,name:"createOutput"},oo={argStruct:Pt,thunk:2,name:"createPartialOutput"};Object.assign(vt,{...j,type:2,name:"asciimii",length:1,byteSize:0,align:0,instance:{members:[],methods:[],template:{memory:{array:so}}},static:{members:[{...p,type:7,isRequired:!1,name:"kernel",structure:St},{...p,type:7,isRequired:!1,name:"Input",structure:Se},{...p,type:7,isRequired:!1,name:"Output",structure:Oe},{...p,type:7,isRequired:!1,name:"Parameters",structure:ze}],methods:[io,oo],template:null},slot:0});const co=[ie,_e,Fe,Pe,Ke,Ge,ve,D,T,We,He,Ee,Xe,Ve,Ye,Ue,Ze,$e,fe,J,Je,Re,Qe,Te,St,be,he,de,N,et,ge,xe,tt,ae,Se,nt,rt,De,Oe,ze,Ot,zt,jt,At,It,Pt,vt],uo=Ls(co),ao=vt.constructor,lo=(async()=>{const e=new URL("asciimii-450d1e60.wasm",import.meta.url).href;return fetch(e)})();Ms(lo,{...uo,writeBack:!0});const{createOutput:go,createPartialOutput:fo,kernel:ft,Input:yo,Output:wo,Parameters:So}=ao;function mo(e,t,n,r,s={},o={}){if(Array.isArray(s)){const c=s;s={};for(const[d,y]of Object.keys(ft.inputImages).entries())s[y]=c[d]}const f=new yo(void 0),l=Object.keys(ft.inputImages),a=[];let m;for(const c of l){let d=s[c];if(d||(l.length===1&&["data","width","height"].every(y=>!!s[y])?d=s:a.push(c)),f[c]=d,m){if(d.colorSpace!==m)throw new Error(`Input images must all use the same color space: ${m}`)}else m=d.colorSpace}if(a.length>0)throw new Error(`Missing input image${a.length>1?"s":""}: ${a.join(", ")}`);const u=fo(e,t,n,r,f,o),i=c=>{const d=Object.keys(c),y={};for(const b of d){const{data:{typedArray:S},width:h,height:I}=c[b];let V;if(typeof ImageData=="function"){const R=new Uint8ClampedArray(S.buffer,S.byteOffset,S.byteLength);V=new ImageData(R,h,r,{colorSpace:m})}else V={data:S,width:h,height:I};if(d.length===1)return V;y[b]=V}return y};return u[Symbol.toStringTag]==="Promise"?u.then(i):i(u)}function bo(){const e={};for(let[t,n]of Object.entries(ft)){if(t==="parameters"){const r={};for(const[s,o]of Object.entries(n)){const f=r[s]={};for(let[l,a]of Object.entries(o))typeof a=="object"?"string"in a?a=a.string:a=On(a):typeof a=="function"&&(a=po(a.name)),f[l]=a}n=r}else typeof n=="object"&&("string"in n?n=n.string:n=n.valueOf());e[t]=n}return e}function On(e){const t=[];for(let[n,r]of Object.entries(e))typeof r=="object"&&(r=On(r)),t[n]=r;return t}function po(e){return{bool:"bool","@Vector(2, bool)":"bool2","@Vector(3, bool)":"bool3","@Vector(4, bool)":"bool4",i32:"int","@Vector(2, i32)":"int2","@Vector(3, i32)":"int3","@Vector(4, i32)":"int4",f32:"float","@Vector(2, f32)":"float2","@Vector(3, f32)":"float3","@Vector(4, f32)":"float4","[2]@Vector(2, f32)":"float2x2","[3]@Vector(3, f32)":"float3x3","[4]@Vector(4, f32)":"float4x4"}[e]}onmessage=e=>{const[t,n,...r]=e.data;ho(t,r).then(([s,o])=>{postMessage([t,n,s],{transfer:o})}).catch(s=>{postMessage(["error",n,s])})};async function ho(e,t){switch(e){case"getKernelInfo":return[bo(...t)];case"createPartialImageData":const r=await mo(...t),s=[];if("data"in r&&"width"in r&&"height"in r)s.push(r.data.buffer);else for(const o of Object.entries(r))s.push(r.data.buffer);return[r,s];default:throw new Error(`Unknown function: ${e}`)}}
