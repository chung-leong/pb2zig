var Cr=Object.defineProperty;var Dr=(t,e,n)=>e in t?Cr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var V=(t,e,n)=>(Dr(t,typeof e!="symbol"?e+"":e,n),n);const z={Void:0,Bool:1,Int:2,Uint:3,Float:4,Object:5,Type:6,Comptime:7,Static:8,Literal:9,Null:10,Undefined:11},x={Primitive:0,Array:1,Struct:2,ExternStruct:3,PackedStruct:4,ArgStruct:5,ExternUnion:6,BareUnion:7,TaggedUnion:8,ErrorUnion:9,ErrorSet:10,Enumeration:11,Optional:12,Pointer:13,Slice:14,Vector:15,Opaque:16,Function:17};function Me(t){const{type:e,bitSize:n,byteSize:s}=t;if(e===z.Int)return`${n<=32?"":"Big"}Int${n}`;if(e===z.Uint)return`${n<=32?"":"Big"}Uint${n}`;if(e===z.Float)return`Float${n}`;if(e===z.Bool)return`Bool${s!==void 0?s*8:1}`;if(e===z.Void)return"Null"}function kr(t){const{type:e,bitSize:n}=t,s=e===z.Int;let r=s?n-1:n;if(n<=32){const i=2**r-1;return{min:s?-(2**r):0,max:i}}else{r=BigInt(r);const i=2n**r-1n;return{min:s?-(2n**r):0n,max:i}}}function $n({type:t,bitSize:e}){if(t===z.Int||t===z.Uint)return e<=32?Number:BigInt;if(t===z.Float)return Number;if(t===z.Bool)return Boolean}function Un(t){const e=$n(t);if(e)return typeof e(0)}function Cn({bitOffset:t,bitSize:e,byteSize:n}){return n!==void 0||!(t&7)&&!(e&7)||e===0}function Ct(t){return typeof t=="object"&&typeof t.error=="string"&&Object.keys(t).length===1}class Fr extends TypeError{constructor(e){const{name:n}=e;super(`An initializer must be provided to the constructor of ${n}, even when the intended value is undefined`)}}class Dn extends TypeError{constructor(e,n,s=null){const{name:r,type:i,byteSize:o}=e,c=n.byteLength,a=o!==1?"s":"";let u;if(i===x.Slice&&!s)u=`${r} has elements that are ${o} byte${a} in length, received ${c}`;else{const l=i===x.Slice?s.length*o:o;u=`${r} has ${l} byte${a}, received ${c}`}super(u)}}class Rr extends TypeError{constructor(e){const{type:n,byteSize:s,typedArray:r}=e,i=s!==1?"s":"",o=["ArrayBuffer","DataView"].map(it);r&&o.push(it(r.name));let c;n===x.Slice?c=`Expecting ${Te(o)} that can accommodate items ${s} byte${i} in length`:c=`Expecting ${Te(o)} that is ${s} byte${i} in length`,super(c)}}class Nr extends TypeError{constructor(e,n){const{name:s}=e;let r;typeof n=="number"||typeof n=="bigint"?r=`Value given does not correspond to an item of enum ${s}: ${n}`:r=`Enum item of the type ${s} expected, received ${n}`,super(r)}}class Lr extends TypeError{constructor(e,n){const{name:s}=e,r=typeof n;let i;r==="string"||r==="number"||Ct(n)?(Ct(n)&&(n=`{ error: ${JSON.stringify(n.error)} }`),i=`Error ${r} does not corresponds to any error in error set ${s}: ${n}`):i=`Error of the type ${s} expected, received ${n}`,super(i)}}class kn extends TypeError{constructor(e){const{name:n}=e;super(`Error given is not a part of error set ${n}`)}}class ht extends TypeError{constructor(e,n,s){const{name:r}=e,i=[];if(Array.isArray(n))for(const c of n)i.push(it(c));else i.push(it(n));const o=Rn(s);super(`${r} expects ${Te(i)} as argument, received ${o}`)}}class mt extends ht{constructor(e,n,s=!1){var u;const{instance:{members:[r]},type:i,typedArray:o}=e,c=[],a=Un(r);if(a){let l;switch((u=r.structure)==null?void 0:u.type){case x.Enumeration:l="enum item";break;case x.ErrorSet:l="error";break;default:l=a}c.push(`array of ${l}s`)}else c.push("array of objects");o&&c.push(o.name),i===x.Slice&&s&&c.push("length"),super(e,c.join(" or "),n)}}class te extends TypeError{constructor(e,n,s){const{name:r,length:i,instance:{members:[o]}}=e,{structure:{constructor:c}}=o,{length:a,constructor:u}=s,l=(n==null?void 0:n.length)??i,f=l!==1?"s":"";let b;u===c?b="only a single one":u.child===c?b=`a slice/array that has ${a}`:b=`${a} initializer${a>1?"s":""}`,super(`${r} has ${l} element${f}, received ${b}`)}}class Br extends TypeError{constructor(e,n){const{name:s}=e;super(`Missing initializers for ${s}: ${n.join(", ")}`)}}class _r extends TypeError{constructor(e,n){const{name:s,instance:{members:r}}=e,i=r.find(c=>c.name===n);let o;i?o=`Comptime value cannot be changed: ${n}`:o=`${s} does not have a property with that name: ${n}`,super(o)}}class qr extends Error{constructor(e,n){const{name:s,instance:{members:r}}=e,i=r.length-1,o=i!==1?"s":"";super(`${s} expects ${i} argument${o}, received ${n}`)}}class Wr extends TypeError{constructor(e){super("Non-slice pointers can only be created with the help of the new operator")}}class Gr extends TypeError{constructor(e,n){const{name:s}=e,{constructor:{name:r}}=n;super(`Conversion of ${r} to ${s} requires an explicit cast`)}}class On extends TypeError{constructor(e,n,s,r){const{name:i}=e;super(`${i} expects the sentinel value ${n} at ${r-1}, found at ${s}`)}}class Ht extends TypeError{constructor(e,n,s){const{name:r}=e;super(`${r} expects the sentinel value ${n} at ${s-1}`)}}class Jr extends TypeError{constructor(e,n){super(`Unable to simultaneously align memory to ${n}-byte and ${e}-byte boundary`)}}class ee extends TypeError{constructor(e,n){const s=Rn(n);super(`Expected ${it(e)}, received ${s}`)}}class vn extends TypeError{constructor(){super("Null pointer")}}class Kr extends TypeError{constructor(e,n){const{name:s}=e;let r;if(n!=null){const i=typeof n,o=i==="object"&&n.constructor!==Object?`${n.constructor.name} object`:i;r=`${Nn(o)} ${o}`}else r=n+"";super(`${s} cannot point to ${r}`)}}class Hr extends TypeError{constructor(e,n){super("Pointers in fixed memory cannot point to garbage-collected object")}}class Xr extends TypeError{constructor(e,n){const s=Me(e);super(`${s} cannot represent the value given: ${n}`)}}class An extends RangeError{constructor(e,n){const{name:s}=e;super(`Index exceeds the size of ${s??"array"}: ${n}`)}}class Yr extends TypeError{constructor(e){const{name:n,structure:{name:{struct:s}}}=e;super(`Unable to create ${s} as it is not situated on a byte boundary: ${n}`)}}class Zr extends TypeError{constructor(){super("Unable to modify read-only object")}}class Qr extends TypeError{constructor(e){const{name:n}=e;super(`${n} cannot point to a read-only object`)}}class jn extends Error{constructor(e){super(Fn(e))}}function ti(t,e,n){const{name:s,instance:{members:r}}=t,i=`args[${e}]`,o=r.length-1,c=e!==0?"..., ":"",a=e!==o-1?", ...":"",u=c+i+a,l=Object.create(n.constructor.prototype);return l.message=`${s}(${u}): ${n.message}`,l.stack=n.stack,l}function zn(t,e,n){return n instanceof RangeError&&!(n instanceof An)&&(n=new An(t,e)),n}function zt(){throw new Zr}function ei(t,e){const n=it(t.typedArray.name),s=it(e.constructor.name);console.warn(`Implicitly creating ${n} from ${s}`)}function Fn(t){let e=t.replace(/_/g," ");try{e=e.replace(/(\p{Uppercase}+)(\p{Lowercase}*)/gu,(n,s,r)=>{if(s.length===1)return` ${s.toLocaleLowerCase()}${r}`;if(r){const i=s.substring(0,s.length-1),o=s.charAt(s.length-1).toLocaleLowerCase();return` ${i} ${o}${r}`}else return` ${s}`}).trimStart()}catch{}return e.charAt(0).toLocaleUpperCase()+e.substring(1)}function Rn(t){const e=typeof t;let n;return e==="object"?n=t?Object.prototype.toString.call(t):"null":n=e,it(n)}function it(t){return`${Nn(t)} ${t}`}function Nn(t){return/^\W*[aeiou]/i.test(t)?"an":"a"}function Te(t,e="or"){const n=` ${e} `;return t.length>2?t.slice(0,-1).join(", ")+n+t[t.length-1]:t.join(n)}const S=Symbol("memory"),j=Symbol("slots"),$e=Symbol("parent"),Ue=Symbol("name"),Mt=Symbol("class"),xn=Symbol("tag"),bt=Symbol("props"),ne=Symbol("getter"),se=Symbol("setter"),Vt=Symbol("elementGetter"),Pt=Symbol("elementSetter"),Ee=Symbol("addressGetter"),Ln=Symbol("addressSetter"),yt=Symbol("targetGetter"),Ie=Symbol("targetSetter"),vt=Symbol("fixedLocation"),Ce=Symbol("propSetters"),L=Symbol("writeDisabler"),Bn=Symbol("allKeys"),Ve=Symbol("length"),re=Symbol("proxy"),Rt=Symbol("compat"),B=Symbol("size"),k=Symbol("align"),De=Symbol("array"),Dt=Symbol("pointer"),pt=Symbol("constTarget"),ze=Symbol("constProxy"),M=Symbol("copier"),Tn=Symbol("resetter"),q=Symbol("normalizer"),X=Symbol("vivificator"),D=Symbol("pointerVisitor"),$t=Symbol("environment"),Xt=Symbol("attributes"),_n=Symbol("more");function ct(t){return function(){const e=this[S];this[S]=null,this[j]&&(this[j]={}),t.releaseFixedView(e)}}function En(t,e,n){if(t+e<=8){const s=2**e-1;if(n)return function(r,i,o){const a=i.getUint8(o)>>t&s;r.setUint8(0,a)};{const r=255^s<<t;return function(i,o,c){const a=o.getUint8(0),l=i.getUint8(c)&r|(a&s)<<t;i.setUint8(c,l)}}}else{const s=8-t,r=2**s-1;if(n){const o=2**(e%8)-1;return function(c,a,u){let l=u,f=0,b=a.getUint8(l++),y,m=b>>t&r,h=s,d=e;do d>h&&(b=a.getUint8(l++),m=m|b<<h),y=d>=8?m&255:m&o,c.setUint8(f++,y),m>>=8,d-=8;while(d>0)}}else{const o=2**((e-s)%8)-1,c=255^r<<t,a=255^o;return function(u,l,f){let b=0,y=f,m=u.getUint8(y),h,d,g=m&c,w=t,E=e+w;do E>w&&(h=l.getUint8(b++),g=g|h<<w,w+=8),E>=8?d=g&255:(m=u.getUint8(y),d=m&a|g&o),u.setUint8(y++,d),g>>=8,w-=8,E-=8;while(E>0)}}}}function W(t,e=!1){const n=qn(t,e);return function(s){H.call(this),H.call(s);const r=s[S],i=this[S];n(i,r)}}function qn(t,e=!1){if(!e){const n=ni[t];if(n)return n}return t&7?t&3?t&1?si:ri:ii:oi}const ni={1:ci,2:ai,4:ui,8:li,16:fi,32:yi};function si(t,e){for(let n=0,s=t.byteLength;n<s;n++)t.setInt8(n,e.getInt8(n))}function ri(t,e){for(let n=0,s=t.byteLength;n<s;n+=2)t.setInt16(n,e.getInt16(n,!0),!0)}function ii(t,e){for(let n=0,s=t.byteLength;n<s;n+=4)t.setInt32(n,e.getInt32(n,!0),!0)}function oi(t,e){for(let n=0,s=t.byteLength;n<s;n+=8)t.setInt32(n,e.getInt32(n,!0),!0),t.setInt32(n+4,e.getInt32(n+4,!0),!0)}function ci(t,e){t.setInt8(0,e.getInt8(0))}function ai(t,e){t.setInt16(0,e.getInt16(0,!0),!0)}function ui(t,e){t.setInt32(0,e.getInt32(0,!0),!0)}function li(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0)}function fi(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0)}function yi(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0),t.setInt32(16,e.getInt32(16,!0),!0),t.setInt32(20,e.getInt32(20,!0),!0),t.setInt32(24,e.getInt32(24,!0),!0),t.setInt32(28,e.getInt32(28,!0),!0)}function mi(t,e){const n=hi(e);return function(){H.call(this);const s=this[S];n(s,t,e)}}function hi(t){const e=bi[t];return e||(t&7?t&3?t&1?pi:di:gi:Si)}const bi={1:wi,2:Oi,4:vi,8:Ai,16:ji,32:zi};function pi(t,e,n){for(let s=e,r=e+n;s<r;s++)t.setInt8(s,0)}function di(t,e,n){for(let s=e,r=e+n;s<r;s+=2)t.setInt16(s,0,!0)}function gi(t,e,n){for(let s=e,r=e+n;s<r;s+=4)t.setInt32(s,0,!0)}function Si(t,e,n){for(let s=e,r=e+n;s<r;s+=8)t.setInt32(s,0,!0),t.setInt32(s+4,0,!0)}function wi(t,e){t.setInt8(e,0)}function Oi(t,e){t.setInt16(e,0,!0)}function vi(t,e){t.setInt32(e,0,!0)}function Ai(t,e){t.setInt32(e+0,0,!0),t.setInt32(e+4,0,!0)}function ji(t,e){t.setInt32(e+0,0,!0),t.setInt32(e+4,0,!0),t.setInt32(e+8,0,!0),t.setInt32(e+12,0,!0)}function zi(t,e){t.setInt32(e+0,0,!0),t.setInt32(e+4,0,!0),t.setInt32(e+8,0,!0),t.setInt32(e+12,0,!0),t.setInt32(e+16,0,!0),t.setInt32(e+20,0,!0),t.setInt32(e+24,0,!0),t.setInt32(e+28,0,!0)}function H(){const t=this[S],e=t[S];if(!e||t.buffer.byteLength!==0)return!1;const{memory:n,address:s,len:r}=e,i=new DataView(n.buffer,s,r);return i[S]=e,this[S]=i,!0}function kt(t,e){return ki(t,e,n=>DataView.prototype[n]?DataView.prototype[n]:Ti(t,e))}const Wn={};function xi(){Wn[z.Uint]=Ei}function Ti(t,e){const n=Wn[e.type];return n(t,e)}function Ei(t,e){return Cn(e)?Ui(t,e):Ci(t,e)}function ie(t,e,n){const{type:s,byteSize:r,typedArray:i}=t;let o;const c=e==null?void 0:e[Symbol.toStringTag];if(c==="DataView")o=e;else if(c==="ArrayBuffer"||c==="SharedArrayBuffer")o=n.obtainView(e,0,e.byteLength);else if(i&&c===i.name||c==="Uint8ClampedArray"&&i===Uint8Array)o=n.obtainView(e.buffer,e.byteOffset,e.byteLength);else if(c==="Uint8Array"&&typeof Buffer=="function"&&e instanceof Buffer)o=n.obtainView(e.buffer,e.byteOffset,e.byteLength);else{const a=e==null?void 0:e[S];if(a){const{constructor:u,instance:{members:[l]}}=t;if(e instanceof u)return a;if(s===x.Array||s===x.Slice||s===x.Vector){const{byteSize:f,structure:{constructor:b}}=l,y=Jn(e,b);if(y!==void 0){if(s===x.Slice||y*f===r)return a;throw new te(t,null,e)}}}}return o&&r!==void 0&&Gn(o,t),o}function Ii(t){if((t==null?void 0:t[Symbol.toStringTag])!=="DataView")throw new ee("a DataView",t);return t}function Gn(t,e){const{byteSize:n,type:s}=e;if(s===x.Slice?t.byteLength%n!==0:t.byteLength!==n)throw new Dn(e,t)}function Nt(t,e,n,s,r){const{byteSize:i,type:o,sentinel:c}=e,a=o===x.Slice;if(this[S]){const u=a?i*this.length:i;if(t.byteLength!==u)throw new Dn(e,t,this);const l={[S]:t};c==null||c.validateData(l,this.length),this[M](l)}else{const{shapeDefiner:u}=r;Gn(t,e);const l=t.byteLength/i,f={[S]:t};c==null||c.validateData(f,l),s&&(n=!0),u.call(this,n?null:t,l,s),n&&this[M](f)}}function Jn(t,e){const{constructor:n}=t;if(n===e)return 1;if(n.child===e)return t.length}function Vi(t,e,n){const s=ie(t,e,n);if(!s)throw console.log(e),new Rr(t);return s}function dt(t){const{type:e,byteSize:n}=t;if(e===z.Int)switch(n){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array;case 8:return BigInt64Array}else if(e===z.Uint)switch(n){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array;case 8:return BigUint64Array}else if(e===z.Float)switch(n){case 4:return Float32Array;case 8:return Float64Array}else if(e===z.Object)return t.structure.typedArray;return null}function Pi(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return!!e&&n===e.name}function Mi(t,e){const n=e[Rt];if(n){const s=t==null?void 0:t[Symbol.toStringTag];if(n.includes(s))return!0}return!!(e.child&&Jn(t,e.child)!==void 0)}function oe(t){const{typedArray:e}=t,n=[];return e&&(n.push(e.name),n.push("DataView"),(e===Uint8Array||e===Int8Array)&&(n.push("ArrayBuffer"),n.push("SharedArrayBuffer"),e===Uint8Array&&n.push("Uint8ClampedArray"))),n}function $i(t){const e=DataView.prototype.getBigUint64,n=DataView.prototype.setBigUint64,s=Math.ceil(t/64);return{get:function(r,i){let o=0n;if(i)for(let c=0,a=r+(s-1)*8;c<s;c++,a-=8){const u=e.call(this,a,i);o=o<<64n|u}else for(let c=0,a=r;c<s;c++,a+=8){const u=e.call(this,a,i);o=o<<64n|u}return o},set:function(r,i,o){let c=i;const a=0xFFFFFFFFFFFFFFFFn;if(o)for(let u=0,l=r;u<s;u++,l+=8){const f=c&a;n.call(this,l,f,o),c>>=64n}else{c<<=BigInt(s*64-t);for(let u=0,l=r+(s-1)*8;u<s;u++,l-=8){const f=c&a;n.call(this,l,f,o),c>>=64n}}return c}}}function Ui(t,e){const{bitSize:n,byteSize:s}=e;if(n<64){const r=Me({...e,bitSize:s*8}),i=DataView.prototype[`get${r}`],o=DataView.prototype[`set${r}`],c=n<=32?2**n-1:2n**BigInt(n)-1n;return t==="get"?function(a,u){return i.call(this,a,u)&c}:function(a,u,l){const f=u&c;o.call(this,a,f,l)}}else{const{get:r,set:i}=$i(n),o=2n**BigInt(n)-1n;return t==="get"?function(c,a){return r.call(this,c,a)&o}:function(c,a,u){const l=a&o;i.call(this,c,l,u)}}}function Ci(t,e){const{bitSize:n,bitOffset:s}=e,r=s&7;if(r+n<=8){const i=DataView.prototype.setUint8,o=DataView.prototype.getUint8,c=2**n-1;if(t==="get")return function(a){return o.call(this,a)>>>r&c};{const a=255^c<<r;return function(u,l){const b=o.call(this,u)&a|(l&c)<<r;i.call(this,u,b)}}}return Di(t,e)}function Di(t,e){const{bitSize:n,bitOffset:s}=e,r=s&7,i=[1,2,4,8].find(c=>c*8>=n)??Math.ceil(n/64)*64,o=new DataView(new ArrayBuffer(i));if(t==="get"){const c=kt("get",{...e,byteSize:i}),a=En(r,n,!0);return function(u,l){return a(o,this,u),c.call(o,0,l)}}else{const c=kt("set",{...e,byteSize:i}),a=En(r,n,!1);return function(u,l,f){c.call(o,0,l,f),a(this,o,u)}}}const In={};function ki(t,e,n){const{type:s,bitOffset:r,bitSize:i,structure:o}=e,c=r&7,a=Me(e),u=Cn(e)?"":`Bit${c}`,l=s===z.Int||s===z.Uint;let f=`${t}${a}${u}`,b=!1,y=f;if(l&&i===64){const h=o==null?void 0:o.name;(h==="usize"||h==="isize")&&(f+="Size",b=!0)}let m=In[f];if(!m){if(l&&t==="set"){const h=$n(e),d=n(y);m=function(g,w,E){d.call(this,g,h(w),E)}}else if(b&&t==="get"){const h=n(y),d=BigInt(Number.MIN_SAFE_INTEGER),g=BigInt(Number.MAX_SAFE_INTEGER);m=function(w,E){const $=h.call(this,w,E);return d<=$&&$<=g?Number($):$}}else m=n(f);m&&m.name!==f&&Object.defineProperty(m,"name",{value:f,configurable:!0,writable:!1}),In[f]=m}return m}function Fi({type:t}){switch(t){case z.Type:case z.Comptime:case z.Literal:return!0;default:return!1}}const St={};function Ri(){St[z.Int]=Gi}function Kn(){St[z.Uint]=Ji}function Ni(){St[z.Float]=Ki}function Li(){St[z.Object]=Zi}function Bi(){St[z.Type]=to}function _i(){St[z.Comptime]=eo}const ke={};function qi(){ke[x.Enumeration]=Hi}function Wi(){ke[x.ErrorSet]=Xi}function F(t,e){const n=St[t.type];return n(t,e)}function Hn(t,e){const{structure:n}=e,s=ke[n==null?void 0:n.type];return s?s(t,n):t}function Gi(t,e){const n=Xn(e,kt),s=Ne(t,e,n);return Hn(s,t)}function Ji(t,e){const n=Xn(e,kt),s=Ne(t,e,n);return Hn(s,t)}function Xn(t,e){return function(n,s){const{runtimeSafety:r=!0}=t,i=e(n,s);if(r&&n==="set"){const{min:o,max:c}=kr(s);return function(a,u,l){if(u<o||u>c)throw new Xr(s,u);i.call(this,a,u,l)}}return i}}function Ki(t,e){return Ne(t,e,kt)}function Hi(t,e){const n=function(s){const{constructor:r}=e,i=r(s);if(!i)throw new Nr(e,s);return i};return{get:t.get.length===0?function(r){const i=t.get.call(this);return r==="number"?i:n(i)}:function(r){const i=t.get.call(this,r);return n(i)},set:t.set.length===1?function(r,i){i!=="number"&&(r=n(r)[Symbol.toPrimitive]()),t.set.call(this,r)}:function(r,i){const o=n(i);t.set.call(this,r,o[Symbol.toPrimitive]())}}}function Xi(t,e){const n=function(s){const{constructor:r}=e,i=r(s);if(!i)throw s instanceof Error?new kn(e):new Lr(e,s);return i};return{get:t.get.length===0?function(r){const i=t.get.call(this);return r==="number"?i:n(i)}:function(r){const i=t.get.call(this,r);return n(i)},set:t.set.length===1?function(r,i){if(i!=="number"){const o=n(r);r=Number(o)}t.set.call(this,r)}:function(r,i){const o=n(i);i=Number(o),t.set.call(this,r,i)}}}function Fe(t){switch(t.type){case x.Primitive:case x.ErrorUnion:case x.Optional:case x.Enumeration:case x.ErrorSet:return!0;default:return!1}}function Yn(t){return(this[j][t]??this[X](t))[ne]()}function Zn(t){return this[j][t]??this[X](t)}function Yi(t,e){(this[j][t]??this[X](t))[se](e)}function Re(t,{get:e,set:n}){return t!==void 0?{get:function(){return e.call(this,t)},set:n?function(s){return n.call(this,t,s)}:void 0}:{get:e,set:n}}function Zi(t,e){const{structure:n,slot:s}=t;return Re(s,{get:Fe(n)?Yn:Zn,set:Yi})}function Qi(t){const e=this[j][t];return e==null?void 0:e.constructor}function to(t,e){const{slot:n}=t;return Re(n,{get:Qi})}function eo(t,e){const{slot:n,structure:s}=t;return Re(n,{get:Fe(s)?Yn:Zn})}function Ne(t,e,n){const{littleEndian:s=!0}=e,{bitOffset:r,byteSize:i}=t,o=n("get",t),c=n("set",t);if(r!==void 0){const a=r>>3;return{get:function(){try{return o.call(this[S],a,s)}catch(l){if(l instanceof TypeError&&H.call(this))return o.call(this[S],a,s);throw l}},set:function(l){try{return c.call(this[S],a,l,s)}catch(f){if(f instanceof TypeError&&H.call(this))return c.call(this[S],a,l,s);throw f}}}}else return{get:function(u){try{return o.call(this[S],u*i,s)}catch(l){if(l instanceof TypeError&&H.call(this))return o.call(this[S],u*i,s);throw zn(t,u,l)}},set:function(u,l){try{return c.call(this[S],u*i,l,s)}catch(f){if(f instanceof TypeError&&H.call(this))return c.call(this[S],u*i,l,s);throw zn(t,u,f)}}}}function N(t,e){for(const[n,s]of Object.entries(e))if(s){const{set:r,get:i,value:o,enumerable:c,configurable:a=!0,writable:u=!0}=s;Object.defineProperty(t,n,i?{get:i,set:r,configurable:a,enumerable:c}:{value:o,configurable:a,enumerable:c,writable:u})}for(const n of Object.getOwnPropertySymbols(e)){const s=e[n];s&&Object.defineProperty(t,n,s)}}function et(t,e,n){const s={};for(const[o,c]of Object.entries(e))c!=null&&c.set&&o!=="$"&&(s[o]=c.set);const{get:r,set:i}=e.$;return N(t.prototype,{[Bn]:{value:Object.keys(s)},[se]:{value:i},[ne]:{value:r},[Ce]:{value:s},[pt]:{value:null},...e}),N(t,n),t}function wt(){const t=Object.getOwnPropertyDescriptors(this.constructor.prototype);for(const[e,n]of Object.entries(t))n.set&&(n.set=zt,Object.defineProperty(this,e,n));Object.defineProperty(this,se,{value:zt}),Object.defineProperty(this,pt,{value:this})}function nt(t,e,n){const{byteSize:s,align:r,instance:{members:i,template:o},hasPointer:c}=t,{modifier:a,initializer:u,finalizer:l,alternateCaster:f,shapeDefiner:b}=e,y=no(i);let m;if(o!=null&&o[j]){const g=i.filter(w=>Fi(w));g.length>0&&(m=g.map(w=>w.slot))}const h=new so,d=function(g,w={}){const{fixed:E=!1}=w,$=this instanceof d;let P,v;if($){if(arguments.length===0)throw new Fr(t);P=this,y&&(P[j]={}),b?(u.call(P,g,E),v=P[S]):P[S]=v=n.allocateMemory(s,r,E)}else{if(f&&(P=f.call(this,g,w),P!==!1)||(v=Vi(t,g,n),P=h.find(v)))return P;P=Object.create(d.prototype),b?Nt.call(P,v,t,!1,!1,{shapeDefiner:b}):P[S]=v,y&&(P[j]={})}if(m)for(const T of m)P[j][T]=o[j][T];return a&&a.call(P),$&&(b||u.call(P,g)),l&&(P=l.call(P)),h.save(v,P)};return d}function Lt({source:t}){const e=t[j][0];e&&this[Ie](e)}function at(t){const{instance:{template:e}}=t;return function(n,s){var f;const r=Object.keys(n),i=this[Ce],o=this[Bn];for(const b of r)if(!(b in i))throw new _r(t,b);let c=0,a=0,u=0,l=0;for(const b of o){const y=i[b];y.special?b in n&&l++:(c++,b in n?a++:y.required&&u++)}if(u!==0&&l===0){const b=o.filter(y=>i[y].required&&!(y in n));throw new Br(t,b)}if(l+a>r.length)for(const b of o)b in n&&(r.includes(b)||r.push(b));a<c&&l===0&&e&&(e[S]&&this[M](e),(f=this[D])==null||f.call(this,Lt,{vivificate:!0,source:e}));for(const b of r)i[b].call(this,n[b],s);return r.length}}function no(t){for(const{type:e}of t)switch(e){case z.Object:case z.Comptime:case z.Type:case z.Literal:return!0}return!1}function Qn(){return this}class so{constructor(){V(this,"map",new WeakMap)}find(e){return this.map.get(e)}save(e,n){return this.map.set(e,n),n}}const Vn={},Pn={};function Ut(t,e="utf-8"){let n=Vn[e];n||(n=Vn[e]=new TextDecoder(e));let s;if(Array.isArray(t))if(t.length===1)s=t[0];else{let r=0;for(const c of t)r+=c.length;const{constructor:i}=t[0];s=new i(r);let o=0;for(const c of t)s.set(c,o),o+=c.length}else s=t;return n.decode(s)}function ro(t,e="utf-8"){switch(e){case"utf-16":{const{length:n}=t,s=new Uint16Array(n);for(let r=0;r<n;r++)s[r]=t.charCodeAt(r);return s}default:{let n=Pn[e];return n||(n=Pn[e]=new TextEncoder),n.encode(t)}}}function io(t){const e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=String.fromCharCode.apply(null,e);return btoa(n)}function oo(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<n.byteLength;s++)n[s]=e.charCodeAt(s);return new DataView(n.buffer)}function G(){const t=new Map,e={error:"throw"},n=function(s){const r=s==null?void 0:s[q];if(r){let i=t.get(s);return i===void 0&&(i=r.call(s,n,e),t.set(s,i)),i}else return s};return n(this)}const co=BigInt(Number.MAX_SAFE_INTEGER),ao=BigInt(Number.MIN_SAFE_INTEGER);function Y(){const t=new Map,e={error:"return"},n=function(s){const r=s==null?void 0:s[q];if(r){let i=t.get(s);return i===void 0&&(i=r.call(s,n,e),typeof(i==null?void 0:i.toJSON)=="function"&&(i=i.toJSON()),t.set(s,i)),i}else return typeof s=="bigint"&&ao<=s&&s<=co?Number(s):s};return n(this)}function ts(t,e){const n=Le(()=>this.$,e);return t(n)}function Le(t,e={}){const{error:n="throw"}=e;try{return t()}catch(s){if(n==="return")return s;throw s}}function ut(t,e={}){return ce({get(){return H.call(this),this[S]},set(n,s){Ii(n),Nt.call(this,n,t,!0,s,e)}})}function lt(t,e={}){return ce({get(){return io(this.dataView)},set(n,s){if(typeof n!="string")throw new ee("string",n);const r=oo(n);Nt.call(this,r,t,!1,s,e)}})}function es(t,e={}){const{sentinel:n,instance:{members:s}}=t,{byteSize:r}=s[0];return ce({get(){const i=this.dataView,o=r===1?Int8Array:Int16Array,c=new o(i.buffer,i.byteOffset,this.length),a=Ut(c,`utf-${r*8}`);return(n==null?void 0:n.value)===void 0?a:a.slice(0,-1)},set(i,o){if(typeof i!="string")throw new ee("a string",i);(n==null?void 0:n.value)!==void 0&&i.charCodeAt(i.length-1)!==n.value&&(i=i+String.fromCharCode(n.value));const c=ro(i,`utf-${r*8}`),a=new DataView(c.buffer);Nt.call(this,a,t,!1,o,e)}})}function Et(t,e={}){const{typedArray:n}=t;return ce({get(){const s=this.dataView,r=s.byteLength/n.BYTES_PER_ELEMENT;return new n(s.buffer,s.byteOffset,r)},set(s,r){if(!Pi(s,n))throw new ee(n.name,s);const i=new DataView(s.buffer,s.byteOffset,s.byteLength);Nt.call(this,i,t,!0,r,e)}})}function ce({get:t,set:e}){return t.special=e.special=!0,{get:t,set:e}}let rt,Yt;function ns(t,e){const{name:n,byteSize:s,align:r,instance:{members:[i]}}=t;if(Yt||(Yt=class extends fo{},rt=ns({...t,name:"anyerror"},e)),rt&&n==="anyerror")return t.constructor=rt,t.typedArray=dt(i),rt;const o=Yt,{get:c,set:a}=F(i,e),u=["string","number"],l=at(t),f=function(g){if(g instanceof y[Mt])a.call(this,g);else if(g&&typeof g=="object"&&!Ct(g)){if(l.call(this,g)===0)throw new ht(t,u,g)}else g!==void 0&&a.call(this,g)},b=function(g){if(typeof g=="number"||typeof g=="string")return y[g];if(g instanceof y[Mt])return y[Number(g)];if(Ct(g))return y[`Error: ${g.error}`];if(ie(t,g,e))return!1;throw new ht(t,u,g)},y=t.constructor=nt(t,{initializer:f,alternateCaster:b},e),m=t.typedArray=dt(i),h={$:{get:c,set:a},dataView:ut(t),base64:lt(t),typedArray:m&&Et(t),valueOf:{value:G},toJSON:{value:Y},delete:{value:ct(e)},[M]:{value:W(s)},[q]:{value:c},[L]:{value:wt}},d={[k]:{value:r},[B]:{value:s},[Mt]:{value:o},[bt]:n==="anyerror"?{value:[]}:void 0};return et(y,h,d)}function uo(t,e,n){const s=n[ne]("number");let r=rt[s];if(!r){const c=t[Mt];r=new c(e,s)}const i=String(r),o={[s]:{value:r},[i]:{value:r},[e]:{value:r}};N(t,o),N(rt,o),rt[bt].push(e)}function lo(){Yt=rt=void 0}class fo extends Error{constructor(e,n){super(Fn(e)),this.number=n}[Symbol.toPrimitive](e){switch(e){case"string":case"default":return Error.prototype.toString.call(this,e);default:return this.number}}toJSON(){return{error:this.message}}}function yo(t,e){const n=(s,{methods:r},i)=>{const o={},c=/^(get|set)\s+([\s\S]+)/;for(const a of r){const u=e.createCaller(a,i),l=c.exec(u.name);if(l){const f=l[1],b=l[2],y=f==="get"?0:1;if(mo(a,i)===y){let h=o[b];h||(h=o[b]={configurable:!0,enumerable:!0}),h[f]=u}}else o[u.name]={value:u,configurable:!0,writable:!0}}N(s,o)};n(t.constructor,t.static,!1),n(t.constructor.prototype,t.instance,!0)}function mo(t,e){const{argStruct:{instance:{members:n}}}=t;return n.length-(e?2:1)}function ho(t,e){const{byteSize:n,align:s,instance:{members:[r]}}=t,{get:i,set:o}=F(r,e),c=["string","number","tagged union"],a=at(t),u=function(d){if(d&&typeof d=="object"){if(a.call(this,d)===0)throw new ht(t,c,d)}else d!==void 0&&o.call(this,d)},l=function(d){if(typeof d=="string"||typeof d=="number"||typeof d=="bigint"){let g=f[d];if(!g&&f[_n]&&typeof d!="string"){g=new f(void 0);debugger;o.call(g,d,"number"),ss(f,`${d}`,g)}return g}else{if(d instanceof f)return d;if((d==null?void 0:d[xn])instanceof f)return d[xn];if(ie(t,d,e))return!1;throw new ht(t,c,d)}},f=t.constructor=nt(t,{initializer:u,alternateCaster:l},e),b=t.typedArray=dt(r),y=function(d){switch(d){case"string":case"default":return this.$[Ue];default:return i.call(this,"number")}},m={$:{get:i,set:o},dataView:ut(t),base64:lt(t),typedArray:b&&Et(t),valueOf:{value:G},toString:{value:G},toJSON:{value:Y},delete:{value:ct(e)},[Symbol.toPrimitive]:{value:y},[M]:{value:W(n)},[q]:{value:bo},[L]:{value:wt}},h={[k]:{value:s},[B]:{value:n}};return et(f,m,h)}function bo(t){return t(this.$[Ue])}function ss(t,e,n){if(e!==void 0){if(n instanceof t){N(n,{[Ue]:{value:e}});const s=n[Symbol.toPrimitive]();N(t,{[s]:{value:n},[e]:{value:n}})}}else N(t,{[_n]:{value:!0}})}function po(t,e){const{byteSize:n,align:s,instance:{members:[r]},isConst:i}=t,{runtimeSafety:o=!0}=e,{structure:c}=r,{type:a,sentinel:u,length:l}=c,f=a===x.Slice&&c.length===void 0&&!u,b=f?n/2:n,{get:y,set:m}=F({type:z.Uint,bitOffset:0,bitSize:b*8,byteSize:b,structure:{byteSize:b}},e),{get:h,set:d}=f?F({type:z.Uint,bitOffset:b*8,bitSize:b*8,byteSize:b,structure:{name:"usize",byteSize:b}},e):{},g=function(){const O=this[vt];if(O){const I=this[Ee]();if(I.address!==O.address||I.length!==O.length){const{constructor:Z}=c,st=e.findMemory(I.address,I.length,Z[B]),je=Z.call($t,st);this[j][0]=je,this[vt]=I}}},w=function(){g.call(this);const O=this[j][0];if(!O)throw new vn;return i?rs(O):O},E=function(O){if(e.inFixedMemory(this))if(e.inFixedMemory(O)){const I={address:e.getViewAddress(O[S]),length:f?O.length:Sn};gn.call(this,I),this[vt]=I}else throw new Hr(t,O);this[j][0]=O},$=Fe(c)?function(){return w.call(this)[ne]()}:w,P=i?zt:function(O){g.call(this);const I=this[j][0];if(!I)throw new vn;return I[se](O)},v=function(O,I){const Z=c.constructor;if(this===$t||this===$e||O instanceof ft)return!1;if(Mn(O,Z))return new ft(Z(O["*"]),I);if(a===x.Slice)return new ft(Z(O),I);throw new Wr(t)},T=function(){const O=a===x.Pointer?{}:jo,I=new Proxy(this,O);return Object.defineProperty(this,re,{value:I}),I},K=function(O){var Z;const I=c.constructor;if(Mn(O,I)){if(!i&&O.constructor.const)throw new Gr(t,O);O=O[j][0]}if(O instanceof I){H.call(O);const st=O[pt];if(st)if(i)O=st;else throw new Qr(t)}else if(Mi(O,I)){const st=ie(c,O,e);O=I(st)}else if(O!==void 0&&!O[S]){const st=e.inFixedMemory(this),je=new I(O,{fixed:st});if(o&&c.typedArray){const wn=(Z=O==null?void 0:O.buffer)==null?void 0:Z[Symbol.toStringTag];(wn==="ArrayBuffer"||wn==="SharedArrayBuffer")&&ei(c,O)}O=je}else if(O!==void 0)throw new Kr(t,O);this[Ie](O)},ft=t.constructor=nt(t,{initializer:K,alternateCaster:v,finalizer:T},e),gn=function({address:O,length:I}){m.call(this,O),d==null||d.call(this,I)},Sn=a!=x.Slice?1:l,Mr=function(){const O=y.call(this),I=h?h.call(this):u?O?e.findSentinel(O,u.bytes)+1:0:Sn;return{address:O,length:I}},$r={"*":{get:$,set:P},$:{get:Be,set:K},valueOf:{value:G},toJSON:{value:Y},delete:{value:wo},[Symbol.toPrimitive]:a===x.Primitive&&{value:Oo},[yt]:{value:w},[Ie]:{value:E},[Ee]:{value:Mr},[Ln]:{value:gn},[D]:{value:Ao},[M]:{value:W(n)},[q]:{value:So},[vt]:{value:void 0,writable:!0},[L]:{value:go}},Ur={child:{get:()=>c.constructor},const:{value:i},[k]:{value:s},[B]:{value:n}};return et(ft,$r,Ur)}function go(){const t=this[Dt],e=Object.getOwnPropertyDescriptor(t.constructor.prototype,"$");e.set=zt,Object.defineProperty(t,"$",e),Object.defineProperty(t,pt,{value:t})}function So(t){let e;try{e=this["*"]}catch{e=Symbol.for("inaccessible")}return t(e)}function wo(){const t=this[j][0];t==null||t.delete()}function Oo(t){return this[j][0][Symbol.toPrimitive](t)}function Be(){return this[re]}function vo({isActive:t}){this[j][0]&&!t(this)&&(this[j][0]=void 0)}function Ao(t,e={}){const{source:n,isActive:s=Q,isMutable:r=Q}=e;t.call(this,{source:n,isActive:s,isMutable:r})}function Mn(t,e){var n;return((n=t==null?void 0:t.constructor)==null?void 0:n.child)===e&&t["*"]}function rs(t){let e=t[ze];return e||(Object.defineProperty(t,ze,{value:void 0,configurable:!0}),e=new Proxy(t,zo),Object.defineProperty(t,ze,{value:e})),e}const jo={get(t,e){return e===Dt?t:e in t?t[e]:t[yt]()[e]},set(t,e,n){if(e in t)t[e]=n;else{const s=t[yt]();s[e]=n}return!0},deleteProperty(t,e){if(e in t)delete t[e];else{const n=t[yt]();delete n[e]}return!0},has(t,e){if(e in t)return!0;{const n=t[yt]();return e in n}}},zo={get(t,e){if(e===pt)return t;{const n=t[e];return(n==null?void 0:n[pt])===null?rs(n):n}},set(t,e,n){const s=t[Dt];if(s&&!(e in s))return t[e]=n,!0;zt()}};function Q(){return!0}function xo(t,e){const{length:n,byteSize:s,align:r,instance:{members:[i]}}=t,{bitSize:o,structure:c}=i,a={};for(let h=0,d=0;h<n;h++,d+=o){const{get:g,set:w}=F({...i,bitOffset:d},e);a[h]={get:g,set:w,configurable:!0}}const u=at(t),l=function(h){if(h instanceof f)this[M](h);else if(h!=null&&h[Symbol.iterator]){let d=h.length;if(typeof d!="number"&&(h=[...h],d=h.length),d!==n)throw new te(t,this,h);let g=0;for(const w of h)this[Ce][g++].call(this,w)}else if(h&&typeof h=="object"){if(u.call(this,h)===0)throw new mt(t,h)}else if(h!==void 0)throw new mt(t,h)},f=t.constructor=nt(t,{initializer:l},e),b=t.typedArray=dt(i),y={...a,$:{get:Qn,set:l},length:{value:n},dataView:ut(t),base64:lt(t),typedArray:b&&Et(t),valueOf:{value:G},toJSON:{value:Y},entries:{value:To},delete:{value:ct(t)},[Symbol.iterator]:{value:os},[M]:{value:W(s)},[q]:{value:is},[L]:{value:wt}},m={child:{get:()=>c.constructor},[Rt]:{value:oe(t)},[k]:{value:r},[B]:{value:s}};return et(f,y,m)}function is(t){const e=[];for(const n of this)e.push(t(n));return e}function os(){const t=this,e=this.length;let n=0;return{next(){let s,r;if(n<e){const i=n++;s=t[i],r=!1}else r=!0;return{value:s,done:r}}}}function cs(){const t=this,e=this.length;let n=0;return{next(){let s,r;if(n<e){const i=n++;s=[i,t[i]],r=!1}else r=!0;return{value:s,done:r}}}}function To(){return{[Symbol.iterator]:cs.bind(this),length:this.length}}function Eo(t,e){const{byteSize:n,align:s,instance:{members:r},isTuple:i,hasPointer:o}=t,c={};for(const m of r){const{get:h,set:d}=F(m,e);c[m.name]={get:h,set:d,configurable:!0,enumerable:!0},m.isRequired&&d&&(d.required=!0)}const a=!!r.find(m=>m.type===z.Object),u=at(t),l=function(m){if(m instanceof f)this[M](m),o&&this[D](Lt,{vivificate:!0,source:m});else if(m&&typeof m=="object")u.call(this,m);else if(m!==void 0)throw new ht(t,"object",m)},f=t.constructor=nt(t,{initializer:l},e),b={$:{get:Qn,set:l},dataView:ut(t),base64:lt(t),length:i&&{value:r.length>0?parseInt(r[r.length-1].name)+1:0},valueOf:{value:G},toJSON:{value:Y},delete:{value:ct(e)},entries:i&&{value:cs},...c,[Symbol.iterator]:{value:i?os:ls},[M]:{value:W(n)},[X]:a&&{value:_e(t)},[D]:o&&{value:qe(t,Q)},[q]:{value:i?is:as},[L]:{value:wt},[bt]:{value:r.map(m=>m.name)}},y={[k]:{value:s},[B]:{value:n}};return et(f,b,y)}function as(t,e){const n={};for(const[s,r]of us.call(this,e))n[s]=t(r);return n}function us(t){return{[Symbol.iterator]:Io.bind(this,t),length:this[bt].length}}function ls(t){return us.call(this,t)[Symbol.iterator]()}function Io(t){const e=this,n=this[bt];let s=0;return{next(){let r,i;if(s<n.length){const o=n[s++];r=[o,Le(()=>e[o],t)],i=!1}else i=!0;return{value:r,done:i}}}}function _e(t){const{instance:{members:e}}=t,n={};for(const s of e.filter(r=>r.type===z.Object))n[s.slot]=s;return function(r){const i=n[r],{bitOffset:o,byteSize:c,structure:{constructor:a}}=i,u=this[S],f=u.byteOffset+(o>>3);let b=c;if(b===void 0){if(o&7)throw new Yr(i);b=i.bitSize>>3}const y=new DataView(u.buffer,f,b);return this[j][r]=a.call($e,y)}}function qe(t,e={}){const{isChildActive:n=Q,isChildMutable:s=Q}=e,{instance:{members:r}}=t,i=r.filter(o=>o.structure.hasPointer);return function(c,a={}){var m;const{source:u,vivificate:l=!1,isActive:f=Q,isMutable:b=Q}=a,y={...a,isActive:h=>f(this)&&n.call(this,h),isMutable:h=>b(this)&&s.call(this,h)};for(const{slot:h}of i){if(u){const g=(m=u[j])==null?void 0:m[h];if(!g)continue;y.source=g}const d=this[j][h]??(l?this[X](h):null);d&&d[D](c,y)}}}function Vo(t,e){const{type:n,constructor:s,static:{members:r,template:i}}=t,o={};for(const c of r)o[c.name]=F(c,e);if(N(s,{valueOf:{value:G},toJSON:{value:Y},...o,[Symbol.iterator]:{value:ls},[j]:i&&{value:i[j]},[bt]:!s[bt]&&{value:r.map(c=>c.name)},[q]:{value:as}}),n===x.Enumeration)for(const{name:c,slot:a}of r)ss(s,c,s[j][a]);else if(n===x.ErrorSet)for(const{name:c,slot:a}of r)uo(s,c,s[j][a])}function Po(t,e){const{byteSize:n,align:s,instance:{members:r},hasPointer:i}=t,o=!!r.find(y=>y.type===z.Object),c=t.constructor=function(y){const m=e.allocateMemory(n,s);this[S]=m,o&&(this[j]={}),l.call(this,y)},a=r.slice(0,-1).map(y=>y.name),u=a.length,l=function(y){if(y.length!==u)throw new qr(t,y.length);for(const[m,h]of a.entries())try{this[h]=y[m]}catch(d){throw ti(t,m,d)}},f={};for(const y of r)f[y.name]=F(y,e);const b=function(y){return y===this.retval};return N(c.prototype,{...f,[M]:{value:W(n)},[X]:o&&{value:_e(t)},[D]:i&&{value:qe(t,{isChildMutable:b})}}),N(c,{[k]:{value:s},[B]:{value:n}}),c}function Mo(t,e){const{length:n,byteSize:s,align:r,instance:{members:[i]},hasPointer:o}=t,{get:c,set:a}=F(i,e),u=ms(i),l=at(t),f=function(w){if(w instanceof y)this[M](w),o&&this[D](Lt,{vivificate:!0,source:w});else if(typeof w=="string"&&u&&(w={string:w}),w!=null&&w[Symbol.iterator]){if(w=gs(w),w.length!==n)throw new te(t,this,w);let E=0;for(const $ of w)a.call(this,E++,$)}else if(w&&typeof w=="object"){if(l.call(this,w)===0)throw new mt(t,w)}else if(w!==void 0)throw new mt(t,w)},b=fs,y=t.constructor=nt(t,{initializer:f,finalizer:b},e),m=t.typedArray=dt(i),h=i.type===z.Object,d={$:{get:Be,set:f},length:{value:n},dataView:ut(t),base64:lt(t),string:u&&es(t),typedArray:m&&Et(t),get:{value:c},set:{value:a},entries:{value:We},valueOf:{value:G},toJSON:{value:Y},delete:{value:ct(e)},[Symbol.iterator]:{value:bs},[M]:{value:W(s)},[X]:h&&{value:ps(t)},[D]:o&&{value:ds()},[q]:{value:hs},[L]:{value:ys}},g={child:{get:()=>i.structure.constructor},[Rt]:{value:oe(t)},[k]:{value:r},[B]:{value:s}};return et(y,d,g)}function fs(){const t=new Proxy(this,Uo);return Object.defineProperty(this,re,{value:t}),t}function ys(){wt.call(this),Object.defineProperty(this,"set",{value:zt});const t=this.get;Object.defineProperty(this,"get",{value:function(n){var r;const s=t.call(this,n);return(s==null?void 0:s[pt])===null&&((r=s[L])==null||r.call(s)),s}})}function ms(t){return t.type===z.Uint&&[8,16].includes(t.bitSize)}function hs(t,e){const n=[];for(const[s,r]of We.call(this,e))n.push(t(r));return n}function bs(){const t=this[De]??this,e=this.length;let n=0;return{next(){let s,r;if(n<e){const i=n++;s=t.get(i),r=!1}else r=!0;return{value:s,done:r}}}}function $o(t){const e=this[De]??this,n=this.length;let s=0;return{next(){let r,i;if(s<n){const o=s++;r=[o,Le(()=>e.get(o),t)],i=!1}else i=!0;return{value:r,done:i}}}}function We(t){return{[Symbol.iterator]:$o.bind(this,t),length:this.length}}function ps(t){const{instance:{members:[e]}}=t,{byteSize:n,structure:s}=e;return function(i){const{constructor:o}=s,c=this[S],u=c.byteOffset+n*i,l=new DataView(c.buffer,u,n);return this[j][i]=o.call($e,l)}}function ds(t){return function(n,s={}){const{source:r,vivificate:i=!1,isActive:o=Q,isMutable:c=Q}=s,a={...s,isActive:()=>o(this),isMutable:()=>c(this)};for(let u=0,l=this.length;u<l;u++){r&&(a.source=r==null?void 0:r[j][u]);const f=this[j][u]??(i?this[X](u):null);f&&f[D](n,a)}}}function gs(t){var r;if(typeof t.length=="number")return t;const e=t[Symbol.iterator](),n=e.next(),s=(r=n.value)==null?void 0:r.length;if(typeof s=="number"&&Object.keys(n.value).join()==="length")return Object.assign(function*(){let i;for(;!(i=e.next()).done;)yield i.value}(),{length:s});{const i=[];let o=n;for(;!o.done;)i.push(o.value),o=e.next();return i}}const Uo={get(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return t.get(n);switch(e){case"get":return t[Vt]||(t[Vt]=t.get.bind(t)),t[Vt];case"set":return t[Pt]||(t[Pt]=t.set.bind(t)),t[Pt];case De:return t;default:return t[e]}},set(t,e,n){const s=typeof e=="symbol"?0:e|0;if(s!==0||s==e)t.set(s,n);else switch(e){case"get":t[Vt]=n;break;case"set":t[Pt]=n;break;default:t[e]=n}return!0},deleteProperty(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return!1;switch(e){case"get":delete t[Vt];break;case"set":delete t[Pt];break;default:delete t[e]}return!0},has(t,e){const n=typeof e=="symbol"?0:e|0;return n!==0||n==e?n>=0&&n<t.length:t[e]},ownKeys(t){const e=[];for(let n=0,s=t.length;n<s;n++)e.push(`${n}`);return e.push("length",re),e},getOwnPropertyDescriptor(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e){if(n>=0&&n<t.length)return{value:t.get(n),enumerable:!0,writable:!0,configurable:!0}}else return Object.getOwnPropertyDescriptor(t,e)}};function Co(t,e){const{byteSize:n,align:s,instance:{members:r},hasPointer:i}=t,{get:o,set:c}=F(r[0],e),{get:a,set:u}=F(r[1],e),l=function(){if(a.call(this,"number"))throw a.call(this);return o.call(this)},f=r[0].type===z.Void,b=r[1].structure.constructor,y=function(){return!a.call(this,"number")},m=function(){var T;this[Tn](),(T=this[D])==null||T.call(this,vo)},h=!!r.find(T=>T.type===z.Object),d=at(t),g=function(T){if(T instanceof w)this[M](T),i&&y.call(this)&&this[D](Lt,{vivificate:!0,source:T});else if(T instanceof b[Mt]&&b(T))u.call(this,T),m.call(this);else if(T!==void 0||f)try{c.call(this,T),u.call(this,0,"number")}catch(K){if(T instanceof Error)throw new kn(t);if(Ct(T))u.call(this,T),m.call(this);else if(T&&typeof T=="object"){if(d.call(this,T)===0)throw K}else throw K}},w=t.constructor=nt(t,{initializer:g},e),{bitOffset:E,byteSize:$}=r[0],P={$:{get:l,set:g},dataView:ut(t),base64:lt(t),valueOf:{value:G},toJSON:{value:Y},delete:{value:ct(e)},[M]:{value:W(n)},[Tn]:{value:mi(E/8,$)},[X]:h&&{value:_e(t)},[D]:i&&{value:qe(t,{isChildActive:y})},[q]:{value:ts},[L]:{value:wt}},v={[k]:{value:s},[B]:{value:n}};return et(w,P,v)}function Do(t,e){const{byteSize:n,align:s,instance:{members:[r]}}=t,{get:i,set:o}=F(r,e),c=at(t),a=function(y){if(y instanceof u)this[M](y);else if(y&&typeof y=="object"){if(c.call(this,y)===0){const m=Un(r);throw new ht(t,m,y)}}else y!==void 0&&o.call(this,y)},u=t.constructor=nt(t,{initializer:a},e),l=t.typedArray=dt(r),f={$:{get:i,set:o},dataView:ut(t),base64:lt(t),typedArray:l&&Et(t),valueOf:{value:G},toJSON:{value:Y},delete:{value:ct(e)},[Symbol.toPrimitive]:{value:i},[M]:{value:W(n)},[q]:{value:ts},[L]:{value:wt}},b={[Rt]:{value:oe(t)},[k]:{value:s},[B]:{value:n}};return et(u,f,b)}function ko(t,e){const{align:n,instance:{members:[s]},hasPointer:r}=t,{get:i,set:o}=F(s,e),{byteSize:c,structure:a}=s,u=Ro(t,e);u&&(t.sentinel=u);const l=ms(s),f=function(v,T,K=!1){v||(v=e.allocateMemory(T*c,n,K)),this[S]=v,this[Ve]=T},b=function(v,T){if(T!==this[Ve])throw new te(t,this,v)},y=at(t),m=function(v,T=!1){if(v instanceof d)this[S]?b.call(this,v,v.length):f.call(this,null,v.length,T),this[M](v),r&&this[D](Lt,{vivificate:!0,source:v});else if(typeof v=="string"&&l)m.call(this,{string:v},T);else if(v!=null&&v[Symbol.iterator]){v=gs(v),this[S]?b.call(this,v,v.length):f.call(this,null,v.length,T);let K=0;for(const ft of v)u==null||u.validateValue(ft,K,v.length),o.call(this,K++,ft)}else if(typeof v=="number")if(!this[S]&&v>=0&&isFinite(v))f.call(this,null,v);else throw new mt(t,v,!this[S]);else if(v&&typeof v=="object"){if(y.call(this,v,T)===0)throw new mt(t,v)}else if(v!==void 0)throw new mt(t,v)},h=fs,d=t.constructor=nt(t,{initializer:m,shapeDefiner:f,finalizer:h},e),g=t.typedArray=dt(s),w=s.type===z.Object,E={shapeDefiner:f},$={$:{get:Be,set:m},length:{get:Fo},dataView:ut(t,E),base64:lt(t,E),string:l&&es(t,E),typedArray:g&&Et(t,E),get:{value:i},set:{value:o},entries:{value:We},valueOf:{value:G},toJSON:{value:Y},delete:{value:ct(e)},[Symbol.iterator]:{value:bs},[M]:{value:W(c,!0)},[X]:w&&{value:ps(t)},[D]:r&&{value:ds()},[q]:{value:hs},[L]:{value:ys}},P={child:{get:()=>a.constructor},[Rt]:{value:oe(t)},[k]:{value:n},[B]:{value:c}};return et(d,$,P)}function Fo(){return this[Ve]}function Ro(t,e){const{runtimeSafety:n=!0}=e,{byteSize:s,instance:{members:[r,i],template:o}}=t;if(!i)return;const{get:c}=F(i,e),a=c.call(o,0),{get:u}=F(r,e),l=n?function(y,m,h){if(y===a&&m!==h-1)throw new On(t,y,m,h);if(y!==a&&m===h-1)throw new Ht(t,a,m,h)}:function(y,m,h){if(y!==a&&m===h-1)throw new Ht(t,a,h)},f=n?function(y,m){for(let h=0;h<m;h++){const d=u.call(y,h);if(d===a&&h!==m-1)throw new On(t,a,h,m);if(d!==a&&h===m-1)throw new Ht(t,a,m)}}:function(y,m){if(m*s===y[S].byteLength){const h=m-1;if(u.call(y,h)!==a)throw new Ht(t,a,m)}},b=o[S];return{value:a,bytes:b,validateValue:l,validateData:f}}const J=Array(Object.values(x).length);function No(){J[x.Primitive]=Do}function Lo(){J[x.Array]=Mo}function Bo(){J[x.Struct]=Eo}function _o(){J[x.ArgStruct]=Po}function qo(){J[x.ErrorUnion]=Co}function Wo(){J[x.ErrorSet]=ns,Wi()}function Go(){J[x.Enumeration]=ho,qi()}function Jo(){J[x.Pointer]=po,Kn()}function Ko(){J[x.Slice]=ko}function Ho(){J[x.Vector]=xo}function Xo(t){return J[t]}class Yo{constructor(){V(this,"context");V(this,"contextStack",[]);V(this,"consolePending",[]);V(this,"consoleTimeout",0);V(this,"viewMap",new WeakMap);V(this,"initPromise");V(this,"abandoned",!1);V(this,"released",!1);V(this,"littleEndian",!0);V(this,"runtimeSafety",!0);V(this,"comptime",!1);V(this,"variables",[]);V(this,"imports");V(this,"console",globalThis.console)}startContext(){this.context&&this.contextStack.push(this.context),this.context=new Zo}endContext(){this.context=this.contextStack.pop()}allocateMemory(e,n=0,s=!1){return s?this.allocateFixedMemory(e,n):this.allocateRelocMemory(e,n)}allocateRelocMemory(e,n){return this.obtainView(new ArrayBuffer(e),0,e)}registerMemory(e,n=null,s=void 0){const{memoryList:r}=this.context,i=this.getViewAddress(e),o=xe(r,i);return r.splice(o,0,{address:i,dv:e,len:e.byteLength,targetDV:n,targetAlign:s}),i}unregisterMemory(e){const{memoryList:n}=this.context,s=xe(n,e),r=n[s-1];(r==null?void 0:r.address)===e&&n.splice(s-1,1)}findMemory(e,n,s){if(ec(e))if(!n)e=0;else return null;let r=n*(s??0);if(this.context){const{memoryList:i}=this.context,o=xe(i,e),c=i[o-1];if((c==null?void 0:c.address)===e&&c.len===r)return c.targetDV??c.dv;if((c==null?void 0:c.address)<=e&&e<Ot(c.address,c.len)){const a=Number(e-c.address),u=c.targetDV??c.dv,l=s===void 0;l&&(r=u.byteLength-a);const f=this.obtainView(u.buffer,u.byteOffset+a,r);return l&&(f[k]=c.targetAlign),f}}return this.obtainFixedView(e,r)}getViewAddress(e){const n=this.getBufferAddress(e.buffer);return Ot(n,e.byteOffset)}obtainView(e,n,s){let r=this.viewMap.get(e);if(!r){const c=new DataView(e,n,s);return this.viewMap.set(e,c),c}if(r instanceof DataView){if(r.byteOffset===n&&r.byteLength===s)return r;{const c=r;r={[`${c.byteOffset}:${c.byteLength}`]:c},this.viewMap.set(e,r)}}const i=`${n}:${s}`;let o=r[i];return o||(o=r[i]=new DataView(e,n,s)),o}captureView(e,n,s){if(s){const r=this.allocateRelocMemory(n,0);return n>0&&this.copyBytes(r,e,n),r}else return this.obtainFixedView(e,n)}castView(e,n,s){var c;const{constructor:r,hasPointer:i}=e,o=r.call($t,n);return i&&this.acquirePointerTargets(o),s||(c=o[L])==null||c.call(o),o}finalizeShape(e){const s=Xo(e.type)(e,this);typeof s=="function"&&(N(s,{name:{value:e.name,configurable:!0}}),s.prototype.hasOwnProperty(Symbol.toStringTag)||N(s.prototype,{[Symbol.toStringTag]:{value:e.name,configurable:!0}}))}finalizeStructure(e){Vo(e,this),yo(e,this)}createCaller(e,n){const{name:s,argStruct:r,thunkId:i}=e,{constructor:o}=r,c=this;let a;return n?a=function(...u){return c.invokeThunk(i,new o([this,...u]))}:a=function(...u){return c.invokeThunk(i,new o(u))},Object.defineProperty(a,"name",{value:s}),a}recreateStructures(e,n){Object.assign(this,n);const s=(o,c)=>{for(const[a,u]of Object.entries(c))o[a]=r(u);return o},r=o=>{var c;if(o.memory){const{array:a,offset:u,length:l}=o.memory,f=this.obtainView(a.buffer,u,l),{constructor:b}=o.structure,{reloc:y,const:m}=o,h=b.call($t,f);return m&&((c=h[L])==null||c.call(h)),o.slots&&s(h[j],o.slots),y!==void 0&&this.variables.push({reloc:y,object:h}),h}else return o.structure};lo();const i=new Map;for(const o of e){for(const c of[o.instance,o.static])if(c.template){const a=c.template,u=c.template={};if(a.memory){const{array:l,offset:f,length:b}=a.memory;u[S]=this.obtainView(l.buffer,f,b)}if(a.slots){const l=u[j]={};i.set(l,a.slots)}}this.finalizeShape(o)}for(const[o,c]of i)s(o,c);for(const o of e)this.finalizeStructure(o)}linkVariables(e){const n=[];for(const{object:s,reloc:r}of this.variables)this.linkObject(s,r,e),s[yt]&&s[j][0]&&n.push(s);for(const s of n){const r=s[yt](),i=this.getViewAddress(r[S]),{length:o=1}=r;s[vt]={address:i,length:o}}}linkObject(e,n,s){if(this.inFixedMemory(e))return;const r=e[S],i=this.recreateAddress(n),o=this.obtainFixedView(i,r.byteLength);if(s){const a=Object.create(e.constructor.prototype);a[S]=o,a[M](e)}e[S]=o;const c=a=>{if(a[j]){for(const u of Object.values(a[j]))if(u){const l=u[S];if(l.buffer===r.buffer){const f=l.byteOffset-r.byteOffset;u[S]=this.obtainView(o.buffer,f,l.byteLength),c(u)}}}};c(e)}unlinkVariables(){for(const{object:e}of this.variables)this.unlinkObject(e)}unlinkObject(e){if(!this.inFixedMemory(e))return;const n=e[S],s=this.allocateMemory(n.byteLength),r=Object.create(e.constructor.prototype);r[S]=s,r[M](e),e[S]=s}releaseFunctions(){const e=()=>{throw new Error("Module was abandoned")};for(const n of Object.keys(this.imports))this[n]&&(this[n]=e)}getSpecialExports(){return{init:()=>this.initPromise??Promise.resolve(),abandon:()=>this.abandon(),released:()=>this.released,connect:e=>this.console=e}}abandon(){this.abandoned||(this.releaseFunctions(),this.unlinkVariables(),this.abandoned=!0)}writeToConsole(e){const{console:n}=this;try{const s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength).slice(),r=s.lastIndexOf(10);if(r===-1)this.consolePending.push(s);else{const i=s.subarray(0,r),o=s.subarray(r+1),c=[...this.consolePending,i];n.log(Ut(c)),this.consolePending=o.length>0?[o]:[]}clearTimeout(this.consoleTimeout),this.consolePending.length>0&&(this.consoleTimeout=setTimeout(()=>{n.log(Ut(this.consolePending)),this.consolePending=[]},250))}catch(s){n.error(s)}}flushConsole(){this.consolePending.length>0&&(console.log(Ut(this.consolePending)),this.consolePending=[],clearTimeout(this.consoleTimeout))}updatePointerAddresses(e){const n=new Map,s=new Map,r=[],i=this,o=function({isActive:u}){var b;if(!u(this))return;const l=this[Dt];if(n.get(l))return;const f=l[j][0];if(f&&(n.set(l,f),!i.inFixedMemory(f))){const y=f[S],m=s.get(y.buffer);if(m){const h=Array.isArray(m)?m:[m],d=Ss(h,y.byteOffset,g=>g[S].byteOffset);h.splice(d,0,f),Array.isArray(m)||(s.set(y.buffer,h),r.push(h))}else s.set(y.buffer,f);(b=f[D])==null||b.call(f,o)}};e[D](o);const c=this.findTargetClusters(r),a=new Map;for(const u of c)for(const l of u.targets)a.set(l,u);for(const[u,l]of n){const f=a.get(l),{length:b=1}=l;let y=this.getTargetAddress(l,f);y===!1&&(y=this.getShadowAddress(l,f)),u[Ln]({address:y,length:b})}}findTargetClusters(e){const n=[];for(const s of e){let r=null,i=0,o=0,c=null;for(const a of s){const u=a[S],{byteOffset:l,byteLength:f}=u,b=l+f;let y=!0;r&&(o>l?(c||(c={targets:[r],start:i,end:o,address:void 0,misaligned:void 0},n.push(c)),c.targets.push(a),b>o?c.end=b:y=!1):c=null),y&&(r=a,i=l,o=b)}}return n}createClusterShadow(e){const{start:n,end:s,targets:r}=e;let i=0,o;for(const g of r){const w=g[S],E=w.byteOffset,$=g.constructor[k]??w[k];(i===void 0||$>i)&&(i=$,o=E)}const c=s-n,a=this.allocateShadowMemory(c+i,1),u=this.getViewAddress(a),l=tc(Ot(u,o-n),i),f=Ot(l,n-o),b=a.byteOffset+Number(f-u),y=new DataView(a.buffer,b,c);for(const g of r){const w=g[S],E=w.byteOffset;if(E!==o){const $=g.constructor[k]??w[k];if(Qo(Ot(f,E-n),$))throw new Jr($,i)}}const m={[M]:W(c)},h=Object.create(m),d=Object.create(m);return h[S]=new DataView(r[0][S].buffer,Number(n),c),d[S]=y,d[Xt]={address:u,len:a.byteLength,align:1},this.addShadow(d,h,1)}getShadowAddress(e,n){if(n){const s=e[S];if(n.address===void 0){const r=this.createClusterShadow(n);n.address=this.getViewAddress(r[S])}return Ot(n.address,s.byteOffset-n.start)}else{const s=this.createShadow(e);return this.getViewAddress(s[S])}}createShadow(e){const n=e[S],s=e.constructor[k]??n[k],r=Object.create(e.constructor.prototype),i=r[S]=this.allocateShadowMemory(n.byteLength,s);return r[Xt]={address:this.getViewAddress(i),len:i.byteLength,align:s},this.addShadow(r,e,s)}addShadow(e,n,s){let{shadowMap:r}=this.context;return r||(r=this.context.shadowMap=new Map),r.set(e,n),this.registerMemory(e[S],n[S],s),e}removeShadow(e){const{shadowMap:n}=this.context;if(n){for(const[s]of n)if(s[S]===e){n.delete(s);break}}}updateShadows(){const{shadowMap:e}=this.context;if(e)for(const[n,s]of e)n[M](s)}updateShadowTargets(){const{shadowMap:e}=this.context;if(e)for(const[n,s]of e)s[M](n)}releaseShadows(){const{shadowMap:e}=this.context;if(e)for(const[n]of e){const{address:s,len:r,align:i}=n[Xt];this.freeShadowMemory(s,r,i)}}acquirePointerTargets(e){const n=this,s=new Map,r=function({isActive:i,isMutable:o}){var b,y;const c=this[Dt];if(s.get(c))return;s.set(c,!0);const a=!c.constructor.const,u=c[j][0];let l,f;if(i(this)){const m=c.constructor.child;if(!u||o(this)){f=c[Ee]();const h=n.findMemory(f.address,f.length,m[B]);l=h?m.call($t,h):null}else l=u}(b=u==null?void 0:u[D])==null||b.call(u,r,{vivificate:!0,isMutable:()=>a}),l!==u&&((y=l==null?void 0:l[D])==null||y.call(l,r,{vivificate:!0,isMutable:()=>a}),c[j][0]=l,n.inFixedMemory(c)&&(c[vt]=f))};e[D](r,{vivificate:!0})}}class Zo{constructor(){V(this,"pointerProcessed",new Map);V(this,"memoryList",[]);V(this,"shadowMap",null);V(this,"call",0)}}function Ss(t,e,n){let s=0,r=t.length;if(r===0)return 0;for(;s<r;){const i=Math.floor((s+r)/2);n(t[i])<=e?s=i+1:r=i}return r}function xe(t,e){return Ss(t,e,n=>n.address)}function Qo(t,e){if(e===void 0)return!1;typeof t=="bigint"&&(t=Number(t&0xFFFFFFFFn));const n=e-1;return(t&n)!==0}function tc(t,e){let n;return typeof t=="bigint"?(e=BigInt(e),n=~(e-1n)):n=~(e-1),(t&n)+e}function Ot(t,e){return t+(typeof t=="bigint"?BigInt(e):e)}function ec(t){return typeof t=="bigint"?t===0xaaaaaaaaaaaaaaaan:t===2863311530}class nc extends Yo{constructor(){super(...arguments);V(this,"imports",{getFactoryThunk:{argType:"",returnType:"i"},allocateExternMemory:{argType:"ii",returnType:"i"},freeExternMemory:{argType:"iii"},allocateShadowMemory:{argType:"cii",returnType:"v"},freeShadowMemory:{argType:"ciii"},runThunk:{argType:"iv",returnType:"v"},isRuntimeSafetyActive:{argType:"",returnType:"b"}});V(this,"exports",{allocateHostMemory:{argType:"ii",returnType:"v"},freeHostMemory:{argType:"iii"},captureString:{argType:"ii",returnType:"v"},captureView:{argType:"iib",returnType:"v"},castView:{argType:"vvb",returnType:"v"},getSlotNumber:{argType:"ii",returnType:"i"},readSlot:{argType:"vi",returnType:"v"},writeSlot:{argType:"viv"},getViewAddress:{argType:"v",returnType:"i"},beginDefinition:{returnType:"v"},insertInteger:{argType:"vsi",alias:"insertProperty"},insertBoolean:{argType:"vsb",alias:"insertProperty"},insertString:{argType:"vss",alias:"insertProperty"},insertObject:{argType:"vsv",alias:"insertProperty"},beginStructure:{argType:"v",returnType:"v"},attachMember:{argType:"vvb"},attachMethod:{argType:"vvb"},createTemplate:{argType:"v",returnType:"v"},attachTemplate:{argType:"vvb"},finalizeShape:{argType:"v"},endStructure:{argType:"v"},startCall:{argType:"iv",returnType:"i"},endCall:{argType:"iv",returnType:"i"}});V(this,"nextValueIndex",1);V(this,"valueTable",{0:null});V(this,"valueIndices",new Map);V(this,"memory",null);V(this,"littleEndian",!0)}allocateHostMemory(n,s){const r={[k]:s},i=W(n),o=this.allocateRelocMemory(n,s),c=this.allocateShadowMemory(n,s),a={constructor:r,[S]:o,[M]:i},u={constructor:r,[S]:c,[M]:i};return u[Xt]={address:this.getViewAddress(c),len:n,align:s},this.addShadow(u,a,s),c}freeHostMemory(n,s,r){const i=this.findMemory(n,s,1);this.removeShadow(i),this.unregisterMemory(n),this.freeShadowMemory(n,s,r)}getBufferAddress(n){return 0}allocateFixedMemory(n,s){const r=n?this.allocateExternMemory(n,s):0,i=this.obtainFixedView(r,n);return i[k]=s,i}freeFixedMemory(n,s,r){s&&this.freeExternMemory(n,s,r)}obtainFixedView(n,s){const{memory:r}=this,i=this.obtainView(r.buffer,n,s);return i[S]={memory:r,address:n,len:s},i}releaseFixedView(n){n.buffer;const s=n.byteOffset,r=n.byteLength,i=n[k];i!==void 0&&this.freeFixedMemory(s,r,i)}inFixedMemory(n){return this.memory?(H.call(n),n[S].buffer===this.memory.buffer):!1}copyBytes(n,s,r){const{memory:i}=this,o=new DataView(i.buffer,s,r);qn(r)(n,o)}findSentinel(n,s){const{memory:r}=this,i=s.byteLength,o=r.buffer.byteLength-i+1;for(let c=n;c<o;c+=i){const a=new DataView(r.buffer,c,i);let u=!0;for(let l=0;l<i;l++){const f=a.getUint8(l),b=s.getUint8(l);if(f!==b){u=!1;break}}if(u)return(c-n)/i}}captureString(n,s){const{buffer:r}=this.memory,i=new Uint8Array(r,n,s);return Ut(i)}getTargetAddress(n,s){return this.inFixedMemory(n)?this.getViewAddress(n[S]):n[S].byteLength===0?0:!1}clearExchangeTable(){this.nextValueIndex!==1&&(this.nextValueIndex=1,this.valueTable={0:null},this.valueIndices=new Map)}getObjectIndex(n){if(n){let s=this.valueIndices.get(n);return s===void 0&&(s=this.nextValueIndex++,this.valueIndices.set(n,s),this.valueTable[s]=n),s}else return 0}fromWebAssembly(n,s){switch(n){case"v":case"s":return this.valueTable[s];case"i":return s;case"b":return!!s}}toWebAssembly(n,s){switch(n){case"v":case"s":return this.getObjectIndex(s);case"i":return s;case"b":return s?1:0}}exportFunction(n,s="",r=""){return n?(...i)=>{i=i.map((c,a)=>this.fromWebAssembly(s.charAt(a),c));const o=n.apply(this,i);return this.toWebAssembly(r,o)}:()=>{}}importFunction(n,s="",r=""){let i=!1;return s.startsWith("c")&&(i=!0,s=s.slice(1)),(...o)=>{o=o.map((a,u)=>this.toWebAssembly(s.charAt(u),a)),i&&(o=[this.context.call,...o]);const c=n.apply(this,o);return this.fromWebAssembly(r,c)}}exportFunctions(){const n={};for(const[s,{argType:r,returnType:i,alias:o}]of Object.entries(this.exports)){const c=this[o??s];n[`_${s}`]=this.exportFunction(c,r,i)}return n}importFunctions(n){for(const[s,r]of Object.entries(n)){const i=this.imports[s];if(i){const{argType:o,returnType:c}=i;this[s]=this.importFunction(r,o,c)}}}async instantiateWebAssembly(n){const s=await n,r=this.exportFunctions(),i=this.getWASI(),o={env:r,wasi_snapshot_preview1:i};return s[Symbol.toStringTag]==="Response"?WebAssembly.instantiateStreaming(s,o):WebAssembly.instantiate(s,o)}loadModule(n){return this.initPromise=(async()=>{const{instance:s}=await this.instantiateWebAssembly(n),{memory:r,_initialize:i}=s.exports;this.importFunctions(s.exports),this.trackInstance(s),this.runtimeSafety=this.isRuntimeSafetyActive(),this.memory=r,i==null||i()})()}trackInstance(n){const s=new WeakRef(n);Object.defineProperty(this,"released",{get:()=>!s.deref(),enumerable:!0})}linkVariables(n){this.initPromise&&(this.initPromise=this.initPromise.then(()=>super.linkVariables(n)))}getMemoryOffset(n){return n}recreateAddress(n){return n}startCall(n,s){this.startContext(),this.context.call=n,s[D]&&this.updatePointerAddresses(s);const r=this.getShadowAddress(s);return this.updateShadows(),r}endCall(n,s){this.updateShadowTargets(),s[D]&&this.acquirePointerTargets(s),this.releaseShadows(),this.endContext(),!this.context&&this.flushConsole&&this.flushConsole()}async runThunk(n,s){return await this.initPromise,this.runThunk(n,s)}invokeThunk(n,s){const r=this.runThunk(n,s);if(r){if(r[Symbol.toStringTag]==="Promise")return r.then(i=>{if(i)throw new jn(i);return s.retval});throw new jn(r)}return s.retval}getWASI(){return{fd_write:(n,s,r,i)=>{if(n===1||n===2){const o=new DataView(this.memory.buffer);let c=0;for(let a=0,u=s;a<r;a++,u+=8){const l=o.getUint32(u,!0),f=o.getUint32(u+4,!0),b=new DataView(this.memory.buffer,l,f);this.writeToConsole(b),c+=f}return o.setUint32(i,c,!0),0}else return 1},random_get:(n,s)=>{const r=new DataView(this.memory.buffer,n,s);for(let i=0;i<s;i++)r.setUint8(i,Math.floor(256*Math.random()));return 0},proc_exit:()=>{},path_open:()=>1,fd_read:()=>1,fd_close:()=>1}}}function sc(t){return new nc}No();Bi();Kn();Lo();Jo();Li();_i();Ri();Bo();Ho();Ko();Go();xi();Ni();Wo();qo();_o();const A={constructor:null,typedArray:null,type:0,name:void 0,byteSize:0,align:0,isConst:!1,isTuple:!1,hasPointer:!1,instance:{members:[],methods:[],template:null},static:{members:[],methods:[],template:null}},p={type:0,isRequired:!1},U={},gt={},ae={},ue={},le={},fe={},C={},_={},ye={},me={},xt={},he={},Zt={},be={},pe={},ot={},de={},ge={},Ge={},Bt={},Se={},It={},R={},tt={},Ft={},Qt={},Je={},Tt={},_t={},we={},qt={},Oe={},Wt={},Gt={},At={},Ke={},He={},jt={},Xe={},Ye={},Ze={},ws={},Qe={},tn={},en={},Os={},nn={},vs={},sn={},As={},js={},rn={},on={},zs={},cn={},xs={},an={},Ts={},Es={},un={},ln={},Is={},Jt={},Vs={},Ps={},fn={},yn={},Ms={},mn={},$s={},Us={},Cs={},Ds={},ks={},Fs={},Rs={},Ns={},Ls={},Bs={},_s={},qs={},Ws={},Gs={},Js={},Ks={},Hs={},ve={},Xs={},Ys={},hn={},Zs={},bn={},Qs={},tr={},er={},nr={},sr={},rr={},ir={},or={},cr={},pn={},ar={},ur={},lr={},fr={},yr={},mr={},hr={},br={},pr={},dr={},gr={},Sr={},wr={},Or={},vr={},Ar={},jr={},zr={},xr={},Tr={},Er={},Ir={},rc=new Uint8Array,ic=new Uint8Array,oc=new Uint8Array([1]),cc=new Uint8Array,ac=new Uint8Array([32]),uc=new Uint8Array,lc=new Uint8Array([8]),fc=new Uint8Array,yc=new Uint8Array,mc=new Uint8Array([1]),hc=new Uint8Array,bc=new Uint8Array([0,2]),pc=new Uint8Array,dc=new Uint8Array([56]),gc=new Uint8Array,Sc=new Uint8Array,wc=new Uint8Array,Oc=new Uint8Array([4]),vc=new Uint8Array,Ac=new Uint8Array,jc=new Uint8Array,zc=new Uint8Array([244,4,0,1]),xc=new Uint8Array([99,111,109,46,103,114,101,121,98,111,120,119,97,114,101,46,97,115,99,105,105,109,105,105,0]),Tc=new Uint8Array([24,5,0,1]),Ec=new Uint8Array([82,105,99,104,97,114,100,32,90,117,114,97,100,0]),Ic=new Uint8Array,Vc=new Uint8Array([1]),Pc=new Uint8Array([55,5,0,1]),Mc=new Uint8Array([70,105,108,116,101,114,32,116,111,32,109,105,109,105,99,32,116,104,101,32,84,69,88,84,112,32,101,102,102,101,99,116,32,102,114,111,109,32,89,111,117,84,117,98,101,39,115,32,50,48,49,48,32,65,112,114,105,108,32,70,111,111,108,115,32,106,111,107,101,0]),$c=new Uint8Array,Uc=new Uint8Array,Cc=new Uint8Array,Dc=new Uint8Array([0]),kc=new Uint8Array([1]),Vr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Fc=new Uint8Array,Rc=new Uint8Array,Nc=new Uint8Array,Lc=new Uint8Array,Bc=new Uint8Array([4]),Kt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Pr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_c=new Uint8Array,qc=new Uint8Array,Wc=new Uint8Array,Gc=new Uint8Array,Jc=new Uint8Array([4]),dn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Kc=new Uint8Array([8,0,0,0,56,0,0,0]),Hc=new Uint8Array([27,0]),Xc=new Uint8Array([27,0]),Yc=new Uint8Array,Zc=new Uint8Array,Qc=new Uint8Array,ta=new Uint8Array;Object.assign(ws,{slots:{0:Qe,1:en,2:nn,3:sn}});Object.assign(Qe,{structure:U,memory:{array:rc},const:!0,slots:{0:tn}});Object.assign(tn,{structure:xt});Object.assign(en,{structure:C,memory:{array:ic},const:!0,slots:{0:Os}});Object.assign(Os,{structure:_,memory:{array:oc},const:!0});Object.assign(nn,{structure:C,memory:{array:cc},const:!0,slots:{0:vs}});Object.assign(vs,{structure:_,memory:{array:ac},const:!0});Object.assign(sn,{structure:C,memory:{array:uc},const:!0,slots:{0:As}});Object.assign(As,{structure:_,memory:{array:lc},const:!0});Object.assign(js,{slots:{0:rn,1:on,2:cn,3:an}});Object.assign(rn,{structure:U,memory:{array:fc},const:!0,slots:{0:tn}});Object.assign(on,{structure:C,memory:{array:yc},const:!0,slots:{0:zs}});Object.assign(zs,{structure:_,memory:{array:mc},const:!0});Object.assign(cn,{structure:C,memory:{array:hc},const:!0,slots:{0:xs}});Object.assign(xs,{structure:Zt,memory:{array:bc},const:!0});Object.assign(an,{structure:C,memory:{array:pc},const:!0,slots:{0:Ts}});Object.assign(Ts,{structure:_,memory:{array:dc},const:!0});Object.assign(Es,{slots:{0:un,1:ln}});Object.assign(un,{structure:he,memory:{array:gc},const:!0,slots:{0:Qe,1:en,2:nn,3:sn}});Object.assign(ln,{structure:be,memory:{array:Sc},const:!0,slots:{0:rn,1:on,2:cn,3:an}});Object.assign(Is,{slots:{0:Jt}});Object.assign(Jt,{structure:C,memory:{array:wc},const:!0,slots:{0:Vs}});Object.assign(Vs,{structure:_,memory:{array:Oc},const:!0});Object.assign(Ps,{slots:{0:fn,1:yn}});Object.assign(fn,{structure:ot,memory:{array:vc},const:!0,slots:{0:Jt}});Object.assign(yn,{structure:ot,memory:{array:Ac},const:!0,slots:{0:Jt}});Object.assign(Ms,{slots:{0:mn}});Object.assign(mn,{structure:ot,memory:{array:jc},const:!0,slots:{0:Jt}});Object.assign($s,{slots:{0:Us,1:Ds,2:Fs,3:Ns,4:Bs,5:_s,6:qs}});Object.assign(Us,{structure:ue,memory:{array:zc},const:!0,slots:{0:Cs}});Object.assign(Cs,{structure:ae,memory:{array:xc},reloc:16778484});Object.assign(Ds,{structure:fe,memory:{array:Tc},const:!0,slots:{0:ks}});Object.assign(ks,{structure:le,memory:{array:Ec},reloc:16778520});Object.assign(Fs,{structure:C,memory:{array:Ic},const:!0,slots:{0:Rs}});Object.assign(Rs,{structure:_,memory:{array:Vc},const:!0});Object.assign(Ns,{structure:me,memory:{array:Pc},const:!0,slots:{0:Ls}});Object.assign(Ls,{structure:ye,memory:{array:Mc},reloc:16778551});Object.assign(Bs,{structure:pe,memory:{array:$c},const:!0,slots:{0:un,1:ln}});Object.assign(_s,{structure:de,memory:{array:Uc},const:!0,slots:{0:fn,1:yn}});Object.assign(qs,{structure:ge,memory:{array:Cc},const:!0,slots:{0:mn}});Object.assign(Ws,{slots:{0:Gs,1:Js}});Object.assign(Gs,{structure:tt,memory:{array:Dc},const:!0});Object.assign(Js,{structure:tt,memory:{array:kc},const:!0});Object.assign(Ks,{memory:{array:Vr},slots:{0:Hs}});Object.assign(Hs,{structure:It,memory:{array:Vr,offset:0,length:8},slots:{0:ve}});Object.assign(ve,{structure:Se,memory:{array:Fc},reloc:0});Object.assign(Xs,{slots:{0:Ys,1:Zs,2:Qs}});Object.assign(Ys,{structure:U,memory:{array:Rc},const:!0,slots:{0:hn}});Object.assign(hn,{structure:Bt});Object.assign(Zs,{structure:U,memory:{array:Nc},const:!0,slots:{0:bn}});Object.assign(bn,{structure:Je});Object.assign(Qs,{structure:C,memory:{array:Lc},const:!0,slots:{0:tr}});Object.assign(tr,{structure:_,memory:{array:Bc},const:!0});Object.assign(er,{memory:{array:Kt},slots:{0:nr,1:rr}});Object.assign(nr,{structure:Tt,memory:{array:Kt,offset:0,length:24},slots:{0:sr}});Object.assign(sr,{structure:It,memory:{array:Kt,offset:0,length:8},slots:{0:ve}});Object.assign(rr,{structure:Tt,memory:{array:Kt,offset:24,length:24},slots:{0:ir}});Object.assign(ir,{structure:It,memory:{array:Kt,offset:24,length:8},slots:{0:ve}});Object.assign(or,{memory:{array:Pr},slots:{0:cr}});Object.assign(cr,{structure:qt,memory:{array:Pr,offset:0,length:8},slots:{0:pn}});Object.assign(pn,{structure:we,memory:{array:_c},reloc:0});Object.assign(ar,{slots:{0:ur,1:lr,2:fr}});Object.assign(ur,{structure:U,memory:{array:qc},const:!0,slots:{0:hn}});Object.assign(lr,{structure:U,memory:{array:Wc},const:!0,slots:{0:bn}});Object.assign(fr,{structure:C,memory:{array:Gc},const:!0,slots:{0:yr}});Object.assign(yr,{structure:_,memory:{array:Jc},const:!0});Object.assign(mr,{memory:{array:dn},slots:{0:hr}});Object.assign(hr,{structure:Oe,memory:{array:dn},slots:{0:br}});Object.assign(br,{structure:qt,memory:{array:dn,offset:0,length:8},slots:{0:pn}});Object.assign(pr,{memory:{array:Kc}});Object.assign(dr,{slots:{0:gr}});Object.assign(gr,{structure:At,memory:{array:Hc},const:!0});Object.assign(Sr,{slots:{0:wr}});Object.assign(wr,{structure:jt,memory:{array:Xc},const:!0});Object.assign(Or,{slots:{0:vr,1:jr,2:xr,3:Er}});Object.assign(vr,{structure:U,memory:{array:Yc},const:!0,slots:{0:Ar}});Object.assign(Ar,{structure:Ge});Object.assign(jr,{structure:U,memory:{array:Zc},const:!0,slots:{0:zr}});Object.assign(zr,{structure:_t});Object.assign(xr,{structure:U,memory:{array:Qc},const:!0,slots:{0:Tr}});Object.assign(Tr,{structure:Wt});Object.assign(Er,{structure:U,memory:{array:ta},const:!0,slots:{0:Ir}});Object.assign(Ir,{structure:Gt});const ea={argStruct:He,thunkId:2,name:"createOutput"},na={argStruct:Ye,thunkId:3,name:"createPartialOutput"};Object.assign(U,{...A,name:"type",align:1,instance:{members:[{...p,type:6,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:U}],methods:[]}});Object.assign(gt,{...A,name:"u8",byteSize:1,align:1,instance:{members:[{...p,type:3,bitOffset:0,bitSize:8,byteSize:1,structure:gt}],methods:[]}});Object.assign(ae,{...A,type:1,name:"[24:0]u8",length:24,byteSize:25,align:1,instance:{members:[{...p,type:3,bitSize:8,byteSize:1,structure:gt}],methods:[]}});Object.assign(ue,{...A,type:13,name:"*const [24:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:5,bitSize:32,byteSize:4,slot:0,structure:ae}],methods:[]}});Object.assign(le,{...A,type:1,name:"[13:0]u8",length:13,byteSize:14,align:1,instance:{members:[{...p,type:3,bitSize:8,byteSize:1,structure:gt}],methods:[]}});Object.assign(fe,{...A,type:13,name:"*const [13:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:5,bitSize:32,byteSize:4,slot:0,structure:le}],methods:[]}});Object.assign(C,{...A,name:"comptime_int",align:1,instance:{members:[{...p,type:7,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:C}],methods:[]}});Object.assign(_,{...A,name:"i8",byteSize:1,align:1,instance:{members:[{...p,type:2,bitOffset:0,bitSize:8,byteSize:1,structure:_}],methods:[]}});Object.assign(ye,{...A,type:1,name:"[69:0]u8",length:69,byteSize:70,align:1,instance:{members:[{...p,type:3,bitSize:8,byteSize:1,structure:gt}],methods:[]}});Object.assign(me,{...A,type:13,name:"*const [69:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:5,bitSize:32,byteSize:4,slot:0,structure:ye}],methods:[]}});Object.assign(xt,{...A,name:"i32",byteSize:4,align:4,instance:{members:[{...p,type:2,bitOffset:0,bitSize:32,byteSize:4,structure:xt}],methods:[]}});Object.assign(he,{...A,type:2,name:"Struct1449345558",align:1,instance:{members:[{...p,type:7,slot:0,name:"type",structure:U},{...p,type:7,slot:1,name:"minValue",structure:C},{...p,type:7,slot:2,name:"maxValue",structure:C},{...p,type:7,slot:3,name:"defaultValue",structure:C}],methods:[],template:ws}});Object.assign(Zt,{...A,name:"i16",byteSize:2,align:2,instance:{members:[{...p,type:2,bitOffset:0,bitSize:16,byteSize:2,structure:Zt}],methods:[]}});Object.assign(be,{...A,type:2,name:"Struct3551455779",align:1,instance:{members:[{...p,type:7,slot:0,name:"type",structure:U},{...p,type:7,slot:1,name:"minValue",structure:C},{...p,type:7,slot:2,name:"maxValue",structure:C},{...p,type:7,slot:3,name:"defaultValue",structure:C}],methods:[],template:js}});Object.assign(pe,{...A,type:2,name:"Struct3770657015",align:1,instance:{members:[{...p,type:7,slot:0,name:"size",structure:he},{...p,type:7,slot:1,name:"charCount",structure:be}],methods:[],template:Es}});Object.assign(ot,{...A,type:2,name:"Struct3832472641",align:1,instance:{members:[{...p,type:7,slot:0,name:"channels",structure:C}],methods:[],template:Is}});Object.assign(de,{...A,type:2,name:"Struct1891826899",align:1,instance:{members:[{...p,type:7,slot:0,name:"src",structure:ot},{...p,type:7,slot:1,name:"text",structure:ot}],methods:[],template:Ps}});Object.assign(ge,{...A,type:2,name:"Struct172100005",align:1,instance:{members:[{...p,type:7,slot:0,name:"dst",structure:ot}],methods:[],template:Ms}});Object.assign(Ge,{...A,type:2,name:"asciimii.kernel",align:1,static:{members:[{...p,type:7,slot:0,name:"namespace",structure:ue},{...p,type:7,slot:1,name:"vendor",structure:fe},{...p,type:7,slot:2,name:"version",structure:C},{...p,type:7,slot:3,name:"description",structure:me},{...p,type:7,slot:4,name:"parameters",structure:pe},{...p,type:7,slot:5,name:"inputImages",structure:de},{...p,type:7,slot:6,name:"outputImages",structure:ge}],methods:[],template:$s}});Object.assign(Bt,{...A,type:15,name:"@Vector(4, u8)",length:4,byteSize:4,align:4,instance:{members:[{...p,type:3,bitSize:8,byteSize:1,structure:gt}],methods:[]}});Object.assign(Se,{...A,type:14,name:"[_]const @Vector(4, u8)",byteSize:4,align:4,instance:{members:[{...p,type:5,bitSize:32,byteSize:4,structure:Bt}],methods:[]}});Object.assign(It,{...A,type:13,name:"[]const @Vector(4, u8)",byteSize:8,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...p,type:5,bitSize:64,byteSize:8,slot:0,structure:Se}],methods:[]}});Object.assign(R,{...A,name:"u32",byteSize:4,align:4,instance:{members:[{...p,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:R}],methods:[]}});Object.assign(tt,{...A,type:11,name:"asciimii.ColorSpace",byteSize:1,align:1,instance:{members:[{...p,type:3,bitOffset:0,bitSize:1,byteSize:1,structure:tt}],methods:[]},static:{members:[{...p,type:7,slot:0,name:"srgb",structure:tt},{...p,type:7,slot:1,name:"display-p3",structure:tt}],methods:[],template:Ws}});Object.assign(Ft,{...A,name:"usize",byteSize:4,align:4,instance:{members:[{...p,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:Ft}],methods:[]}});Object.assign(Qt,{...A,name:"f32",byteSize:4,align:4,instance:{members:[{...p,type:4,bitOffset:0,bitSize:32,byteSize:4,structure:Qt}],methods:[]}});Object.assign(Je,{...A,type:15,name:"@Vector(4, f32)",length:4,byteSize:16,align:16,instance:{members:[{...p,type:4,bitSize:32,byteSize:4,structure:Qt}],methods:[]}});Object.assign(Tt,{...A,type:2,name:"asciimii.Image(u8,4,false)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...p,type:5,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:It},{...p,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:R},{...p,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:R},{...p,type:3,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:tt},{...p,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:Ft}],methods:[],template:Ks},static:{members:[{...p,type:7,slot:0,name:"Pixel",structure:U},{...p,type:7,slot:1,name:"FPixel",structure:U},{...p,type:7,slot:2,name:"channels",structure:C}],methods:[],template:Xs}});Object.assign(_t,{...A,type:2,name:"asciimii.KernelInput(u8,asciimii.kernel)",byteSize:48,align:4,hasPointer:!0,instance:{members:[{...p,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"src",structure:Tt},{...p,type:5,bitOffset:192,bitSize:192,byteSize:24,slot:1,name:"text",structure:Tt}],methods:[],template:er}});Object.assign(we,{...A,type:14,name:"[_]@Vector(4, u8)",byteSize:4,align:4,instance:{members:[{...p,type:5,bitSize:32,byteSize:4,structure:Bt}],methods:[]}});Object.assign(qt,{...A,type:13,name:"[]@Vector(4, u8)",byteSize:8,align:4,hasPointer:!0,instance:{members:[{...p,type:5,bitSize:64,byteSize:8,slot:0,structure:we}],methods:[]}});Object.assign(Oe,{...A,type:2,name:"asciimii.Image(u8,4,true)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...p,type:5,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:qt},{...p,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:R},{...p,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:R},{...p,type:3,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:tt},{...p,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:Ft}],methods:[],template:or},static:{members:[{...p,type:7,slot:0,name:"Pixel",structure:U},{...p,type:7,slot:1,name:"FPixel",structure:U},{...p,type:7,slot:2,name:"channels",structure:C}],methods:[],template:ar}});Object.assign(Wt,{...A,type:2,name:"asciimii.KernelOutput(u8,asciimii.kernel)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...p,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"dst",structure:Oe}],methods:[],template:mr}});Object.assign(Gt,{...A,type:2,name:"asciimii.KernelParameters(asciimii.kernel)",byteSize:8,align:4,instance:{members:[{...p,type:2,bitOffset:0,bitSize:32,byteSize:4,slot:0,name:"size",structure:xt},{...p,type:2,bitOffset:32,bitSize:32,byteSize:4,slot:1,name:"charCount",structure:xt}],methods:[],template:pr}});Object.assign(At,{...A,type:10,name:"ErrorSet2017218537",byteSize:2,align:2,instance:{members:[{...p,type:3,bitOffset:0,bitSize:16,byteSize:2,structure:At}],methods:[]},static:{members:[{...p,type:7,slot:0,name:"OutOfMemory",structure:At}],methods:[],template:dr}});Object.assign(Ke,{...A,type:9,name:"ErrorSet2017218537!asciimii.KernelOutput(u8,asciimii.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...p,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:Wt},{...p,type:3,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:At}],methods:[]}});Object.assign(He,{...A,type:5,name:"createOutput",byteSize:92,align:4,hasPointer:!0,instance:{members:[{...p,type:3,isRequired:!0,bitOffset:0,bitSize:32,byteSize:4,slot:3,name:"0",structure:R},{...p,type:3,isRequired:!0,bitOffset:32,bitSize:32,byteSize:4,slot:4,name:"1",structure:R},{...p,type:5,isRequired:!0,bitOffset:64,bitSize:384,byteSize:48,slot:0,name:"2",structure:_t},{...p,type:5,isRequired:!0,bitOffset:448,bitSize:64,byteSize:8,slot:1,name:"3",structure:Gt},{...p,type:5,isRequired:!0,bitOffset:512,bitSize:224,byteSize:28,slot:2,name:"retval",structure:Ke}],methods:[]}});Object.assign(jt,{...A,type:10,name:"ErrorSet3250127848",byteSize:2,align:2,instance:{members:[{...p,type:3,bitOffset:0,bitSize:16,byteSize:2,structure:jt}],methods:[]},static:{members:[{...p,type:7,slot:0,name:"OutOfMemory",structure:jt}],methods:[],template:Sr}});Object.assign(Xe,{...A,type:9,name:"ErrorSet3250127848!asciimii.KernelOutput(u8,asciimii.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...p,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:Wt},{...p,type:3,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:jt}],methods:[]}});Object.assign(Ye,{...A,type:5,name:"createPartialOutput",byteSize:100,align:4,hasPointer:!0,instance:{members:[{...p,type:3,isRequired:!0,bitOffset:0,bitSize:32,byteSize:4,slot:3,name:"0",structure:R},{...p,type:3,isRequired:!0,bitOffset:32,bitSize:32,byteSize:4,slot:4,name:"1",structure:R},{...p,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:5,name:"2",structure:R},{...p,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:6,name:"3",structure:R},{...p,type:5,isRequired:!0,bitOffset:128,bitSize:384,byteSize:48,slot:0,name:"4",structure:_t},{...p,type:5,isRequired:!0,bitOffset:512,bitSize:64,byteSize:8,slot:1,name:"5",structure:Gt},{...p,type:5,isRequired:!0,bitOffset:576,bitSize:224,byteSize:28,slot:2,name:"retval",structure:Xe}],methods:[]}});Object.assign(Ze,{...A,type:2,name:"asciimii",align:1,static:{members:[{...p,type:7,slot:0,name:"kernel",structure:U},{...p,type:7,slot:1,name:"Input",structure:U},{...p,type:7,slot:2,name:"Output",structure:U},{...p,type:7,slot:3,name:"Parameters",structure:U}],methods:[ea,na],template:Or}});const sa=[U,gt,ae,ue,le,fe,C,_,ye,me,xt,he,Zt,be,pe,ot,de,ge,Ge,Bt,Se,It,R,tt,Ft,Qt,Je,Tt,_t,we,qt,Oe,Wt,Gt,At,Ke,He,jt,Xe,Ye,Ze],ra=Ze,ia={runtimeSafety:!1,littleEndian:!0},Ae=sc();Ae.getSpecialExports();Ae.recreateStructures(sa,ia);const oa=(async()=>{const t=new URL("asciimii-0009bad9.wasm",import.meta.url).href;return fetch(t)})();Ae.loadModule(oa);Ae.linkVariables(!0);const{constructor:ca}=ra,{createPartialOutput:aa,Input:ua,kernel:Pe}=ca;function la(t,e,n,s,r={},i={}){const o=[];for(const[y]of Pe.inputImages)o.push(y);const c=[];for(const[y]of Pe.outputImages)c.push(y);if(Array.isArray(r)){const y=r;r={};for(const[m,h]of o.entries())r[h]=y[m]}const a=new ua(void 0),u=[];let l;for(const y of o){let m=r[y];if(m||(o.length===1&&["data","width","height"].every(h=>!!r[h])?m=r:u.push(y)),a[y]=m,l){if(m.colorSpace!==l)throw new Error(`Input images must all use the same color space: ${l}`)}else l=m.colorSpace}if(u.length>0)throw new Error(`Missing input image${u.length>1?"s":""}: ${u.join(", ")}`);const f=aa(t,e,n,s,a,i),b=y=>{const m={};for(const h of c){const{data:{typedArray:d},width:g,height:w}=y[h];let E;if(typeof ImageData=="function"){const $=new Uint8ClampedArray(d.buffer,d.byteOffset,d.byteLength);E=new ImageData($,g,s,{colorSpace:l})}else E={data:d,width:g,height:w};if(c.length===1)return E;m[h]=E}return m};return f[Symbol.toStringTag]==="Promise"?f.then(b):b(f)}function fa(){const t={};for(let[e,n]of Pe){if(e==="parameters"){const s={};for(const[r,i]of n){const o=s[r]={};for(let[c,a]of i)typeof a=="object"?a=a.string??a.valueOf():typeof a=="function"&&(a=ya(a.name)),o[c]=a}n=s}else typeof n=="object"&&(n=n.string??n.valueOf());t[e]=n}return t}function ya(t){return{bool:"bool","@Vector(2, bool)":"bool2","@Vector(3, bool)":"bool3","@Vector(4, bool)":"bool4",i32:"int","@Vector(2, i32)":"int2","@Vector(3, i32)":"int3","@Vector(4, i32)":"int4",f32:"float","@Vector(2, f32)":"float2","@Vector(3, f32)":"float3","@Vector(4, f32)":"float4","[2]@Vector(2, f32)":"float2x2","[3]@Vector(3, f32)":"float3x3","[4]@Vector(4, f32)":"float4x4"}[t]}onmessage=t=>{const[e,n,...s]=t.data;ma(e,s).then(([r,i])=>{postMessage([e,n,r],{transfer:i})}).catch(r=>{postMessage(["error",n,r])})};async function ma(t,e){switch(t){case"getKernelInfo":return[fa(...e)];case"createPartialImageData":const s=await la(...e),r=[];if("data"in s&&"width"in s&&"height"in s)r.push(s.data.buffer);else for(const i of Object.entries(s))r.push(s.data.buffer);return[s,r];default:throw new Error(`Unknown function: ${t}`)}}
