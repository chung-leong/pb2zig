import{u as ws,a as Is,b as Rs,c as ks,d as qs,e as vs,f as Es,g as As,h as xs,i as Ts,j as Ks,k as js,l as Cs,m as Us,n as Ms,o as Ds,p as $s,r as Fs,q as _s}from"./index-5516dccd.js";ws();Cs();Us();Is();Rs();Ms();Ds();$s();ks();qs();Fs();vs();Es();As();_s();xs();Ts();Ks();const r={constructor:null,typedArray:null,type:0,name:void 0,byteSize:0,align:0,isConst:!1,isTuple:!1,isIterator:!1,hasPointer:!1,instance:{members:[],methods:[],template:null},static:{members:[],methods:[],template:null}},e={type:0,isRequired:!1},o={},n={},L={},B={},G={},H={},a={},J={},N={},m={},d={},Q={},W={},X={},E={},Y={},Z={},tt={},et={},st={},_={},rt={},ot={},at={},h={},ut={},nt={},bt={},ct={},x={},R={},l={},z={},A={},pt={},I={},T={},K={},it={},j={},C={},V={},ft={},St={},w={},zt={},dt={},ht={},Wt={},gt={},Xt={},Ot={},Yt={},Zt={},Pt={},te={},Vt={},ee={},se={},wt={},re={},It={},oe={},ae={},Rt={},ue={},kt={},qt={},vt={},ne={},Et={},ce={},At={},ie={},me={},xt={},ye={},Tt={},le={},be={},Kt={},pe={},jt={},fe={},Se={},Ct={},ze={},Ut={},Mt={},Dt={},de={},$t={},Ft={},he={},U={},ge={},Oe={},_t={},Lt={},Pe={},Bt={},Ve={},we={},Ie={},Re={},ke={},qe={},ve={},Ee={},Ae={},xe={},Te={},Ke={},je={},Ce={},Ue={},Me={},De={},k={},$e={},Fe={},Gt={},_e={},Ht={},Le={},Be={},Ge={},He={},Je={},Ne={},Qe={},We={},Xe={},Ye={},Ze={},ts={},es={},ss={},rs={},os={},as={},us={},ns={},cs={},is={},ms={},ys={},ls={},bs={},ps={},fs={},Ss={},zs={},ds={},hs={},s=c=>new Uint8Array(c),Ls=s(),Bs=s([0,0,0,0,0,0,89,192]),Gs=s(),Hs=s([0,0,0,0,0,0,89,192]),Js=s(),Ns=s([0,0,0,0,0,0,89,64]),Qs=s(),Ws=s([0,0,0,0,0,0,89,64]),Xs=s(),Ys=s(8),Zs=s(),tr=s(8),er=s(),sr=s(),rr=s(),or=s(),ar=s(),ur=s(1),nr=s(),cr=s(1),ir=s(),mr=s([3]),yr=s(),lr=s([3]),br=s(),pr=s(1),fr=s(),Sr=s([1]),zr=s(),dr=s(),hr=s(),gr=s(),Or=s(),Pr=s(),Vr=s(),wr=s([4]),Ir=s(),Rr=s(),kr=s(),qr=s([120,1,0,1]),vr=s([110,101,116,46,110,105,99,111,112,116,101,114,101,46,102,105,108,116,101,114,115,0]),Er=s([210,3,0,1]),Ar=s([110,105,99,111,112,116,101,114,101,0]),xr=s(),Tr=s([1]),Kr=s([82,4,0,1]),jr=s([100,105,115,112,108,97,99,101,0]),Cr=s(),Ur=s(),Mr=s(),Dr=s(1),$r=s([1]),gs=s(24),Fr=s(),_r=s(),Lr=s(),Br=s(),Gr=s([4]),M=s(48),Os=s(24),Hr=s(),Jr=s(),Nr=s(),Qr=s([4]),Jt=s(24),Wr=s([0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0]),Xr=s([8,0]),Yr=s([8,0]),Zr=s(),to=s(),eo=s(),so=s(),t=Object.assign;t(Wt,{slots:{0:gt,1:Ot}});t(gt,{structure:m,memory:{array:Ls},const:!0,slots:{0:Xt}});t(Xt,{structure:d,memory:{array:Bs},const:!0});t(Ot,{structure:m,memory:{array:Gs},const:!0,slots:{0:Yt}});t(Yt,{structure:d,memory:{array:Hs},const:!0});t(Zt,{slots:{0:Pt,1:Vt}});t(Pt,{structure:m,memory:{array:Js},const:!0,slots:{0:te}});t(te,{structure:d,memory:{array:Ns},const:!0});t(Vt,{structure:m,memory:{array:Qs},const:!0,slots:{0:ee}});t(ee,{structure:d,memory:{array:Ws},const:!0});t(se,{slots:{0:wt,1:It}});t(wt,{structure:m,memory:{array:Xs},const:!0,slots:{0:re}});t(re,{structure:d,memory:{array:Ys},const:!0});t(It,{structure:m,memory:{array:Zs},const:!0,slots:{0:oe}});t(oe,{structure:d,memory:{array:tr},const:!0});t(ae,{slots:{0:Rt,1:kt,2:qt,3:vt}});t(Rt,{structure:o,memory:{array:er},const:!0,slots:{0:ue}});t(ue,{structure:Y});t(kt,{structure:Q,memory:{array:sr},const:!0,slots:{0:gt,1:Ot}});t(qt,{structure:W,memory:{array:rr},const:!0,slots:{0:Pt,1:Vt}});t(vt,{structure:X,memory:{array:or},const:!0,slots:{0:wt,1:It}});t(ne,{slots:{0:Et,1:At}});t(Et,{structure:a,memory:{array:ar},const:!0,slots:{0:ce}});t(ce,{structure:n,memory:{array:ur},const:!0});t(At,{structure:a,memory:{array:nr},const:!0,slots:{0:ie}});t(ie,{structure:n,memory:{array:cr},const:!0});t(me,{slots:{0:xt,1:Tt}});t(xt,{structure:a,memory:{array:ir},const:!0,slots:{0:ye}});t(ye,{structure:n,memory:{array:mr},const:!0});t(Tt,{structure:a,memory:{array:yr},const:!0,slots:{0:le}});t(le,{structure:n,memory:{array:lr},const:!0});t(be,{slots:{0:Kt,1:jt}});t(Kt,{structure:a,memory:{array:br},const:!0,slots:{0:pe}});t(pe,{structure:n,memory:{array:pr},const:!0});t(jt,{structure:a,memory:{array:fr},const:!0,slots:{0:fe}});t(fe,{structure:n,memory:{array:Sr},const:!0});t(Se,{slots:{0:Ct,1:Ut,2:Mt,3:Dt}});t(Ct,{structure:o,memory:{array:zr},const:!0,slots:{0:ze}});t(ze,{structure:rt});t(Ut,{structure:tt,memory:{array:dr},const:!0,slots:{0:Et,1:At}});t(Mt,{structure:et,memory:{array:hr},const:!0,slots:{0:xt,1:Tt}});t(Dt,{structure:st,memory:{array:gr},const:!0,slots:{0:Kt,1:jt}});t(de,{slots:{0:$t,1:Ft}});t($t,{structure:Z,memory:{array:Or},const:!0,slots:{0:Rt,1:kt,2:qt,3:vt}});t(Ft,{structure:ot,memory:{array:Pr},const:!0,slots:{0:Ct,1:Ut,2:Mt,3:Dt}});t(he,{slots:{0:U}});t(U,{structure:a,memory:{array:Vr},const:!0,slots:{0:ge}});t(ge,{structure:n,memory:{array:wr},const:!0});t(Oe,{slots:{0:_t,1:Lt}});t(_t,{structure:h,memory:{array:Ir},const:!0,slots:{0:U}});t(Lt,{structure:h,memory:{array:Rr},const:!0,slots:{0:U}});t(Pe,{slots:{0:Bt}});t(Bt,{structure:h,memory:{array:kr},const:!0,slots:{0:U}});t(Ve,{slots:{0:we,1:Re,2:qe,3:Ee,4:xe,5:Te,6:Ke}});t(we,{structure:B,memory:{array:qr},const:!0,slots:{0:Ie}});t(Ie,{structure:L,memory:{array:vr},reloc:16777592});t(Re,{structure:H,memory:{array:Er},const:!0,slots:{0:ke}});t(ke,{structure:G,memory:{array:Ar},reloc:16778194});t(qe,{structure:a,memory:{array:xr},const:!0,slots:{0:ve}});t(ve,{structure:n,memory:{array:Tr},const:!0});t(Ee,{structure:N,memory:{array:Kr},const:!0,slots:{0:Ae}});t(Ae,{structure:J,memory:{array:jr},reloc:16778322});t(xe,{structure:at,memory:{array:Cr},const:!0,slots:{0:$t,1:Ft}});t(Te,{structure:ut,memory:{array:Ur},const:!0,slots:{0:_t,1:Lt}});t(Ke,{structure:nt,memory:{array:Mr},const:!0,slots:{0:Bt}});t(je,{slots:{0:Ce,1:Ue}});t(Ce,{structure:z,memory:{array:Dr},const:!0});t(Ue,{structure:z,memory:{array:$r},const:!0});t(Me,{memory:{array:gs},slots:{0:De}});t(De,{structure:R,memory:{array:gs,offset:0,length:8},slots:{0:k}});t(k,{structure:x,memory:{array:Fr},reloc:0});t($e,{slots:{0:Fe,1:_e,2:Le}});t(Fe,{structure:o,memory:{array:_r},const:!0,slots:{0:Gt}});t(Gt,{structure:ct});t(_e,{structure:o,memory:{array:Lr},const:!0,slots:{0:Ht}});t(Ht,{structure:pt});t(Le,{structure:a,memory:{array:Br},const:!0,slots:{0:Be}});t(Be,{structure:n,memory:{array:Gr},const:!0});t(Ge,{memory:{array:M},slots:{0:He,1:Ne}});t(He,{structure:I,memory:{array:M,offset:0,length:24},slots:{0:Je}});t(Je,{structure:R,memory:{array:M,offset:0,length:8},slots:{0:k}});t(Ne,{structure:I,memory:{array:M,offset:24,length:24},slots:{0:Qe}});t(Qe,{structure:R,memory:{array:M,offset:24,length:8},slots:{0:k}});t(We,{memory:{array:Os},slots:{0:Xe}});t(Xe,{structure:K,memory:{array:Os,offset:0,length:8},slots:{0:k}});t(Ye,{slots:{0:Ze,1:ts,2:es}});t(Ze,{structure:o,memory:{array:Hr},const:!0,slots:{0:Gt}});t(ts,{structure:o,memory:{array:Jr},const:!0,slots:{0:Ht}});t(es,{structure:a,memory:{array:Nr},const:!0,slots:{0:ss}});t(ss,{structure:n,memory:{array:Qr},const:!0});t(rs,{memory:{array:Jt},slots:{0:os}});t(os,{structure:it,memory:{array:Jt},slots:{0:as}});t(as,{structure:K,memory:{array:Jt,offset:0,length:8},slots:{0:k}});t(us,{memory:{array:Wr}});t(ns,{slots:{0:cs}});t(cs,{structure:V,memory:{array:Xr},const:!0});t(is,{slots:{0:ms}});t(ms,{structure:w,memory:{array:Yr},const:!0});t(ys,{slots:{0:ls,1:ps,2:Ss,3:ds}});t(ls,{structure:o,memory:{array:Zr},const:!0,slots:{0:bs}});t(bs,{structure:bt});t(ps,{structure:o,memory:{array:to},const:!0,slots:{0:fs}});t(fs,{structure:T});t(Ss,{structure:o,memory:{array:eo},const:!0,slots:{0:zs}});t(zs,{structure:j});t(ds,{structure:o,memory:{array:so},const:!0,slots:{0:hs}});t(hs,{structure:C});const ro={argStruct:St,thunkId:2,name:"createOutput"},oo={argStruct:dt,thunkId:3,name:"createPartialOutput"};t(o,{...r,name:"type",align:1,instance:{members:[{...e,type:6,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:o}],methods:[]}});t(n,{...r,name:"u8",byteSize:1,align:1,instance:{members:[{...e,type:3,bitOffset:0,bitSize:8,byteSize:1,structure:n}],methods:[]}});t(L,{...r,type:1,name:"[21:0]u8",length:21,byteSize:22,align:1,instance:{members:[{...e,type:3,bitSize:8,byteSize:1,structure:n}],methods:[]}});t(B,{...r,type:14,name:"*const [21:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...e,type:5,bitSize:32,byteSize:4,slot:0,structure:L}],methods:[]}});t(G,{...r,type:1,name:"[9:0]u8",length:9,byteSize:10,align:1,instance:{members:[{...e,type:3,bitSize:8,byteSize:1,structure:n}],methods:[]}});t(H,{...r,type:14,name:"*const [9:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...e,type:5,bitSize:32,byteSize:4,slot:0,structure:G}],methods:[]}});t(a,{...r,name:"comptime_int",align:1,instance:{members:[{...e,type:7,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:a}],methods:[]}});t(J,{...r,type:1,name:"[8:0]u8",length:8,byteSize:9,align:1,instance:{members:[{...e,type:3,bitSize:8,byteSize:1,structure:n}],methods:[]}});t(N,{...r,type:14,name:"*const [8:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...e,type:5,bitSize:32,byteSize:4,slot:0,structure:J}],methods:[]}});t(m,{...r,name:"comptime_float",align:1,instance:{members:[{...e,type:7,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:m}],methods:[]}});t(d,{...r,name:"f64",byteSize:8,align:8,instance:{members:[{...e,type:4,bitOffset:0,bitSize:64,byteSize:8,structure:d}],methods:[]}});t(Q,{...r,type:2,name:"Struct0023",align:1,isTuple:!0,instance:{members:[{...e,type:7,slot:0,name:"0",structure:m},{...e,type:7,slot:1,name:"1",structure:m}],methods:[],template:Wt}});t(W,{...r,type:2,name:"Struct0027",align:1,isTuple:!0,instance:{members:[{...e,type:7,slot:0,name:"0",structure:m},{...e,type:7,slot:1,name:"1",structure:m}],methods:[],template:Zt}});t(X,{...r,type:2,name:"Struct0028",align:1,isTuple:!0,instance:{members:[{...e,type:7,slot:0,name:"0",structure:m},{...e,type:7,slot:1,name:"1",structure:m}],methods:[],template:se}});t(E,{...r,name:"f32",byteSize:4,align:4,instance:{members:[{...e,type:4,bitOffset:0,bitSize:32,byteSize:4,structure:E}],methods:[]}});t(Y,{...r,type:19,name:"@Vector(2, f32)",length:2,byteSize:8,align:8,instance:{members:[{...e,type:4,bitSize:32,byteSize:4,structure:E}],methods:[]}});t(Z,{...r,type:2,name:"Struct0020",align:1,instance:{members:[{...e,type:7,slot:0,name:"type",structure:o},{...e,type:7,slot:1,name:"minValue",structure:Q},{...e,type:7,slot:2,name:"maxValue",structure:W},{...e,type:7,slot:3,name:"defaultValue",structure:X}],methods:[],template:ae}});t(tt,{...r,type:2,name:"Struct0032",align:1,isTuple:!0,instance:{members:[{...e,type:7,slot:0,name:"0",structure:a},{...e,type:7,slot:1,name:"1",structure:a}],methods:[],template:ne}});t(et,{...r,type:2,name:"Struct0033",align:1,isTuple:!0,instance:{members:[{...e,type:7,slot:0,name:"0",structure:a},{...e,type:7,slot:1,name:"1",structure:a}],methods:[],template:me}});t(st,{...r,type:2,name:"Struct0034",align:1,isTuple:!0,instance:{members:[{...e,type:7,slot:0,name:"0",structure:a},{...e,type:7,slot:1,name:"1",structure:a}],methods:[],template:be}});t(_,{...r,name:"i32",byteSize:4,align:4,instance:{members:[{...e,type:2,bitOffset:0,bitSize:32,byteSize:4,structure:_}],methods:[]}});t(rt,{...r,type:19,name:"@Vector(2, i32)",length:2,byteSize:8,align:8,instance:{members:[{...e,type:2,bitSize:32,byteSize:4,structure:_}],methods:[]}});t(ot,{...r,type:2,name:"Struct0029",align:1,instance:{members:[{...e,type:7,slot:0,name:"type",structure:o},{...e,type:7,slot:1,name:"minValue",structure:tt},{...e,type:7,slot:2,name:"maxValue",structure:et},{...e,type:7,slot:3,name:"defaultValue",structure:st}],methods:[],template:Se}});t(at,{...r,type:2,name:"Struct0019",align:1,instance:{members:[{...e,type:7,slot:0,name:"amplitude",structure:Z},{...e,type:7,slot:1,name:"channels",structure:ot}],methods:[],template:de}});t(h,{...r,type:2,name:"Struct0037",align:1,instance:{members:[{...e,type:7,slot:0,name:"channels",structure:a}],methods:[],template:he}});t(ut,{...r,type:2,name:"Struct0036",align:1,instance:{members:[{...e,type:7,slot:0,name:"src",structure:h},{...e,type:7,slot:1,name:"src1",structure:h}],methods:[],template:Oe}});t(nt,{...r,type:2,name:"Struct0039",align:1,instance:{members:[{...e,type:7,slot:0,name:"dst",structure:h}],methods:[],template:Pe}});t(bt,{...r,type:2,name:"displace.kernel",align:1,static:{members:[{...e,type:7,slot:0,name:"namespace",structure:B},{...e,type:7,slot:1,name:"vendor",structure:H},{...e,type:7,slot:2,name:"version",structure:a},{...e,type:7,slot:3,name:"description",structure:N},{...e,type:7,slot:4,name:"parameters",structure:at},{...e,type:7,slot:5,name:"inputImages",structure:ut},{...e,type:7,slot:6,name:"outputImages",structure:nt}],methods:[],template:Ve}});t(ct,{...r,type:19,name:"@Vector(4, u8)",length:4,byteSize:4,align:4,instance:{members:[{...e,type:3,bitSize:8,byteSize:1,structure:n}],methods:[]}});t(x,{...r,type:18,name:"[_]@Vector(4, u8)",byteSize:4,align:4,instance:{members:[{...e,type:5,bitSize:32,byteSize:4,structure:ct}],methods:[]}});t(R,{...r,type:15,name:"[]const @Vector(4, u8)",byteSize:8,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...e,type:5,bitSize:64,byteSize:8,slot:0,structure:x}],methods:[]}});t(l,{...r,name:"u32",byteSize:4,align:4,instance:{members:[{...e,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:l}],methods:[]}});t(z,{...r,type:12,name:"displace.ColorSpace",byteSize:1,align:1,instance:{members:[{...e,type:3,bitOffset:0,bitSize:1,byteSize:1,structure:z}],methods:[]},static:{members:[{...e,type:7,slot:0,name:"srgb",structure:z},{...e,type:7,slot:1,name:"display-p3",structure:z}],methods:[],template:je}});t(A,{...r,name:"usize",byteSize:4,align:4,instance:{members:[{...e,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:A}],methods:[]}});t(pt,{...r,type:19,name:"@Vector(4, f32)",length:4,byteSize:16,align:16,instance:{members:[{...e,type:4,bitSize:32,byteSize:4,structure:E}],methods:[]}});t(I,{...r,type:2,name:"displace.Image(u8,4,false)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...e,type:5,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:R},{...e,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:l},{...e,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:l},{...e,type:3,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:z},{...e,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:A}],methods:[],template:Me},static:{members:[{...e,type:7,slot:0,name:"Pixel",structure:o},{...e,type:7,slot:1,name:"FPixel",structure:o},{...e,type:7,slot:2,name:"channels",structure:a}],methods:[],template:$e}});t(T,{...r,type:2,name:"displace.KernelInput(u8,displace.kernel)",byteSize:48,align:4,hasPointer:!0,instance:{members:[{...e,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"src",structure:I},{...e,type:5,bitOffset:192,bitSize:192,byteSize:24,slot:1,name:"src1",structure:I}],methods:[],template:Ge}});t(K,{...r,type:15,name:"[]@Vector(4, u8)",byteSize:8,align:4,hasPointer:!0,instance:{members:[{...e,type:5,bitSize:64,byteSize:8,slot:0,structure:x}],methods:[]}});t(it,{...r,type:2,name:"displace.Image(u8,4,true)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...e,type:5,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:K},{...e,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:l},{...e,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:l},{...e,type:3,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:z},{...e,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:A}],methods:[],template:We},static:{members:[{...e,type:7,slot:0,name:"Pixel",structure:o},{...e,type:7,slot:1,name:"FPixel",structure:o},{...e,type:7,slot:2,name:"channels",structure:a}],methods:[],template:Ye}});t(j,{...r,type:2,name:"displace.KernelOutput(u8,displace.kernel)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...e,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"dst",structure:it}],methods:[],template:rs}});t(C,{...r,type:2,name:"displace.KernelParameters(displace.kernel)",byteSize:16,align:8,instance:{members:[{...e,type:5,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"amplitude",structure:Y},{...e,type:5,bitOffset:64,bitSize:64,byteSize:8,slot:1,name:"channels",structure:rt}],methods:[],template:us}});t(V,{...r,type:11,name:"ErrorSet0053",byteSize:2,align:2,instance:{members:[{...e,type:3,bitOffset:0,bitSize:16,byteSize:2,structure:V}],methods:[]},static:{members:[{...e,type:7,slot:0,name:"OutOfMemory",structure:V}],methods:[],template:ns}});t(ft,{...r,type:10,name:"ErrorSet0053!displace.KernelOutput(u8,displace.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...e,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:j},{...e,type:3,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:V}],methods:[]}});t(St,{...r,type:5,name:"Arg0057",byteSize:104,align:8,hasPointer:!0,instance:{members:[{...e,type:5,isRequired:!0,bitOffset:128,bitSize:224,byteSize:28,slot:0,name:"retval",structure:ft},{...e,type:3,isRequired:!0,bitOffset:352,bitSize:32,byteSize:4,slot:1,name:"0",structure:l},{...e,type:3,isRequired:!0,bitOffset:384,bitSize:32,byteSize:4,slot:2,name:"1",structure:l},{...e,type:5,isRequired:!0,bitOffset:416,bitSize:384,byteSize:48,slot:3,name:"2",structure:T},{...e,type:5,isRequired:!0,bitOffset:0,bitSize:128,byteSize:16,slot:4,name:"3",structure:C}],methods:[]}});t(w,{...r,type:11,name:"ErrorSet0056",byteSize:2,align:2,instance:{members:[{...e,type:3,bitOffset:0,bitSize:16,byteSize:2,structure:w}],methods:[]},static:{members:[{...e,type:7,slot:0,name:"OutOfMemory",structure:w}],methods:[],template:is}});t(zt,{...r,type:10,name:"ErrorSet0056!displace.KernelOutput(u8,displace.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...e,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:j},{...e,type:3,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:w}],methods:[]}});t(dt,{...r,type:5,name:"Arg0058",byteSize:112,align:8,hasPointer:!0,instance:{members:[{...e,type:5,isRequired:!0,bitOffset:128,bitSize:224,byteSize:28,slot:0,name:"retval",structure:zt},{...e,type:3,isRequired:!0,bitOffset:352,bitSize:32,byteSize:4,slot:1,name:"0",structure:l},{...e,type:3,isRequired:!0,bitOffset:384,bitSize:32,byteSize:4,slot:2,name:"1",structure:l},{...e,type:3,isRequired:!0,bitOffset:416,bitSize:32,byteSize:4,slot:3,name:"2",structure:l},{...e,type:3,isRequired:!0,bitOffset:448,bitSize:32,byteSize:4,slot:4,name:"3",structure:l},{...e,type:5,isRequired:!0,bitOffset:480,bitSize:384,byteSize:48,slot:5,name:"4",structure:T},{...e,type:5,isRequired:!0,bitOffset:0,bitSize:128,byteSize:16,slot:6,name:"5",structure:C}],methods:[]}});t(ht,{...r,type:2,name:"displace",align:1,static:{members:[{...e,type:7,slot:0,name:"kernel",structure:o},{...e,type:7,slot:1,name:"Input",structure:o},{...e,type:7,slot:2,name:"Output",structure:o},{...e,type:7,slot:3,name:"Parameters",structure:o}],methods:[ro,oo],template:ys}});const ao=[o,n,L,B,G,H,a,J,N,m,d,Q,W,X,E,Y,Z,tt,et,st,_,rt,ot,at,h,ut,nt,bt,ct,x,R,l,z,A,pt,I,T,K,it,j,C,V,ft,St,w,zt,dt,ht],uo=ht,no={runtimeSafety:!1,littleEndian:!0},mt=js();mt.recreateStructures(ao,no);const co=(async()=>{const c=new URL("displace-5f988d10.wasm",import.meta.url).href;return fetch(c)})();mt.loadModule(co);mt.linkVariables(!0);const{constructor:io}=uo;mt.getSpecialExports();const{createPartialOutput:mo,Input:yo,kernel:lt}=io;function lo(c,b,y,i,u={},g={}){const O=[];for(const[f]of lt.inputImages)O.push(f);const q=[];for(const[f]of lt.outputImages)q.push(f);if(Array.isArray(u)){const f=u;u={};for(const[S,P]of O.entries())u[P]=f[S]}const p=new yo(void 0),D=[];let v;for(const f of O){let S=u[f];if(S||(O.length===1&&["data","width","height"].every(P=>!!u[P])?S=u:D.push(f)),p[f]=S,v){if(S.colorSpace!==v)throw new Error(`Input images must all use the same color space: ${v}`)}else v=S.colorSpace}if(D.length>0)throw new Error(`Missing input image${D.length>1?"s":""}: ${D.join(", ")}`);const yt=mo(c,b,y,i,p,g),Nt=f=>{const S={};for(const P of q){const{data:{typedArray:$},width:Qt,height:Ps}=f[P];let F;if(typeof ImageData=="function"){const Vs=new Uint8ClampedArray($.buffer,$.byteOffset,$.byteLength);F=new ImageData(Vs,Qt,i,{colorSpace:v})}else F={data:$,width:Qt,height:Ps};if(q.length===1)return F;S[P]=F}return S};return yt[Symbol.toStringTag]==="Promise"?yt.then(Nt):Nt(yt)}function bo(){const c={};for(let[b,y]of lt){if(b==="parameters"){const i={};for(const[u,g]of y){const O=i[u]={};for(let[q,p]of g)typeof p=="object"?p=p.string??p.valueOf():typeof p=="function"&&(p=po(p.name)),O[q]=p}y=i}else typeof y=="object"&&(y=y.string??y.valueOf());c[b]=y}return c}function po(c){return{bool:"bool","@Vector(2, bool)":"bool2","@Vector(3, bool)":"bool3","@Vector(4, bool)":"bool4",i32:"int","@Vector(2, i32)":"int2","@Vector(3, i32)":"int3","@Vector(4, i32)":"int4",f32:"float","@Vector(2, f32)":"float2","@Vector(3, f32)":"float3","@Vector(4, f32)":"float4","[2]@Vector(2, f32)":"float2x2","[3]@Vector(3, f32)":"float3x3","[4]@Vector(4, f32)":"float4x4"}[c]}onmessage=async c=>{if(!Array.isArray(c.data))return;const[b,y,...i]=c.data;try{const[u,g]=await fo(b,i);postMessage([b,y,u],{transfer:g})}catch(u){postMessage(["error",y,u])}};async function fo(c,b){switch(c){case"getKernelInfo":return[bo(...b)];case"createPartialImageData":const i=await lo(...b),u=[];if("data"in i&&"width"in i&&"height"in i)u.push(i.data.buffer);else for(const g of Object.entries(i))u.push(i.data.buffer);return[i,u];default:throw new Error(`Unknown function: ${c}`)}}postMessage("ready");
