const g=Symbol("memory"),v=Symbol("slots"),G=Symbol("zig"),vt=Symbol("parent"),Ge=Symbol("enumName"),Ut=Symbol("enumIndex"),We=Symbol("enumItems"),st=Symbol("errorIndex"),_t=Symbol("enumItem"),X=Symbol("getter"),Y=Symbol("setter"),jt=Symbol("length"),rt=Symbol("proxy"),ct=Symbol("compat"),Et=Symbol("self"),U=Symbol("childVivificator"),C=Symbol("pointerVisitor");function L(t,e=!1){if(!e)switch(t){case 1:return Je;case 2:return Qe;case 4:return tn;case 8:return en;case 16:return nn;case 32:return rn}return t&7?t&3?t&1?He:Xe:Ye:Ze}function He(t,e){for(let n=0,r=t.byteLength;n<r;n++)t.setInt8(n,e.getInt8(n))}function Xe(t,e){for(let n=0,r=t.byteLength;n<r;n+=2)t.setInt16(n,e.getInt16(n,!0),!0)}function Ye(t,e){for(let n=0,r=t.byteLength;n<r;n+=4)t.setInt32(n,e.getInt32(n,!0),!0)}function Ze(t,e){for(let n=0,r=t.byteLength;n<r;n+=8)t.setInt32(n,e.getInt32(n,!0),!0),t.setInt32(n+4,e.getInt32(n+4,!0),!0)}function Je(t,e){t.setInt8(0,e.getInt8(0))}function Qe(t,e){t.setInt16(0,e.getInt16(0,!0),!0)}function tn(t,e){t.setInt32(0,e.getInt32(0,!0),!0)}function en(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0)}function nn(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0)}function rn(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0),t.setInt32(16,e.getInt32(16,!0),!0),t.setInt32(20,e.getInt32(20,!0),!0),t.setInt32(24,e.getInt32(24,!0),!0),t.setInt32(28,e.getInt32(28,!0),!0)}function on(t){switch(t){case 1:return ln;case 2:return an;case 4:return yn;case 8:return hn;case 16:return bn;case 32:return pn;default:return t&7?t&3?t&1?cn:sn:un:fn}}function cn(t){for(let e=0,n=t.byteLength;e<n;e++)t.setInt8(e,0)}function sn(t){for(let e=0,n=t.byteLength;e<n;e+=2)t.setInt16(e,0,!0)}function un(t){for(let e=0,n=t.byteLength;e<n;e+=4)t.setInt32(e,0,!0)}function fn(t){for(let e=0,n=t.byteLength;e<n;e+=8)t.setInt32(e,0,!0),t.setInt32(e+4,0,!0)}function ln(t){t.setInt8(0,0)}function an(t){t.setInt16(0,0,!0)}function yn(t){t.setInt32(0,0,!0)}function hn(t){t.setInt32(0,0,!0),t.setInt32(4,0,!0)}function bn(t){t.setInt32(0,0,!0),t.setInt32(4,0,!0),t.setInt32(8,0,!0),t.setInt32(12,0,!0)}function pn(t){t.setInt32(0,0,!0),t.setInt32(4,0,!0),t.setInt32(8,0,!0),t.setInt32(12,0,!0),t.setInt32(16,0,!0),t.setInt32(20,0,!0),t.setInt32(24,0,!0),t.setInt32(28,0,!0)}function k(){{const t=this[g],e=t[g];if(!e||t.buffer.byteLength!==0)return!1;const{memory:n,address:r,len:o}=e,c=new DataView(n.buffer,r,o);return c[g]=e,this[g]=c,!0}}function Q(t){const e=z(t);throw new TypeError(`An initializer must be provided to the constructor of ${e}, even when it's undefined`)}function Zt(t,e,n=null){const{type:r,byteSize:o}=t,c=z(t),l=e.byteLength,f=o>1?"s":"";if(r===A.Slice&&!n)throw new TypeError(`${c} has elements that are ${o} byte${f} in length, received ${l}`);{const a=r===A.Slice?n.length*o:o;throw new TypeError(`${c} has ${a} byte${f}, received ${l}`)}}function mn(t){const{type:e,byteSize:n,typedArray:r}=t,o=n>1?"s":"",c=["ArrayBuffer","DataView"].map(W);throw r&&c.push(W(r.name)),e===A.Slice?new TypeError(`Expecting ${It(c)} that can accommodate items ${n} byte${o} in length`):new TypeError(`Expecting ${It(c)} that is ${n} byte${o} in length`)}function dn(t,e){const n=z(t);throw new TypeError(`Value given does not correspond to an item of enum ${n}: ${e}`)}function wn(t,e){const n=z(t);throw new TypeError(`Enum item of the type ${n} expected, received ${e}`)}function gn(t){const e=z(t);throw new TypeError(`Cannot create new enum item
Call ${e} without the use of "new" to obtain an enum object`)}function Sn(t){const e=z(t);throw new TypeError(`Cannot create new error
Call ${e} without the use of "new" to obtain an error object`)}function On(t){const e=z(t);throw new TypeError(`Error given is not a part of error set ${e}`)}function jn(t,e){const n=z(t);throw new TypeError(`Error number does not corresponds to any error in error set ${n}: #${e}`)}function lt(t,e,n){const r=z(t),o=[];if(Array.isArray(e))for(const l of e)o.push(W(l));else o.push(W(e));const c=Jt(n);throw new TypeError(`${r} expects ${It(o)} as argument, received ${c}`)}function nt(t,e,n=!1){const{instance:{members:[r]},type:o,typedArray:c}=t,l=[],f=ye(r);f?l.push(`array of ${f}s`):r.type===E.EnumerationItem?l.push("array of enum items"):l.push("array of objects"),c&&l.push(c.name),o===A.Slice&&n&&l.push("length"),lt(t,l.join(" or "),e)}function at(t,e,n){const{length:r,instance:{members:[o]}}=t,c=z(t),{structure:{constructor:l}}=o,{length:f,constructor:a}=n,h=(e==null?void 0:e.length)??r,s=h>1?"s":"";let i;throw a===l?i="only a single one":a.child===l?i=`a slice/array that has ${f}`:i=`${f} initializer${f>1?"s":""}`,new TypeError(`${c} has ${h} element${s}, received ${i}`)}function In(t,e){const{instance:{members:n}}=t,r=z(t),o=[];for(const{name:c,isRequired:l}of n)l&&(e==null?void 0:e[c])===void 0&&o.push(c);throw new TypeError(`Missing initializers for ${r}: ${o.join(", ")}`)}function Pt(t,e){const n=z(t);throw new TypeError(`${n} does not have a property with that name: ${e}`)}function vn(t,e){const{instance:{members:n}}=t,r=z(t),o=n.length-1,c=o>1?"s":"";throw new Error(`${r} expects ${o} argument${c}, received ${e}`)}function En(t,e,n){const{instance:{members:r}}=t,o=z(t),c=`args[${e}]`,l=r.length-1,f=e!==0?"..., ":"",a=e!==l-1?", ...":"",h=f+c+a,s=new n.constructor(`${o}(${h}): ${n.message}`);throw s.stack=n.stack,s}function Pn(t){throw new TypeError("Non-slice pointers can only be created with the help of the new operator")}function $n(t,e){const n=z(t),{constructor:{name:r}}=e;throw new TypeError(`Conversion of ${r} to ${n} requires an explicit cast`)}function Ft(t,e,n,r){const o=z(t);throw new TypeError(`${o} expects the sentinel value ${e} at ${r-1}, found at ${n}`)}function ut(t,e,n){const r=z(t);throw new TypeError(`${r} expects the sentinel value ${e} at ${n-1}`)}function An(t){const{constructor:{name:e}}=t;throw new TypeError(`${e} cannot be modified`)}function yt(t,e){const n=Jt(e);throw new TypeError(`Expected ${W(t)}, received ${n}`)}function Tn(t,e){const n=z(t);let r;if(e!=null){const o=typeof e,c=o==="object"&&e.constructor!==Object?`${e.constructor.name} object`:o;r=`${Qt(c)} ${c}`}else r=e+"";throw new TypeError(`${n} cannot point to ${r}`)}function Vn(t,e){throw new TypeError("Pointers in fixed memory cannot point to garbage-collected object")}function xn(t,e){const n=re(t);throw new TypeError(`${n} cannot represent the value given: ${e}`)}function Dn(t,e){const{name:n}=t;throw new RangeError(`Index exceeds the size of ${n??"array"}: ${e}`)}function Rt(t,e,n){if(n instanceof RangeError)Dn(t,e);else throw n}function zn(t){throw new Error($t(t))}function $t(t){try{const e=t.replace(/(\p{Uppercase}+)(\p{Lowercase}*)/gu,(n,r,o)=>{if(r.length===1)return` ${r.toLocaleLowerCase()}${o}`;if(o){const c=r.substring(0,r.length-1),l=r.charAt(r.length-1).toLocaleLowerCase();return` ${c} ${l}${o}`}else return` ${r}`}).trimStart();return e.charAt(0).toLocaleUpperCase()+e.substring(1)}catch{return t}}function Jt(t){const e=typeof t;let n;return e==="object"?n=t?Object.prototype.toString.call(t):"null":n=e,W(n)}function W(t){return`${Qt(t)} ${t}`}function Qt(t){return/^\W*[aeiou]/i.test(t)?"an":"a"}function It(t,e="or"){const n=` ${e} `;return t.length>2?t.slice(0,-1).join(", ")+n+t[t.length-1]:t.join(n)}function At(t,e){return Un(t,e,n=>DataView.prototype[n])}function te(t,e){return At(t,e)}function kn(t,e){return At(t,e)}function Mn(t,e){return At(t,e)}function Tt(t,e){const{type:n,byteSize:r,typedArray:o}=t;let c;const l=e==null?void 0:e[Symbol.toStringTag];if(l==="DataView")c=e;else if(l==="ArrayBuffer"||l==="SharedArrayBuffer")c=new DataView(e);else if(o&&l===o.name||l==="Uint8ClampedArray"&&o===Uint8Array)c=new DataView(e.buffer,e.byteOffset,e.byteLength);else if(l==="Uint8Array"&&typeof Buffer=="function"&&e instanceof Buffer)c=new DataView(e.buffer,e.byteOffset,e.byteLength);else{const f=e==null?void 0:e[g];if(f&&(n===A.Array||n===A.Slice||n===A.Vector)){const{instance:{members:[a]}}=t,{byteSize:h,structure:{constructor:s}}=a,i=ne(e,s);if(i!==void 0){if(n===A.Slice||i*h===r)return f;at(t,null,e)}}}return c&&ee(t,c),c}function ee(t,e){const{type:n,byteSize:r}=t;(n===A.Slice?e.byteLength%r!==0:e.byteLength!==r)&&Zt(t,e)}function ne(t,e){const{constructor:n}=t;if(n===e)return 1;if(n.child===e)return t.length}function ot(t,e){const n=Tt(t,e);return n||mn(t),n}function Cn(t){const{type:e,instance:{members:n}}=t;if(e===A.Primitive){const{type:r,byteSize:o}=n[0];if(r===E.Int)switch(o){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array;case 8:return BigInt64Array}else if(r===E.Uint)switch(o){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array;case 8:return BigUint64Array}else if(r===E.Float)switch(o){case 4:return Float32Array;case 8:return Float64Array}}else if(e===A.Array||e===A.Slice||e===A.Vector){const{structure:{typedArray:r}}=n[0];return r}return null}function ht(t){return t.typedArray=Cn(t)}function Bn(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return!!e&&n===e.name}function Ln(t,e){const n=e[ct];if(n){const r=t==null?void 0:t[Symbol.toStringTag];if(n.includes(r))return!0}return!!(e.child&&ne(t,e.child)!==void 0)}function bt(t){const{typedArray:e}=t,n=[];return e&&(n.push(e.name),n.push("DataView"),e===Uint8Array&&(n.push("Uint8ClampedArray"),n.push("ArrayBuffer"),n.push("SharedArrayBuffer"))),n}function Nn(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return n==="DataView"||n==="ArrayBuffer"||n==="SharedArrayBuffer"?!0:!!(e&&n===e.name)}function re(t){const{type:e,bitSize:n,byteSize:r,structure:o}=t;if((o==null?void 0:o.name)==="usize")return"USize";if((o==null?void 0:o.name)==="isize")return"ISize";if(e===E.Int)return`${n<=32?"":"Big"}Int${n}`;if(e===E.Uint)return`${n<=32?"":"Big"}Uint${n}`;if(e===E.Float)return`Float${n}`;if(e===E.Bool)return`Bool${r!==void 0?r*8:1}`;if(e===E.Void)return"Null"}function Un(t,e,n){const{type:r,bitOffset:o,bitSize:c}=e,l=o&7,f=re(e),a=_n(e)?"":`Bit${l}`,h=`${t}${f}${a}`;let s=Kt[h];if(!s){if(r===E.Int&&f==="ISize"||r===E.Uint&&f==="USize"){if(c===64){const i=r===E.Int?"BigInt64":"BigUint64",u=`${t}${i}`;if(t==="get"){const m=n(u),y=BigInt(Number.MIN_SAFE_INTEGER),b=BigInt(Number.MAX_SAFE_INTEGER);s=function(O,p){const I=m.call(this,O,p);return y<=I&&I<=b?Number(I):I}}else{const m=n(u);s=function(y,b,O){typeof b=="number"&&(b=BigInt(b)),m.call(this,y,b,O)}}}else if(c===32){const i=r===E.Int?"Int32":"Uint32",u=`${t}${i}`;if(t==="get")s=n(u);else{const m=n(u);s=function(y,b,O){typeof b=="bigint"&&(b=Number(b)),m.call(this,y,b,O)}}}}else s=n(h);s&&s.name!==h&&Object.defineProperty(s,"name",{value:h,configurable:!0,writable:!1}),Kt[h]=s}return s}const Kt={},E={Void:0,Bool:1,Int:2,Uint:3,Float:4,EnumerationItem:5,Object:6,Type:7,Comptime:8},tt=Array(Object.values(E).length);function $r(){tt[E.Int]=Fn}function Ar(){tt[E.Uint]=Rn}function Tr(){tt[E.Float]=Kn}function Vr(){tt[E.EnumerationItem]=qn}function xr(){tt[E.Object]=Wn}function Dr(){tt[E.Type]=Hn}function _n({bitOffset:t,bitSize:e,byteSize:n}){return n!==void 0||!(t&7)&&!(e&7)||e===0}function B(t,e={}){const n=tt[t.type];return{get:n("get",t,e),set:n("set",t,e)}}function Fn(t,e,n){const r=oe(n,te);return pt(t,e,n,r)}function Rn(t,e,n){const r=oe(n,kn);return pt(t,e,n,r)}function oe(t,e){return function(n,r){const{runtimeSafety:o=!0}=t,c=e(n,r);if(o&&n==="set"){const{min:l,max:f}=tr(r);return function(a,h,s){(h<l||h>f)&&xn(r,h),c.call(this,a,h,s)}}return c}}function Kn(t,e,n){return pt(t,e,n,Mn)}function qn(t,e,n){const r=Gn(te);return pt(t,e,n,r)}function Gn(t){return function(e,n){let{bitSize:r,byteSize:o}=n;o&&(r=o*8);const c={type:E.Int,bitSize:r,byteSize:o},l=t(e,c),{structure:f}=n;return e==="get"?function(a,h){const{constructor:s}=f,i=l.call(this,a,h),u=s(i);return u||dn(f,i),u}:function(a,h,s){const{constructor:i}=f;let u;h instanceof i?u=h:u=i(h),u||wn(f,h),l.call(this,a,u.valueOf(),s)}}}function Wn(t,e,n){const{structure:r,slot:o}=e;let c=!1;switch(r.type){case A.ErrorUnion:case A.Optional:c=!0;break}return o!==void 0?t==="get"?c?function(){return this[U][o].call(this).$}:function(){return this[U][o].call(this)}:function(f){const a=this[U][o].call(this);a.$=f}:t==="get"?c?function(f){return this[U](f).$}:function(f){return this[U](f)}:function(f,a){const h=this[U](f);h.$=a}}function Hn(t,e,n){const{structure:r}=e;if(t==="get")return function(){const{constructor:o}=r;return o}}function pt(t,e,n,r){const{littleEndian:o=!0}=n,{bitOffset:c,byteSize:l}=e,f=r(t,e);if(c!==void 0){const a=c>>3;return t==="get"?function(){try{return f.call(this[g],a,o)}catch(h){if(h instanceof TypeError&&k.call(this))return f.call(this[g],a,o);throw h}}:function(h){try{return f.call(this[g],a,h,o)}catch(s){if(s instanceof TypeError&&k.call(this))return f.call(this[g],a,h,o);throw s}}}else return t==="get"?function(a){try{return f.call(this[g],a*l,o)}catch(h){if(h instanceof TypeError&&k.call(this))return f.call(this[g],a*l,o);Rt(e,a,h)}}:function(a,h){try{return f.call(this[g],a*l,h,o)}catch(s){if(s instanceof TypeError&&k.call(this))return f.call(this[g],a*l,h,o);Rt(e,a,s)}}}function et(t){const{constructor:e,instance:{members:n}}=t;Object.defineProperties(e.prototype,{dataView:{...Xn(t),configurable:!0},base64:{...Yn(),configurable:!0},toJSON:{value:Gt,configurable:!0,writable:!0},valueOf:{value:Gt,configurable:!0,writable:!0}}),ie(t)&&Object.defineProperty(e.prototype,"string",{...Zn(t),configurable:!0}),ce(t)&&Object.defineProperty(e.prototype,"typedArray",{...Jn(t),configurable:!0})}function ie(t){if(t.type===A.Array||t.type===A.Slice){const{type:e,bitSize:n}=t.instance.members[0];if(e===E.Uint&&(n===8||n===16))return!0}return!1}function ce(t){return!!t.typedArray}function mt(t){const e=["dataView","base64"];return ie(t)&&e.push("string"),ce(t)&&e.push("typedArray"),e}function Xn(t){const{type:e,byteSize:n,sentinel:r}=t,o=L(n,e===A.Slice);return{get(){return k.call(this),this[g]},set(c){se(c),k.call(this);const l=this[g];l.byteLength!==c.byteLength&&Zt(t,c,this),r==null||r.validateData(c,this.length),o(l,c)}}}function se(t){return(t==null?void 0:t[Symbol.toStringTag])!=="DataView"&&yt("a DataView",t),t}function Yn(){return{get(){const t=this.dataView,e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=String.fromCharCode.apply(null,e);return btoa(n)},set(t){this.dataView=ue(t)}}}function ue(t){typeof t!="string"&&yt("a string",t);const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<n.byteLength;r++)n[r]=e.charCodeAt(r);return new DataView(n.buffer)}const qt={};function Zn(t){const{sentinel:e,instance:{members:[n]}}=t,{byteSize:r}=n;return{get(){let o=qt[r];o||(o=qt[r]=new TextDecoder(`utf-${r*8}`));const c=this.dataView,l=r===1?Int8Array:Int16Array,f=new l(c.buffer,c.byteOffset,this.length),a=o.decode(f);return(e==null?void 0:e.value)===void 0?a:a.slice(0,-1)},set(o){this.dataView=fe(o,r,e==null?void 0:e.value)}}}let Ot;function fe(t,e,n){typeof t!="string"&&yt("a string",t),n!==void 0&&t.charCodeAt(t.length-1)!==n&&(t=t+String.fromCharCode(n));let r;if(e===1)Ot||(Ot=new TextEncoder(`utf-${e*8}`)),r=Ot.encode(t);else if(e===2){const{length:o}=t;r=new Uint16Array(o);for(let c=0;c<o;c++)r[c]=t.charCodeAt(c)}return new DataView(r.buffer)}function Jn(t){const{typedArray:e}=t;return{get(){const n=this.dataView,r=n.byteLength/e.BYTES_PER_ELEMENT;return new e(n.buffer,n.byteOffset,r)},set(n){this.dataView=le(n,e)}}}function le(t,e){return Bn(t,e)||yt(e.name,t),new DataView(t.buffer,t.byteOffset,t.byteLength)}function Gt(){const t=new WeakMap;function e(n){if(n[Symbol.iterator]){const r=[];for(const o of n)r.push(e(o));return r}else if(n&&(typeof n=="object"||typeof n=="function")){let r=t.get(n);if(!r){r={},t.set(n,r);for(const[o,c]of Object.entries(n)){const l=e(c);l!==void 0&&(r[o]=l)}return r}return r}else return n}return e(this.$)}function Qn(t){const{byteSize:e,instance:{members:[n]},options:r}=t;ht(t);const o=t.constructor=function(s){const i=this instanceof o;let u,m;if(i?(arguments.length===0&&Q(t),u=this,m=new DataView(new ArrayBuffer(e))):(u=Object.create(o.prototype),m=ot(t,s)),u[g]=m,i)f.call(u,s);else return u},c=L(e),l=mt(t),f=function(s){if(s instanceof o)k.call(this),k.call(s),c(this[g],s[g]);else if(s&&typeof s=="object"){for(const u of Object.keys(s))u in this||Pt(t,u);let i=0;for(const u of l)u in s&&i++;if(i===0){const u=ye(n);lt(t,u,s)}for(const u of l)u in s&&(this[u]=s[u])}else s!==void 0&&(this.$=s)},{get:a,set:h}=B(n,r);return Object.defineProperties(o.prototype,{$:{get:a,set:h,configurable:!0},[Symbol.toPrimitive]:{value:a,configurable:!0,writable:!0}}),Object.defineProperty(o,ct,{value:bt(t)}),et(t),o}function tr(t){const{type:e,bitSize:n}=t,r=e===E.Int;let o=r?n-1:n;if(n<=32){const c=2**o-1;return{min:r?-(2**o):0,max:c}}else{o=BigInt(o);const c=2n**o-1n;return{min:r?-(2n**o):0n,max:c}}}function ae({type:t,bitSize:e}){if(t===E.Int||t===E.Uint)return e<=32?Number:BigInt;if(t===E.Float)return Number;if(t===E.Bool)return Boolean}function ye(t){const e=ae(t);if(e)return typeof e(0)}function er(t){const{byteSize:e,instance:{members:[n]},isConst:r,options:o}=t,{runtimeSafety:c=!0}=o,{structure:l}=n,f=l.type===A.Slice,a=l.type===A.Pointer,h=f?e/2:e,s={name:"usize",byteSize:h},i=B({type:E.Uint,bitOffset:0,bitSize:h*8,byteSize:h,structure:s},o).set,u=f?B({type:E.Uint,bitOffset:h*8,bitSize:h*8,byteSize:h,structure:s},o).set:null,m=t.constructor=function(b){const O=this===G,p=this===vt;let I=this instanceof m,T,V;if(I)arguments.length===0&&Q(t),T=this,V=new DataView(new ArrayBuffer(e));else if(T=Object.create(m.prototype),O||p)V=ot(t,b);else{const x=l.constructor;Ht(b,x)?(I=!0,b=b["*"]):f?(I=!0,b=x(b)):Pn()}return T[g]=V,T[v]={0:null},T[G]=O,I&&y.call(T,b),cr.call(T,r,a)},y=function(b){if(b instanceof m)ft(this)?y.call(this,b[v][0]):J.call(this,b);else{const O=l.constructor;if(Ht(b,O))!r&&b.constructor.const&&$n(t,b),J.call(this,b);else{if(!(b instanceof O))if(Ln(b,O)){const p=Tt(l,b);b=O(p)}else if(f){const p=new O(b);if(c&&l.typedArray&&Nn(b==null?void 0:b.buffer)){const I=W(l.typedArray.name),T=W(b.constructor.name);console.warn(`Implicitly creating ${I} from ${T}`)}b=p}else Tn(t,b);if(ft(this))if(ft(b)){const{address:p}=ft(b);i.call(this,p),u&&u.call(this,b.length)}else Vn();this[v][0]=b}}};return Object.defineProperties(m.prototype,{"*":{get:nr,set:r?void 0:rr,configurable:!0},$:{get:he,set:y,configurable:!0},valueOf:{value:or,configurable:!0,writable:!0},[C]:{value:ir}}),Object.defineProperties(m,{child:{get:()=>l.constructor},const:{value:r}}),m}function he(){return this[rt]}function J(t){this[v][0]=t[v][0]}function Wt(){this[v][0]=null}function nr(){return this[v][0].$}function rr(t){const e=this[v][0];e.$=t}function or(){return this[v][0].$.valueOf()}function ir(t,e,n){n.call(this,e)}function Ht(t,e){var n;return((n=t==null?void 0:t.constructor)==null?void 0:n.child)===e&&t["*"]}function ft(t){var e;return(e=t==null?void 0:t[g])==null?void 0:e[g]}function cr(t,e){const n=e?{}:t?sr:be,r=new Proxy(this,n);return Object.defineProperty(this,rt,{value:r}),r}const Z={$:!0,"*":!0,constructor:!0,valueOf:!0,[G]:!0,[v]:!0,[g]:!0,[rt]:!0,[C]:!0,[Symbol.toStringTag]:!0,[Symbol.toPrimitive]:!0},be={get(t,e){return Z[e]?t[e]:t[v][0][e]},set(t,e,n){return Z[e]?t[e]=n:t[v][0][e]=n,!0},deleteProperty(t,e){return Z[e]?delete t[e]:delete t[v][0][e],!0},has(t,e){return Z[e]||e in t[v][0]},ownKeys(t){return[...Object.getOwnPropertyNames(t[v][0]),rt,C]},getOwnPropertyDescriptor(t,e){return Z[e]?Object.getOwnPropertyDescriptor(t,e):Object.getOwnPropertyDescriptor(t[v][0],e)}},sr={...be,set(t,e,n){return Z[e]?t[e]=n:An(t),!0},getOwnPropertyDescriptor(t,e){if(Z[e])return Object.getOwnPropertyDescriptor(t,e);{const n=Object.getOwnPropertyDescriptor(t[v][0],e);return n!=null&&n.set&&(n.set=void 0),n}}};function ur(t){const{length:e,byteSize:n,instance:{members:[r]},hasPointer:o,options:c}=t;ht(t);const l=r.type===E.Object,f=t.constructor=function(y){const b=this instanceof f;let O,p;return b?(arguments.length===0&&Q(t),O=this,p=new DataView(new ArrayBuffer(n))):(O=Object.create(f.prototype),p=ot(t,y)),O[g]=p,O[X]=null,O[Y]=null,l&&(O[v]={}),b&&i.call(O,y),ge.call(O)},{structure:a}=r,h=L(n),s=mt(t),i=function(y){if(y instanceof f)k.call(this),k.call(y),h(this[g],y[g]),o&&this[C](!0,y,J);else if(typeof y=="string"&&s.includes("string")&&(y={string:y}),y!=null&&y[Symbol.iterator]){let b=y.length;typeof b!="number"&&(y=[...y],b=y.length),b!==e&&at(t,this,y);let O=0;for(const p of y)m.call(this,O++,p)}else if(y&&typeof y=="object"){for(const O of Object.keys(y))O in this||throwNoProperty(t,O);let b=0;for(const O of s)O in y&&b++;b===0&&nt(t,y);for(const O of s)O in y&&(this[O]=y[O])}else y!==void 0&&nt(t,y)},{get:u,set:m}=B(r,c);return Object.defineProperties(f.prototype,{get:{value:u,configurable:!0,writable:!0},set:{value:m,configurable:!0,writable:!0},length:{value:e,configurable:!0},$:{get:he,set:i,configurable:!0},[Symbol.iterator]:{value:de,configurable:!0,writable:!0},entries:{value:we,configurable:!0,writable:!0}}),Object.defineProperties(f,{child:{get:()=>a.constructor},[ct]:{value:bt(t)}}),l&&(pe(t),o&&me(t)),et(t),f}function pe(t){const{constructor:{prototype:e},instance:{members:[n]}}=t,{byteSize:r,structure:o}=n;Object.defineProperty(e,U,{value:function(f){let a=this[v][f];if(!a){const{constructor:h}=o,s=this[g],u=s.byteOffset+r*f,m=new DataView(s.buffer,u,r);a=this[v][f]=h.call(vt,m)}return a}})}function me(t){const{constructor:{prototype:e}}=t;Object.defineProperty(e,C,{value:function(o,c,l){for(let f=0,a=this.length;f<a;f++){const h=c==null?void 0:c[v][f],s=o?this[U](f):this[v][f];s&&s[C](o,h,l)}}})}function de(){const t=this[Et]??this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=t.get(n),o=!1,n++):o=!0,{value:r,done:o}}}}function fr(){const t=this[Et]??this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=[n,t.get(n)],o=!1,n++):o=!0,{value:r,done:o}}}}function we(){return{[Symbol.iterator]:fr.bind(this),length:this.length}}function ge(){const t=new Proxy(this,lr);return Object.defineProperty(this,rt,{value:t}),t}const lr={get(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return t.get(n);switch(e){case"get":return t[X]||(t[X]=t.get.bind(t)),t[X];case"set":return t[Y]||(t[Y]=t.set.bind(t)),t[Y];case Et:return t;default:return t[e]}},set(t,e,n){const r=typeof e=="symbol"?0:e|0;if(r!==0||r==e)t.set(r,n);else switch(e){case"get":t[X]=n;break;case"set":t[Y]=n;break;default:t[e]=n}return!0},deleteProperty(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return!1;switch(e){case"get":delete t[X];break;case"set":delete t[Y];break;default:delete t[e]}return!0},has(t,e){const n=typeof e=="symbol"?0:e|0;return n!==0||n==e?n>=0&&n<t.length:t[e]},ownKeys(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(`${n}`);return e.push("length",rt),e},getOwnPropertyDescriptor(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e){if(n>=0&&n<t.length)return{value:t.get(n),enumerable:!0,writable:!0,configurable:!0}}else return Object.getOwnPropertyDescriptor(t,e)}};function Se(t){const{constructor:e,static:{members:n,template:r},options:o}=t,c={};for(const l of n){let{get:f,set:a}=B(l,o);const{type:h,slot:s,structure:{isConst:i}}=l;if(h===E.Object){const u=f;f=function(){return u.call(this)["*"]},a=i?void 0:function(m){const y=u.call(this);y["*"]=m},c[s]=()=>r[v][s]}Object.defineProperty(e,l.name,{get:f,set:a,configurable:!0,enumerable:!0})}Object.defineProperty(e,U,{value:c})}function Oe(t){const{constructor:e,instance:{methods:n},static:{methods:r}}=t;for(const o of r){let{name:c,argStruct:l,thunk:f}=o;const a=function(...h){const{constructor:s}=l,i=new s(h);return Xt(f,i)};Object.defineProperty(a,"name",{value:c,writable:!1}),Object.defineProperty(e,c,{value:a,configurable:!0,writable:!0})}for(const o of n){let{name:c,argStruct:l,thunk:f}=o;const a=function(...h){const{constructor:s}=l,i=new s([this,...h]);return Xt(f,i)};Object.defineProperty(a,"name",{value:c,writable:!1}),Object.defineProperty(Object.prototype,c,{value:a,configurable:!0,writable:!0})}}function Xt(t,e){{const n=t(e);if(n!==void 0){if(n instanceof Promise)return n.then(()=>e.retval);zn(n)}}return e.retval}function ar(t){const{byteSize:e,instance:{members:n,template:r},hasPointer:o,options:c}=t,l={};for(const y of n)if(y.type===E.Comptime){const{slot:b}=y,p=r[v][b]["*"];l[y.name]={value:p,configurable:!0,enumerable:!0},delete r[v][b]}else{const{get:b,set:O}=B(y,c);l[y.name]={get:b,set:O,configurable:!0,enumerable:!0}}const f=Object.keys(l),a=!!n.find(y=>y.type===E.Object),h=t.constructor=function(y){const b=this instanceof h;let O,p;if(b?(arguments.length===0&&Q(t),O=this,p=new DataView(new ArrayBuffer(e))):(O=Object.create(h.prototype),p=Tt(t,y)),O[g]=p,Object.defineProperties(O,l),a&&(O[v]={}),b)m.call(O,y);else return O},s=L(e),i=mt(t),u=n.filter(y=>y.isRequired).map(y=>y.name),m=function(y){if(y instanceof h)k.call(this),k.call(y),s(this[g],y[g]),o&&this[C](!0,y,J);else if(y&&typeof y=="object"){let b=0;for(const I of f)I in y&&b++;let O=0;for(const I of u)I in y&&O++;let p=0;if(!y[g])for(const I of i)I in y&&p++;for(const I of Object.keys(y))I in this||Pt(t,I);if(p===0&&O<u.length&&In(t,y),r&&p===0&&b<f.length&&(s(this[g],r[g]),o&&this[C](!0,r,J)),p>0)for(const I of i)I in y&&(this[I]=y[I]);else if(b>0)for(const I of f)I in y&&(this[I]=y[I])}else y!==void 0&&lt(t,"object",y)};return Object.defineProperty(h.prototype,"$",{get:Vt,set:m,configurable:!0}),et(t),a&&(xt(t),o&&je(t)),Se(t),Oe(t),h}function Vt(){return this}function xt(t){const{constructor:{prototype:e},instance:{members:n}}=t,r=n.filter(c=>c.type===E.Object),o={};for(const{slot:c,bitOffset:l,byteSize:f,structure:a}of r)o[c]=function(){let s=this[v][c];if(!s){const{constructor:i}=a,u=this[g],y=u.byteOffset+(l>>3),b=new DataView(u.buffer,y,f);s=this[v][c]=i.call(vt,b)}return s};Object.defineProperty(e,U,{value:o})}function je(t){const{constructor:{prototype:e},instance:{members:n}}=t,r=n.filter(c=>c.structure.hasPointer);Object.defineProperty(e,C,{value:function(l,f,a){var h;for(const{slot:s}of r){let i;if(f&&(i=(h=f[v])==null?void 0:h[s],!i))continue;const u=l?this[U][s].call(this):this[v][s];u&&u[C](l,i,a)}}})}function yr(t){const{byteSize:e,instance:{members:n},options:r,hasPointer:o}=t,c=!!n.find(u=>u.type===E.Object),l=t.constructor=function(u){const m=this instanceof l;let y,b;if(m?(arguments.length===0&&Q(t),y=this,b=new DataView(new ArrayBuffer(e))):(y=Object.create(l.prototype),b=ot(t,u)),y[g]=b,c&&(y[v]={}),m)a.call(this,u);else return y},f=L(e),a=function(u){u instanceof l?(f(this[g],u[g]),o&&i.call(this)&&this[C](!0,u,J)):this.$=u},{get:h,set:s,check:i}=hr(n,e,r);return Object.defineProperty(l.prototype,"$",{get:h,set:s,configurable:!0}),c&&(xt(t),o&&je(t)),et(t),l}function hr(t,e,n){const{get:r,set:o}=B(t[0],n),{get:c,set:l}=B(t[1],n),{structure:f}=t[1],{constructor:a}=f,h=on(e);return{get:function(){var i;const s=c.call(this);if(s!==0){const u=a(s);throw u||jn(f,s),(i=this[C])==null||i.call(this,!1,null,Wt),u}else return r.call(this)},set:function(s){var i;s instanceof Error?(s instanceof a||On(f),h(this[g]),l.call(this,s.index),(i=this[C])==null||i.call(this,!1,null,Wt)):(o.call(this,s),l.call(this,0))},check:function(){return c.call(this)===0}}}let Ie;function br(t){const{name:e,instance:{members:n}}=t,r=Ie,o=t.constructor=function(a){this instanceof o&&Sn(t);const s=Number(a);return r[s]};Object.setPrototypeOf(o.prototype,Error.prototype);const c=function(){return this[st]},l=function(){return"Error"};Object.defineProperties(o.prototype,{index:{get:c,configurable:!0},[Symbol.toStringTag]:{get:l,configurable:!0}});let f;for(const[a,{name:h,slot:s}]of n.entries()){let i=r[s];if(i){if(!(i instanceof o)){f||(f=n.map(y=>y.slot));const u=i.constructor,m=Object.values(u);if(m.every(y=>f.includes(y[st])))Object.setPrototypeOf(u.prototype,o.prototype);else{Object.setPrototypeOf(o.prototype,u.prototype);for(const y of m)f.includes(y[st])&&Object.setPrototypeOf(y,o.prototype)}}}else{i=Object.create(o.prototype);const u=$t(h);Object.defineProperties(i,{message:{value:u,configurable:!0,enumerable:!0,writable:!1},[st]:{value:s}}),r[s]=i}Object.defineProperties(o,{[h]:{value:i,configurable:!0,enumerable:!0,writable:!0}})}return o}function pr(){Ie={}}function mr(t){const{instance:{members:e,template:n},options:r}=t,o=ae(e[0]),{get:c}=B(e[0],r),l=e.length,f={},a=t.constructor=function(i){if(this instanceof a&&gn(t),typeof i=="number"||typeof i=="bigint"){let m=-1;if(s)m=Number(i);else{const y=o(i);for(let b=0;b<l;b++)if(c.call(a,b)===y){m=b;break}}return f[m]}else{if(i&&typeof i=="object"&&i[_t])return i[_t];if(typeof i=="string")return a[i];lt(t,["number","string","tagged union"],i)}};Object.defineProperties(a,{[g]:{value:n[g]},[We]:{value:f}});const h=function(){const i=this[Ut];return c.call(a,i)};Object.defineProperties(a.prototype,{[Symbol.toPrimitive]:{value:h,configurable:!0,writable:!0},$:{get:h,configurable:!0}});const s=(()=>{try{for(let i=0;i<l;i++)if(c.call(a,i)!==i)return!1;return!0}catch{return!1}})();for(const[i,{name:u}]of e.entries()){const m=Object.create(a.prototype);Object.defineProperties(m,{[Ut]:{value:i},[Ge]:{value:u}}),Object.defineProperties(a,{[u]:{value:m,configurable:!0,enumerable:!0,writable:!0}}),f[i]=m}return et(t),Se(t),Oe(t),a}function dr(t){const{instance:{members:[e]},hasPointer:n,options:r}=t,o=ht(t),c=e.type===E.Object,{byteSize:l,structure:f}=e,a=gr(t,r);a&&(t.sentinel=a);const h=t.constructor=function(p){const I=this instanceof h;let T;if(I)arguments.length===0&&Q(t),T=this,y.call(T,p);else{T=Object.create(h.prototype);const V=ot(t,p);u.call(T,V,V.byteLength/l,this)}return ge.call(T)},s=L(l,!0),i=mt(t),u=function(p,I,T=null){p||(p=new DataView(new ArrayBuffer(I*l))),this[g]=p,this[X]=null,this[Y]=null,this[jt]=I,c&&(this[v]={})},m=function(p,I){I!==this[jt]&&at(t,this,p)},y=function(p){let I=!this.hasOwnProperty(g);if(p instanceof h)I?u.call(this,null,p.length):m.call(this,p,p.length),k.call(this),k.call(p),s(this[g],p[g]),n&&this[C](!0,p,J);else if(typeof p=="string"&&i.includes("string")&&(p={string:p}),p!=null&&p[Symbol.iterator]){let T=p.length;typeof T!="number"&&(p=[...p],T=p.length),this[g]?m.call(this,p,T):u.call(this,null,T);let V=0;for(const x of p)a==null||a.validateValue(x,V,T),O.call(this,V++,x)}else if(typeof p=="number")I&&p>=0&&isFinite(p)?u.call(this,null,p):nt(t,p,I);else if(p&&typeof p=="object"){for(const V of Object.keys(p))V in this||Pt(t,V);let T=0;for(const V of i)V in p&&T++;T===0&&nt(t,p);for(const V of i)if(V in p)if(I){let x,M=!0;switch(V){case"dataView":x=p[V],se(x);break;case"typedArray":x=le(p[V],o);break;case"string":x=fe(p[V],l,a==null?void 0:a.value),M=!1;break;case"base64":x=ue(p[V]),M=!1;break}ee(t,x);const it=x.byteLength/l;a==null||a.validateData(x,it),M?(u.call(this,null,it),s(this[g],x)):u.call(this,x,it),I=!1}else this[V]=p[V]}else p!==void 0&&nt(t,p)},{get:b,set:O}=B(e,r);return Object.defineProperties(h.prototype,{get:{value:b,configurable:!0,writable:!0},set:{value:O,configurable:!0,writable:!0},length:{get:wr,configurable:!0},$:{get:Vt,set:y,configurable:!0},[Symbol.iterator]:{value:de,configurable:!0,writable:!0},entries:{value:we,configurable:!0,writable:!0}}),Object.defineProperties(h,{child:{get:()=>f.constructor},[ct]:{value:bt(t)}}),c&&(pe(t),n&&me(t)),et(t),h}function wr(){return this[jt]}function gr(t,e){const{runtimeSafety:n=!0}=e,{instance:{members:[r,o],template:c}}=t;if(!o)return;const{get:l}=B(o,e),f=l.call(c,0),{get:a}=B(r,e);return{value:f,validateValue:n?function(i,u,m){i===f&&u!==m-1?Ft(t,i,u,m):i!==f&&u===m-1&&ut(t,f,u)}:function(i,u,m){i!==f&&u===m-1&&ut(t,f,m)},validateData:n?function(i,u){const m={[g]:i};for(let y=0;y<u;y++){const b=a.call(m,y);b===f&&y!==u-1?Ft(t,f,y,u):b!==f&&y===u-1&&ut(t,f,u)}}:function(i,u){const m={[g]:i};if(u>0){const y=u-1;a.call(m,y)!==f&&ut(t,f,u)}}}}function Sr(t){const{length:e,byteSize:n,instance:{members:[r]},options:o}=t;ht(t);const c=t.constructor=function(s){const i=this instanceof c;let u,m;if(i?(arguments.length===0&&Q(t),u=this,m=new DataView(new ArrayBuffer(n))):(u=Object.create(c.prototype),m=ot(t,s)),u[g]=m,i)h.call(u,s);else return u},{bitSize:l,structure:f}=r,a=L(n),h=function(s){if(s instanceof c)k.call(this),k.call(s),a(this[g],s[g]);else if(s!=null&&s[Symbol.iterator]){let i=s.length;typeof i!="number"&&(s=[...s],i=s.length),i!==e&&at(t,this,s);let u=0;for(const m of s)this[u++]=m}else s!==void 0&&nt(t,s)};for(let s=0,i=0;s<e;s++,i+=l){const{get:u,set:m}=B({...r,bitOffset:i},o);Object.defineProperty(c.prototype,s,{get:u,set:m,configurable:!0})}return Object.defineProperties(c.prototype,{length:{value:e,configurable:!0},$:{get:Vt,set:h,configurable:!0},[Symbol.iterator]:{value:Or,configurable:!0,writable:!0},entries:{value:Ir,configurable:!0,writable:!0}}),Object.defineProperties(c,{child:{get:()=>f.constructor},[ct]:{value:bt(t)}}),et(t),c}function Or(){const t=this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=t[n],o=!1,n++):o=!0,{value:r,done:o}}}}function jr(){const t=this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=[n,t[n]],o=!1,n++):o=!0,{value:r,done:o}}}}function Ir(){return{[Symbol.iterator]:jr.bind(this),length:this.length}}function vr(t){const{byteSize:e,instance:{members:n},options:r}=t,o=!!n.find(h=>h.type===E.Object),c=t.constructor=function(h){const s=new DataView(new ArrayBuffer(e));this[g]=s,o&&(this[v]={}),a.call(this,h)},l=n.slice(0,-1).map(h=>h.name),f=l.length,a=function(h){h.length!==f&&vn(t,h.length);for(const[s,i]of l.entries())try{this[i]=h[s]}catch(u){En(t,s,u)}};for(const h of n){const s=B(h,r);Object.defineProperty(c.prototype,h.name,s)}return o&&xt(t),c}const A={Primitive:0,Array:1,Struct:2,ArgStruct:3,ExternUnion:4,BareUnion:5,TaggedUnion:6,ErrorUnion:7,ErrorSet:8,Enumeration:9,Optional:10,Pointer:11,Slice:12,Vector:13,Opaque:14,Function:15},_=Array(Object.values(A).length);function zr(){_[A.Primitive]=Qn}function kr(){_[A.Array]=ur}function Mr(){_[A.Struct]=ar}function Cr(){_[A.ErrorUnion]=yr}function Br(){_[A.ErrorSet]=br}function Lr(){_[A.Enumeration]=mr}function Nr(){_[A.Pointer]=er}function Ur(){_[A.Slice]=dr}function _r(){_[A.Vector]=Sr}function Fr(){_[A.ArgStruct]=vr}function z(t){let e=t.name;return e=e.replace(/{.*}/,""),e=e.replace(/[^. ]*?\./g,""),e}function Er(t){try{const e=_[t.type],n=e(t);return typeof n=="function"&&(Object.defineProperties(n,{name:{value:z(t),writable:!1}}),n.prototype.hasOwnProperty(Symbol.toStringTag)||Object.defineProperties(n.prototype,{[Symbol.toStringTag]:{value:t.name,configurable:!0,writable:!1}})),n}catch(e){throw console.error(e),e}}const Yt={Auto:0,Copy:1,Link:2};async function Rr(t,e={}){const{resolve:n,reject:r,promise:o,...c}=e;try{const l=await t,f=await Pr(l,c);n(f)}catch(l){r(l)}return o}async function Pr(t,e={}){const{omitFunctions:n=!1,slots:r={},variables:o,methodRunner:c,writeBack:l=!0}=e;let f=0,a=null,h=null,s=0,i=null,u=null;const m=new TextDecoder,y={};let b=0;const O=r,p=()=>{},T={env:{_startCall:$e,_endCall:Ae,_allocMemory:Te,_freeMemory:Ve,_getMemory:De,_getMemoryOffset:ze,_getMemoryLength:ke,_wrapMemory:Me,_createString:Ce,_getPointerStatus:Be,_setPointerStatus:Le,_readGlobalSlot:Ne,_readObjectSlot:Ue,_writeObjectSlot:_e,_createDataView:Ke,_writeToConsole:qe,_writeGlobalSlot:p,_setObjectPropertyString:p,_setObjectPropertyInteger:p,_setObjectPropertyBoolean:p,_setObjectPropertyObject:p,_beginStructure:p,_attachMember:p,_attachMethod:p,_attachTemplate:p,_finalizeStructure:p,_createObject:p,_createTemplate:p}},V=t[Symbol.toStringTag]==="Response"?WebAssembly.instantiateStreaming(t,T):WebAssembly.instantiate(t,T);let{instance:x}=await V,{memory:M,define:it,run:Dt,alloc:dt,free:wt,safe:ve}=x.exports,F="",gt=0;zt();{for(const{address:j,object:$}of o)Ct($,Number(j));c[0]=function(j,$){const P=H($),D=Dt(P,j);D!==0&&Pe(D)};const d=new WeakRef(x);return{abandon:()=>{x=M=it=dt=wt=ve=null,Dt=function(){throw new Error("WebAssembly instance was abandoned")};for(const{object:j}of o)Bt(j)},released:()=>!d.deref()}}function zt(){f!==1&&(f=1,a={0:null},h=new WeakMap),s!==1&&(s=1,i={0:null},u={})}function kt(d,w){const S=new Uint8Array(M.buffer,d,w);return m.decode(S)}function Ee(d,w){const S=kt(d,w);let j=u[S];return j===void 0&&(j=u[S]=s++,i[j]=S),j}function H(d){const w=f++;return a[w]=d,h.set(d,w),w}function Mt(d){const w=h.get(d);return w!==void 0?w:H(d)}function Ct(d,w){const S=d[g],j=S.byteLength;if(j===0)return;const $=new DataView(M.buffer,w,j);if(l&&L(S.byteLength)($,S),$[g]={memory:M,address:w,len:j},d[g]=$,d.hasOwnProperty(G)){const P=d[v][0],D=$.getUint32(0,!0);Ct(P,D)}}function Bt(d){const w=d[g],S=w.byteLength;if(S===0||!w[g])return;const j=new DataView(new ArrayBuffer(S));if(L(w.byteLength)(j,w),d[g]=j,d.hasOwnProperty(G)){const P=d[v][0];Bt(P)}}function Pe(d){const w=i[d],S=$t(w);throw new Error(S)}function $e(d){y[d]={bufferMap:new Map},b++}function Ae(d){const w=y[d];for(const[S,{address:j,len:$,ptrAlign:P,copy:D,shadow:R}]of w.bufferMap){if(D){const K=new DataView(M.buffer,j,$);D(S,K)}R&&wt(d,j,$,P)}delete y[d],b--,b===0&&(zt(),F&&(console.log(F),F="",clearTimeout(gt)))}function Te(d,w,S){if(w===0)return null;const j=dt(d,w,S),{bufferMap:$}=y[d],P=new ArrayBuffer(w),D=new DataView(P),R=L(w);return new DataView(M.buffer,j,w),$.set(D,{address:j,len:w,ptrAlign:S,copy:R,shadow:!0}),j}function Ve(d,w,S,j){const{bufferMap:$}=y[d];for(const[P,{address:D}]of $)w===D&&($.delete(P),wt(d,w,S,j))}function xe({address:d},w){const S=(1<<w)-1;return(d&S)!==0}function De(d,w,S,j){let P=a[w][g];if(!P)return 0;const D=P[g];if(D)return H(D);{const R=y[d];let K=R.bufferMap.get(P);if(!K){const q=P.byteLength;if(q===0)return H({address:0,len:0});for(const[N,St]of R.bufferMap)if(P.buffer===N.buffer){if(N.byteOffset<=P.byteOffset&&P.byteOffset+q<=N.byteOffset+N.byteLength){K={address:St.address+(P.byteOffset-N.byteOffset),len:q,copy:null,ptrAlign:S,shadow:!1};break}else if(!(N.byteOffset>=P.byteOffset+q||P.byteOffset>=N.byteOffset+N.byteLength))return 0}if(K){if(xe(K,S))return 0}else{const N=dt(d,q,S),St=new DataView(M.buffer,N,q),Lt=P.byteLength===q?P:new DataView(P.buffer),Nt=L(q);Nt(St,Lt),K={address:N,len:q,copy:j?null:Nt,ptrAlign:S,shadow:!0}}R.bufferMap.set(P,K)}return H(K)}}function ze(d){return a[d].address}function ke(d){return a[d].len}function Me(d,w){const S=a[d];let j=a[w],$;{const{constructor:P}=S;$=P.call(G,j)}return H($)}function Ce(d,w){return Ee(d,w)}function Be(d){const S=a[d][G];return typeof S!="boolean"?-1:S?1:0}function Le(d,w){const S=a[d];S[G]=!!w}function Ne(d){const w=O[d];return w?Mt(w):0}function Ue(d,w){const j=a[d][v][w];return j?Mt(j):0}function _e(d,w,S){const j=a[d];j[v][w]=a[S]}function Fe(d,w,S){const j=new ArrayBuffer(S),$=new DataView(j);if(S>0){const P=L(S),D=new DataView(M.buffer,w,S);P($,D)}return d.bufferMap.set($,{address:w,len:S,copy:null,ptrAlign:0,shadow:!1}),$}function Re(d,w,S,j){if(j===Yt.Copy)return Fe(d,w,S);if(j===Yt.Auto){for(const[$,{address:P,len:D}]of d.bufferMap)if(P<=w&&w+S<=P+D){if(S===D)return $;{const R=w-P;return new DataView($.buffer,R,S)}}}{const $=new DataView(M.buffer,w,S);return $[g]={memory:M,address:w,len:S},$}}function Ke(d,w,S,j){const $=y[d];return H(Re($,w,S,j))}function qe(d,w){const S=kt(d,w),j=S.lastIndexOf(`
`);j===-1?F+=S:(console.log(F+S.substring(0,j)),F=S.substring(j+1)),clearTimeout(gt),F&&(gt=setTimeout(()=>{console.log(F),F=""},250))}}function Kr(t){const e={},n=[];pr();for(const i of t){for(const u of[i.static,i.instance])u.template&&(u.template=r(u.template));for(const u of i.static.methods)u.thunk=s(u.thunk);Er(i),e[i.slot]=i}function r(i){const u={};if(i.memory){const{array:m,offset:y,length:b}=i.memory;u[g]=new DataView(m.buffer,y,b)}return i.slots&&(u[v]=o({},i.slots)),u}function o(i,u){for(const[m,y]of Object.entries(u))i[m]=c(y);return i}function c(i){let u;if(i.memory){const{array:b,offset:O,length:p}=i.memory;u=new DataView(b.buffer,O,p)}else{const{byteSize:b}=i.structure;u=new DataView(new ArrayBuffer(b))}const{constructor:m}=i.structure,y=m.call(G,u);return i.slots&&o(y[v],i.slots),i.address!==void 0&&n.push({address:i.address,object:y}),y}let l,f;const a=new Promise((i,u)=>{l=i,f=u}),h={0:function(i,u){return a.then(()=>h[0].call(this,i,u))}};function s(i){return function(u){return h[0](i,u)}}return{promise:a,resolve:l,reject:f,slots:e,variables:n,methodRunner:h}}export{kr as a,Nr as b,Mr as c,_r as d,Ur as e,Lr as f,Br as g,Cr as h,Fr as i,Ar as j,xr as k,$r as l,Tr as m,Vr as n,Dr as o,Kr as p,Rr as q,zr as u};
