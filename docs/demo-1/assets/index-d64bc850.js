const g=Symbol("memory"),v=Symbol("slots"),G=Symbol("zig"),vt=Symbol("parent"),We=Symbol("enumName"),_t=Symbol("enumIndex"),He=Symbol("enumItems"),ut=Symbol("errorIndex"),Ft=Symbol("enumItem"),Y=Symbol("getter"),Z=Symbol("setter"),jt=Symbol("length"),rt=Symbol("proxy"),ct=Symbol("compat"),Et=Symbol("self"),U=Symbol("childVivificator"),B=Symbol("pointerVisitor");function L(t,e=!1){if(!e)switch(t){case 1:return Qe;case 2:return tn;case 4:return en;case 8:return nn;case 16:return rn;case 32:return on}return t&7?t&3?t&1?Xe:Ye:Ze:Je}function Xe(t,e){for(let n=0,r=t.byteLength;n<r;n++)t.setInt8(n,e.getInt8(n))}function Ye(t,e){for(let n=0,r=t.byteLength;n<r;n+=2)t.setInt16(n,e.getInt16(n,!0),!0)}function Ze(t,e){for(let n=0,r=t.byteLength;n<r;n+=4)t.setInt32(n,e.getInt32(n,!0),!0)}function Je(t,e){for(let n=0,r=t.byteLength;n<r;n+=8)t.setInt32(n,e.getInt32(n,!0),!0),t.setInt32(n+4,e.getInt32(n+4,!0),!0)}function Qe(t,e){t.setInt8(0,e.getInt8(0))}function tn(t,e){t.setInt16(0,e.getInt16(0,!0),!0)}function en(t,e){t.setInt32(0,e.getInt32(0,!0),!0)}function nn(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0)}function rn(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0)}function on(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0),t.setInt32(16,e.getInt32(16,!0),!0),t.setInt32(20,e.getInt32(20,!0),!0),t.setInt32(24,e.getInt32(24,!0),!0),t.setInt32(28,e.getInt32(28,!0),!0)}function cn(t){switch(t){case 1:return an;case 2:return yn;case 4:return hn;case 8:return bn;case 16:return pn;case 32:return mn;default:return t&7?t&3?t&1?sn:un:fn:ln}}function sn(t){for(let e=0,n=t.byteLength;e<n;e++)t.setInt8(e,0)}function un(t){for(let e=0,n=t.byteLength;e<n;e+=2)t.setInt16(e,0,!0)}function fn(t){for(let e=0,n=t.byteLength;e<n;e+=4)t.setInt32(e,0,!0)}function ln(t){for(let e=0,n=t.byteLength;e<n;e+=8)t.setInt32(e,0,!0),t.setInt32(e+4,0,!0)}function an(t){t.setInt8(0,0)}function yn(t){t.setInt16(0,0,!0)}function hn(t){t.setInt32(0,0,!0)}function bn(t){t.setInt32(0,0,!0),t.setInt32(4,0,!0)}function pn(t){t.setInt32(0,0,!0),t.setInt32(4,0,!0),t.setInt32(8,0,!0),t.setInt32(12,0,!0)}function mn(t){t.setInt32(0,0,!0),t.setInt32(4,0,!0),t.setInt32(8,0,!0),t.setInt32(12,0,!0),t.setInt32(16,0,!0),t.setInt32(20,0,!0),t.setInt32(24,0,!0),t.setInt32(28,0,!0)}function k(){{const t=this[g],e=t[g];if(!e||t.buffer.byteLength!==0)return!1;const{memory:n,address:r,len:o}=e,c=new DataView(n.buffer,r,o);return c[g]=e,this[g]=c,!0}}function tt(t){const e=z(t);throw new TypeError(`An initializer must be provided to the constructor of ${e}, even when it's undefined`)}function Jt(t,e,n=null){const{type:r,byteSize:o}=t,c=z(t),f=e.byteLength,l=o>1?"s":"";if(r===P.Slice&&!n)throw new TypeError(`${c} has elements that are ${o} byte${l} in length, received ${f}`);{const a=r===P.Slice?n.length*o:o;throw new TypeError(`${c} has ${a} byte${l}, received ${f}`)}}function dn(t){const{type:e,byteSize:n,typedArray:r}=t,o=n>1?"s":"",c=["ArrayBuffer","DataView"].map(W);throw r&&c.push(W(r.name)),e===P.Slice?new TypeError(`Expecting ${It(c)} that can accommodate items ${n} byte${o} in length`):new TypeError(`Expecting ${It(c)} that is ${n} byte${o} in length`)}function wn(t,e){const n=z(t);throw new TypeError(`Value given does not correspond to an item of enum ${n}: ${e}`)}function gn(t,e){const n=z(t);throw new TypeError(`Enum item of the type ${n} expected, received ${e}`)}function Sn(t){const e=z(t);throw new TypeError(`Cannot create new enum item
Call ${e} without the use of "new" to obtain an enum object`)}function On(t){const e=z(t);throw new TypeError(`Cannot create new error
Call ${e} without the use of "new" to obtain an error object`)}function jn(t){const e=z(t);throw new TypeError(`Error given is not a part of error set ${e}`)}function In(t,e){const n=z(t);throw new TypeError(`Error number does not corresponds to any error in error set ${n}: #${e}`)}function at(t,e,n){const r=z(t),o=[];if(Array.isArray(e))for(const f of e)o.push(W(f));else o.push(W(e));const c=Qt(n);throw new TypeError(`${r} expects ${It(o)} as argument, received ${c}`)}function nt(t,e,n=!1){const{instance:{members:[r]},type:o,typedArray:c}=t,f=[],l=he(r);l?f.push(`array of ${l}s`):r.type===E.EnumerationItem?f.push("array of enum items"):f.push("array of objects"),c&&f.push(c.name),o===P.Slice&&n&&f.push("length"),at(t,f.join(" or "),e)}function yt(t,e,n){const{length:r,instance:{members:[o]}}=t,c=z(t),{structure:{constructor:f}}=o,{length:l,constructor:a}=n,h=(e==null?void 0:e.length)??r,s=h>1?"s":"";let i;throw a===f?i="only a single one":a.child===f?i=`a slice/array that has ${l}`:i=`${l} initializer${l>1?"s":""}`,new TypeError(`${c} has ${h} element${s}, received ${i}`)}function vn(t,e){const{instance:{members:n}}=t,r=z(t),o=[];for(const{name:c,isRequired:f}of n)f&&(e==null?void 0:e[c])===void 0&&o.push(c);throw new TypeError(`Missing initializers for ${r}: ${o.join(", ")}`)}function $t(t,e){const n=z(t);throw new TypeError(`${n} does not have a property with that name: ${e}`)}function En(t,e){const{instance:{members:n}}=t,r=z(t),o=n.length-1,c=o>1?"s":"";throw new Error(`${r} expects ${o} argument${c}, received ${e}`)}function $n(t,e,n){const{instance:{members:r}}=t,o=z(t),c=`args[${e}]`,f=r.length-1,l=e!==0?"..., ":"",a=e!==f-1?", ...":"",h=l+c+a,s=new n.constructor(`${o}(${h}): ${n.message}`);throw s.stack=n.stack,s}function An(t){throw new TypeError("Non-slice pointers can only be created with the help of the new operator")}function Pn(t,e){const n=z(t),{constructor:{name:r}}=e;throw new TypeError(`Conversion of ${r} to ${n} requires an explicit cast`)}function Rt(t,e,n,r){const o=z(t);throw new TypeError(`${o} expects the sentinel value ${e} at ${r-1}, found at ${n}`)}function ft(t,e,n){const r=z(t);throw new TypeError(`${r} expects the sentinel value ${e} at ${n-1}`)}function Vn(t){const{constructor:{name:e}}=t;throw new TypeError(`${e} cannot be modified`)}function ht(t,e){const n=Qt(e);throw new TypeError(`Expected ${W(t)}, received ${n}`)}function Tn(t,e){const n=z(t);let r;if(e!=null){const o=typeof e,c=o==="object"&&e.constructor!==Object?`${e.constructor.name} object`:o;r=`${te(c)} ${c}`}else r=e+"";throw new TypeError(`${n} cannot point to ${r}`)}function xn(t,e){throw new TypeError("Pointers in fixed memory cannot point to garbage-collected object")}function Dn(t,e){const n=Tt(t);throw new TypeError(`${n} cannot represent the value given: ${e}`)}function zn(t,e){const{name:n}=t;throw new RangeError(`Index exceeds the size of ${n??"array"}: ${e}`)}function Kt(t,e,n){if(n instanceof RangeError)zn(t,e);else throw n}function kn(t){throw new Error(At(t))}function At(t){try{const e=t.replace(/(\p{Uppercase}+)(\p{Lowercase}*)/gu,(n,r,o)=>{if(r.length===1)return` ${r.toLocaleLowerCase()}${o}`;if(o){const c=r.substring(0,r.length-1),f=r.charAt(r.length-1).toLocaleLowerCase();return` ${c} ${f}${o}`}else return` ${r}`}).trimStart();return e.charAt(0).toLocaleUpperCase()+e.substring(1)}catch{return t}}function Qt(t){const e=typeof t;let n;return e==="object"?n=t?Object.prototype.toString.call(t):"null":n=e,W(n)}function W(t){return`${te(t)} ${t}`}function te(t){return/^\W*[aeiou]/i.test(t)?"an":"a"}function It(t,e="or"){const n=` ${e} `;return t.length>2?t.slice(0,-1).join(", ")+n+t[t.length-1]:t.join(n)}function Mn(t,e){return oe(t,e,()=>{const{byteSize:n}=e;if(n===void 0)return;const r=Tt({type:E.Int,bitSize:n*8});if(t==="get"){const o=DataView.prototype[`get${r}`];return function(c,f){return!!o.call(this,c,f)}}else{const o=DataView.prototype[`set${r}`],c=n>4?1n:1,f=n>4?0n:0;return function(l,a,h){o.call(this,l,a?c:f,h)}}})}function Pt(t,e){return oe(t,e,n=>DataView.prototype[n])}function ee(t,e){return Pt(t,e)}function Bn(t,e){return Pt(t,e)}function Cn(t,e){return Pt(t,e)}function Vt(t,e){const{type:n,byteSize:r,typedArray:o}=t;let c;const f=e==null?void 0:e[Symbol.toStringTag];if(f==="DataView")c=e;else if(f==="ArrayBuffer"||f==="SharedArrayBuffer")c=new DataView(e);else if(o&&f===o.name||f==="Uint8ClampedArray"&&o===Uint8Array)c=new DataView(e.buffer,e.byteOffset,e.byteLength);else if(f==="Uint8Array"&&typeof Buffer=="function"&&e instanceof Buffer)c=new DataView(e.buffer,e.byteOffset,e.byteLength);else{const l=e==null?void 0:e[g];if(l&&(n===P.Array||n===P.Slice||n===P.Vector)){const{instance:{members:[a]}}=t,{byteSize:h,structure:{constructor:s}}=a,i=re(e,s);if(i!==void 0){if(n===P.Slice||i*h===r)return l;yt(t,null,e)}}}return c&&ne(t,c),c}function ne(t,e){const{type:n,byteSize:r}=t;(n===P.Slice?e.byteLength%r!==0:e.byteLength!==r)&&Jt(t,e)}function re(t,e){const{constructor:n}=t;if(n===e)return 1;if(n.child===e)return t.length}function ot(t,e){const n=Vt(t,e);return n||dn(t),n}function Ln(t){const{type:e,instance:{members:n}}=t;if(e===P.Primitive){const{type:r,byteSize:o}=n[0];if(r===E.Int)switch(o){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array;case 8:return BigInt64Array}else if(r===E.Uint)switch(o){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array;case 8:return BigUint64Array}else if(r===E.Float)switch(o){case 4:return Float32Array;case 8:return Float64Array}}else if(e===P.Array||e===P.Slice||e===P.Vector){const{structure:{typedArray:r}}=n[0];return r}return null}function bt(t){return t.typedArray=Ln(t)}function Nn(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return!!e&&n===e.name}function Un(t,e){const n=e[ct];if(n){const r=t==null?void 0:t[Symbol.toStringTag];if(n.includes(r))return!0}return!!(e.child&&re(t,e.child)!==void 0)}function pt(t){const{typedArray:e}=t,n=[];return e&&(n.push(e.name),n.push("DataView"),e===Uint8Array&&(n.push("Uint8ClampedArray"),n.push("ArrayBuffer"),n.push("SharedArrayBuffer"))),n}function _n(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return n==="DataView"||n==="ArrayBuffer"||n==="SharedArrayBuffer"?!0:!!(e&&n===e.name)}function Tt(t){const{type:e,bitSize:n,byteSize:r,structure:o}=t;if((o==null?void 0:o.name)==="usize")return"USize";if((o==null?void 0:o.name)==="isize")return"ISize";if(e===E.Int)return`${n<=32?"":"Big"}Int${n}`;if(e===E.Uint)return`${n<=32?"":"Big"}Uint${n}`;if(e===E.Float)return`Float${n}`;if(e===E.Bool)return`Bool${r!==void 0?r*8:1}`;if(e===E.Void)return"Null"}function oe(t,e,n){const{type:r,bitOffset:o,bitSize:c}=e,f=o&7,l=Tt(e),a=Fn(e)?"":`Bit${f}`,h=`${t}${l}${a}`;let s=qt[h];if(!s){if(r===E.Int&&l==="ISize"||r===E.Uint&&l==="USize"){if(c===64){const i=r===E.Int?"BigInt64":"BigUint64",u=`${t}${i}`;if(t==="get"){const m=n(u),y=BigInt(Number.MIN_SAFE_INTEGER),b=BigInt(Number.MAX_SAFE_INTEGER);s=function(O,p){const I=m.call(this,O,p);return y<=I&&I<=b?Number(I):I}}else{const m=n(u);s=function(y,b,O){typeof b=="number"&&(b=BigInt(b)),m.call(this,y,b,O)}}}else if(c===32){const i=r===E.Int?"Int32":"Uint32",u=`${t}${i}`;if(t==="get")s=n(u);else{const m=n(u);s=function(y,b,O){typeof b=="bigint"&&(b=Number(b)),m.call(this,y,b,O)}}}}else s=n(h);s&&s.name!==h&&Object.defineProperty(s,"name",{value:h,configurable:!0,writable:!1}),qt[h]=s}return s}const qt={},E={Void:0,Bool:1,Int:2,Uint:3,Float:4,EnumerationItem:5,Object:6,Type:7,Comptime:8},H=Array(Object.values(E).length);function Vr(){H[E.Bool]=Rn}function Tr(){H[E.Int]=Kn}function xr(){H[E.Uint]=qn}function Dr(){H[E.Float]=Gn}function zr(){H[E.EnumerationItem]=Wn}function kr(){H[E.Object]=Xn}function Mr(){H[E.Type]=Yn}function Fn({bitOffset:t,bitSize:e,byteSize:n}){return n!==void 0||!(t&7)&&!(e&7)||e===0}function C(t,e={}){const n=H[t.type];return{get:n("get",t,e),set:n("set",t,e)}}function Rn(t,e,n){return st(t,e,n,Mn)}function Kn(t,e,n){const r=ie(n,ee);return st(t,e,n,r)}function qn(t,e,n){const r=ie(n,Bn);return st(t,e,n,r)}function ie(t,e){return function(n,r){const{runtimeSafety:o=!0}=t,c=e(n,r);if(o&&n==="set"){const{min:f,max:l}=nr(r);return function(a,h,s){(h<f||h>l)&&Dn(r,h),c.call(this,a,h,s)}}return c}}function Gn(t,e,n){return st(t,e,n,Cn)}function Wn(t,e,n){const r=Hn(ee);return st(t,e,n,r)}function Hn(t){return function(e,n){let{bitSize:r,byteSize:o}=n;o&&(r=o*8);const c={type:E.Int,bitSize:r,byteSize:o},f=t(e,c),{structure:l}=n;return e==="get"?function(a,h){const{constructor:s}=l,i=f.call(this,a,h),u=s(i);return u||wn(l,i),u}:function(a,h,s){const{constructor:i}=l;let u;h instanceof i?u=h:u=i(h),u||gn(l,h),f.call(this,a,u.valueOf(),s)}}}function Xn(t,e,n){const{structure:r,slot:o}=e;let c=!1;switch(r.type){case P.ErrorUnion:case P.Optional:c=!0;break}return o!==void 0?t==="get"?c?function(){return this[U][o].call(this).$}:function(){return this[U][o].call(this)}:function(l){const a=this[U][o].call(this);a.$=l}:t==="get"?c?function(l){return this[U](l).$}:function(l){return this[U](l)}:function(l,a){const h=this[U](l);h.$=a}}function Yn(t,e,n){const{structure:r}=e;if(t==="get")return function(){const{constructor:o}=r;return o}}function st(t,e,n,r){const{littleEndian:o=!0}=n,{bitOffset:c,byteSize:f}=e,l=r(t,e);if(c!==void 0){const a=c>>3;return t==="get"?function(){try{return l.call(this[g],a,o)}catch(h){if(h instanceof TypeError&&k.call(this))return l.call(this[g],a,o);throw h}}:function(h){try{return l.call(this[g],a,h,o)}catch(s){if(s instanceof TypeError&&k.call(this))return l.call(this[g],a,h,o);throw s}}}else return t==="get"?function(a){try{return l.call(this[g],a*f,o)}catch(h){if(h instanceof TypeError&&k.call(this))return l.call(this[g],a*f,o);Kt(e,a,h)}}:function(a,h){try{return l.call(this[g],a*f,h,o)}catch(s){if(s instanceof TypeError&&k.call(this))return l.call(this[g],a*f,h,o);Kt(e,a,s)}}}function et(t){const{constructor:e,instance:{members:n}}=t;Object.defineProperties(e.prototype,{dataView:{...Zn(t),configurable:!0},base64:{...Jn(),configurable:!0},toJSON:{value:Wt,configurable:!0,writable:!0},valueOf:{value:Wt,configurable:!0,writable:!0}}),ce(t)&&Object.defineProperty(e.prototype,"string",{...Qn(t),configurable:!0}),se(t)&&Object.defineProperty(e.prototype,"typedArray",{...tr(t),configurable:!0})}function ce(t){if(t.type===P.Array||t.type===P.Slice){const{type:e,bitSize:n}=t.instance.members[0];if(e===E.Uint&&(n===8||n===16))return!0}return!1}function se(t){return!!t.typedArray}function mt(t){const e=["dataView","base64"];return ce(t)&&e.push("string"),se(t)&&e.push("typedArray"),e}function Zn(t){const{type:e,byteSize:n,sentinel:r}=t,o=L(n,e===P.Slice);return{get(){return k.call(this),this[g]},set(c){ue(c),k.call(this);const f=this[g];f.byteLength!==c.byteLength&&Jt(t,c,this),r==null||r.validateData(c,this.length),o(f,c)}}}function ue(t){return(t==null?void 0:t[Symbol.toStringTag])!=="DataView"&&ht("a DataView",t),t}function Jn(){return{get(){const t=this.dataView,e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=String.fromCharCode.apply(null,e);return btoa(n)},set(t){this.dataView=fe(t)}}}function fe(t){typeof t!="string"&&ht("a string",t);const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<n.byteLength;r++)n[r]=e.charCodeAt(r);return new DataView(n.buffer)}const Gt={};function Qn(t){const{sentinel:e,instance:{members:[n]}}=t,{byteSize:r}=n;return{get(){let o=Gt[r];o||(o=Gt[r]=new TextDecoder(`utf-${r*8}`));const c=this.dataView,f=r===1?Int8Array:Int16Array,l=new f(c.buffer,c.byteOffset,this.length),a=o.decode(l);return(e==null?void 0:e.value)===void 0?a:a.slice(0,-1)},set(o){this.dataView=le(o,r,e==null?void 0:e.value)}}}let Ot;function le(t,e,n){typeof t!="string"&&ht("a string",t),n!==void 0&&t.charCodeAt(t.length-1)!==n&&(t=t+String.fromCharCode(n));let r;if(e===1)Ot||(Ot=new TextEncoder(`utf-${e*8}`)),r=Ot.encode(t);else if(e===2){const{length:o}=t;r=new Uint16Array(o);for(let c=0;c<o;c++)r[c]=t.charCodeAt(c)}return new DataView(r.buffer)}function tr(t){const{typedArray:e}=t;return{get(){const n=this.dataView,r=n.byteLength/e.BYTES_PER_ELEMENT;return new e(n.buffer,n.byteOffset,r)},set(n){this.dataView=ae(n,e)}}}function ae(t,e){return Nn(t,e)||ht(e.name,t),new DataView(t.buffer,t.byteOffset,t.byteLength)}function Wt(){const t=new WeakMap;function e(n){if(n[Symbol.iterator]){const r=[];for(const o of n)r.push(e(o));return r}else if(n&&(typeof n=="object"||typeof n=="function")){let r=t.get(n);if(!r){r={},t.set(n,r);for(const[o,c]of Object.entries(n)){const f=e(c);f!==void 0&&(r[o]=f)}return r}return r}else return n}return e(this.$)}function er(t){const{byteSize:e,instance:{members:[n]},options:r}=t;bt(t);const o=t.constructor=function(s){const i=this instanceof o;let u,m;if(i?(arguments.length===0&&tt(t),u=this,m=new DataView(new ArrayBuffer(e))):(u=Object.create(o.prototype),m=ot(t,s)),u[g]=m,i)l.call(u,s);else return u},c=L(e),f=mt(t),l=function(s){if(s instanceof o)k.call(this),k.call(s),c(this[g],s[g]);else if(s&&typeof s=="object"){for(const u of Object.keys(s))u in this||$t(t,u);let i=0;for(const u of f)u in s&&i++;if(i===0){const u=he(n);at(t,u,s)}for(const u of f)u in s&&(this[u]=s[u])}else s!==void 0&&(this.$=s)},{get:a,set:h}=C(n,r);return Object.defineProperties(o.prototype,{$:{get:a,set:h,configurable:!0},[Symbol.toPrimitive]:{value:a,configurable:!0,writable:!0}}),Object.defineProperty(o,ct,{value:pt(t)}),et(t),o}function nr(t){const{type:e,bitSize:n}=t,r=e===E.Int;let o=r?n-1:n;if(n<=32){const c=2**o-1;return{min:r?-(2**o):0,max:c}}else{o=BigInt(o);const c=2n**o-1n;return{min:r?-(2n**o):0n,max:c}}}function ye({type:t,bitSize:e}){if(t===E.Int||t===E.Uint)return e<=32?Number:BigInt;if(t===E.Float)return Number;if(t===E.Bool)return Boolean}function he(t){const e=ye(t);if(e)return typeof e(0)}function rr(t){const{byteSize:e,instance:{members:[n]},isConst:r,options:o}=t,{runtimeSafety:c=!0}=o,{structure:f}=n,l=f.type===P.Slice,a=f.type===P.Pointer,h=l?e/2:e,s={name:"usize",byteSize:h},i=C({type:E.Uint,bitOffset:0,bitSize:h*8,byteSize:h,structure:s},o).set,u=l?C({type:E.Uint,bitOffset:h*8,bitSize:h*8,byteSize:h,structure:s},o).set:null,m=t.constructor=function(b){const O=this===G,p=this===vt;let I=this instanceof m,V,T;if(I)arguments.length===0&&tt(t),V=this,T=new DataView(new ArrayBuffer(e));else if(V=Object.create(m.prototype),O||p)T=ot(t,b);else{const x=f.constructor;Xt(b,x)?(I=!0,b=b["*"]):l?(I=!0,b=x(b)):An()}return V[g]=T,V[v]={0:null},V[G]=O,I&&y.call(V,b),ur.call(V,r,a)},y=function(b){if(b instanceof m)lt(this)?y.call(this,b[v][0]):Q.call(this,b);else{const O=f.constructor;if(Xt(b,O))!r&&b.constructor.const&&Pn(t,b),Q.call(this,b);else{if(!(b instanceof O))if(Un(b,O)){const p=Vt(f,b);b=O(p)}else if(l){const p=new O(b);if(c&&f.typedArray&&_n(b==null?void 0:b.buffer)){const I=W(f.typedArray.name),V=W(b.constructor.name);console.warn(`Implicitly creating ${I} from ${V}`)}b=p}else Tn(t,b);if(lt(this))if(lt(b)){const{address:p}=lt(b);i.call(this,p),u&&u.call(this,b.length)}else xn();this[v][0]=b}}};return Object.defineProperties(m.prototype,{"*":{get:or,set:r?void 0:ir,configurable:!0},$:{get:be,set:y,configurable:!0},valueOf:{value:cr,configurable:!0,writable:!0},[B]:{value:sr}}),Object.defineProperties(m,{child:{get:()=>f.constructor},const:{value:r}}),m}function be(){return this[rt]}function Q(t){this[v][0]=t[v][0]}function Ht(){this[v][0]=null}function or(){return this[v][0].$}function ir(t){const e=this[v][0];e.$=t}function cr(){return this[v][0].$.valueOf()}function sr(t,e,n){n.call(this,e)}function Xt(t,e){var n;return((n=t==null?void 0:t.constructor)==null?void 0:n.child)===e&&t["*"]}function lt(t){var e;return(e=t==null?void 0:t[g])==null?void 0:e[g]}function ur(t,e){const n=e?{}:t?fr:pe,r=new Proxy(this,n);return Object.defineProperty(this,rt,{value:r}),r}const J={$:!0,"*":!0,constructor:!0,valueOf:!0,[G]:!0,[v]:!0,[g]:!0,[rt]:!0,[B]:!0,[Symbol.toStringTag]:!0,[Symbol.toPrimitive]:!0},pe={get(t,e){return J[e]?t[e]:t[v][0][e]},set(t,e,n){return J[e]?t[e]=n:t[v][0][e]=n,!0},deleteProperty(t,e){return J[e]?delete t[e]:delete t[v][0][e],!0},has(t,e){return J[e]||e in t[v][0]},ownKeys(t){return[...Object.getOwnPropertyNames(t[v][0]),rt,B]},getOwnPropertyDescriptor(t,e){return J[e]?Object.getOwnPropertyDescriptor(t,e):Object.getOwnPropertyDescriptor(t[v][0],e)}},fr={...pe,set(t,e,n){return J[e]?t[e]=n:Vn(t),!0},getOwnPropertyDescriptor(t,e){if(J[e])return Object.getOwnPropertyDescriptor(t,e);{const n=Object.getOwnPropertyDescriptor(t[v][0],e);return n!=null&&n.set&&(n.set=void 0),n}}};function lr(t){const{length:e,byteSize:n,instance:{members:[r]},hasPointer:o,options:c}=t;bt(t);const f=r.type===E.Object,l=t.constructor=function(y){const b=this instanceof l;let O,p;return b?(arguments.length===0&&tt(t),O=this,p=new DataView(new ArrayBuffer(n))):(O=Object.create(l.prototype),p=ot(t,y)),O[g]=p,O[Y]=null,O[Z]=null,f&&(O[v]={}),b&&i.call(O,y),Se.call(O)},{structure:a}=r,h=L(n),s=mt(t),i=function(y){if(y instanceof l)k.call(this),k.call(y),h(this[g],y[g]),o&&this[B](!0,y,Q);else if(typeof y=="string"&&s.includes("string")&&(y={string:y}),y!=null&&y[Symbol.iterator]){let b=y.length;typeof b!="number"&&(y=[...y],b=y.length),b!==e&&yt(t,this,y);let O=0;for(const p of y)m.call(this,O++,p)}else if(y&&typeof y=="object"){for(const O of Object.keys(y))O in this||throwNoProperty(t,O);let b=0;for(const O of s)O in y&&b++;b===0&&nt(t,y);for(const O of s)O in y&&(this[O]=y[O])}else y!==void 0&&nt(t,y)},{get:u,set:m}=C(r,c);return Object.defineProperties(l.prototype,{get:{value:u,configurable:!0,writable:!0},set:{value:m,configurable:!0,writable:!0},length:{value:e,configurable:!0},$:{get:be,set:i,configurable:!0},[Symbol.iterator]:{value:we,configurable:!0,writable:!0},entries:{value:ge,configurable:!0,writable:!0}}),Object.defineProperties(l,{child:{get:()=>a.constructor},[ct]:{value:pt(t)}}),f&&(me(t),o&&de(t)),et(t),l}function me(t){const{constructor:{prototype:e},instance:{members:[n]}}=t,{byteSize:r,structure:o}=n;Object.defineProperty(e,U,{value:function(l){let a=this[v][l];if(!a){const{constructor:h}=o,s=this[g],u=s.byteOffset+r*l,m=new DataView(s.buffer,u,r);a=this[v][l]=h.call(vt,m)}return a}})}function de(t){const{constructor:{prototype:e}}=t;Object.defineProperty(e,B,{value:function(o,c,f){for(let l=0,a=this.length;l<a;l++){const h=c==null?void 0:c[v][l],s=o?this[U](l):this[v][l];s&&s[B](o,h,f)}}})}function we(){const t=this[Et]??this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=t.get(n),o=!1,n++):o=!0,{value:r,done:o}}}}function ar(){const t=this[Et]??this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=[n,t.get(n)],o=!1,n++):o=!0,{value:r,done:o}}}}function ge(){return{[Symbol.iterator]:ar.bind(this),length:this.length}}function Se(){const t=new Proxy(this,yr);return Object.defineProperty(this,rt,{value:t}),t}const yr={get(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return t.get(n);switch(e){case"get":return t[Y]||(t[Y]=t.get.bind(t)),t[Y];case"set":return t[Z]||(t[Z]=t.set.bind(t)),t[Z];case Et:return t;default:return t[e]}},set(t,e,n){const r=typeof e=="symbol"?0:e|0;if(r!==0||r==e)t.set(r,n);else switch(e){case"get":t[Y]=n;break;case"set":t[Z]=n;break;default:t[e]=n}return!0},deleteProperty(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return!1;switch(e){case"get":delete t[Y];break;case"set":delete t[Z];break;default:delete t[e]}return!0},has(t,e){const n=typeof e=="symbol"?0:e|0;return n!==0||n==e?n>=0&&n<t.length:t[e]},ownKeys(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(`${n}`);return e.push("length",rt),e},getOwnPropertyDescriptor(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e){if(n>=0&&n<t.length)return{value:t.get(n),enumerable:!0,writable:!0,configurable:!0}}else return Object.getOwnPropertyDescriptor(t,e)}};function Oe(t){const{constructor:e,static:{members:n,template:r},options:o}=t,c={};for(const f of n){let{get:l,set:a}=C(f,o);const{type:h,slot:s,structure:{isConst:i}}=f;if(h===E.Object){const u=l;l=function(){return u.call(this)["*"]},a=i?void 0:function(m){const y=u.call(this);y["*"]=m},c[s]=()=>r[v][s]}Object.defineProperty(e,f.name,{get:l,set:a,configurable:!0,enumerable:!0})}Object.defineProperty(e,U,{value:c})}function je(t){const{constructor:e,instance:{methods:n},static:{methods:r}}=t;for(const o of r){let{name:c,argStruct:f,thunk:l}=o;const a=function(...h){const{constructor:s}=f,i=new s(h);return Yt(l,i)};Object.defineProperty(a,"name",{value:c,writable:!1}),Object.defineProperty(e,c,{value:a,configurable:!0,writable:!0})}for(const o of n){let{name:c,argStruct:f,thunk:l}=o;const a=function(...h){const{constructor:s}=f,i=new s([this,...h]);return Yt(l,i)};Object.defineProperty(a,"name",{value:c,writable:!1}),Object.defineProperty(Object.prototype,c,{value:a,configurable:!0,writable:!0})}}function Yt(t,e){{const n=t(e);if(n!==void 0){if(n instanceof Promise)return n.then(()=>e.retval);kn(n)}}return e.retval}function hr(t){const{byteSize:e,instance:{members:n,template:r},hasPointer:o,options:c}=t,f={};for(const y of n)if(y.type===E.Comptime){const{slot:b}=y,p=r[v][b]["*"];f[y.name]={value:p,configurable:!0,enumerable:!0},delete r[v][b]}else{const{get:b,set:O}=C(y,c);f[y.name]={get:b,set:O,configurable:!0,enumerable:!0}}const l=Object.keys(f),a=!!n.find(y=>y.type===E.Object),h=t.constructor=function(y){const b=this instanceof h;let O,p;if(b?(arguments.length===0&&tt(t),O=this,p=new DataView(new ArrayBuffer(e))):(O=Object.create(h.prototype),p=Vt(t,y)),O[g]=p,Object.defineProperties(O,f),a&&(O[v]={}),b)m.call(O,y);else return O},s=L(e),i=mt(t),u=n.filter(y=>y.isRequired).map(y=>y.name),m=function(y){if(y instanceof h)k.call(this),k.call(y),s(this[g],y[g]),o&&this[B](!0,y,Q);else if(y&&typeof y=="object"){let b=0;for(const I of l)I in y&&b++;let O=0;for(const I of u)I in y&&O++;let p=0;if(!y[g])for(const I of i)I in y&&p++;for(const I of Object.keys(y))I in this||$t(t,I);if(p===0&&O<u.length&&vn(t,y),r&&p===0&&b<l.length&&(s(this[g],r[g]),o&&this[B](!0,r,Q)),p>0)for(const I of i)I in y&&(this[I]=y[I]);else if(b>0)for(const I of l)I in y&&(this[I]=y[I])}else y!==void 0&&at(t,"object",y)};return Object.defineProperty(h.prototype,"$",{get:xt,set:m,configurable:!0}),et(t),a&&(Dt(t),o&&Ie(t)),Oe(t),je(t),h}function xt(){return this}function Dt(t){const{constructor:{prototype:e},instance:{members:n}}=t,r=n.filter(c=>c.type===E.Object),o={};for(const{slot:c,bitOffset:f,byteSize:l,structure:a}of r)o[c]=function(){let s=this[v][c];if(!s){const{constructor:i}=a,u=this[g],y=u.byteOffset+(f>>3),b=new DataView(u.buffer,y,l);s=this[v][c]=i.call(vt,b)}return s};Object.defineProperty(e,U,{value:o})}function Ie(t){const{constructor:{prototype:e},instance:{members:n}}=t,r=n.filter(c=>c.structure.hasPointer);Object.defineProperty(e,B,{value:function(f,l,a){var h;for(const{slot:s}of r){let i;if(l&&(i=(h=l[v])==null?void 0:h[s],!i))continue;const u=f?this[U][s].call(this):this[v][s];u&&u[B](f,i,a)}}})}function br(t){const{byteSize:e,instance:{members:n},options:r,hasPointer:o}=t,c=!!n.find(u=>u.type===E.Object),f=t.constructor=function(u){const m=this instanceof f;let y,b;if(m?(arguments.length===0&&tt(t),y=this,b=new DataView(new ArrayBuffer(e))):(y=Object.create(f.prototype),b=ot(t,u)),y[g]=b,c&&(y[v]={}),m)a.call(this,u);else return y},l=L(e),a=function(u){u instanceof f?(l(this[g],u[g]),o&&i.call(this)&&this[B](!0,u,Q)):this.$=u},{get:h,set:s,check:i}=pr(n,e,r);return Object.defineProperty(f.prototype,"$",{get:h,set:s,configurable:!0}),c&&(Dt(t),o&&Ie(t)),et(t),f}function pr(t,e,n){const{get:r,set:o}=C(t[0],n),{get:c,set:f}=C(t[1],n),{structure:l}=t[1],{constructor:a}=l,h=cn(e);return{get:function(){var i;const s=c.call(this);if(s!==0){const u=a(s);throw u||In(l,s),(i=this[B])==null||i.call(this,!1,null,Ht),u}else return r.call(this)},set:function(s){var i;s instanceof Error?(s instanceof a||jn(l),h(this[g]),f.call(this,s.index),(i=this[B])==null||i.call(this,!1,null,Ht)):(o.call(this,s),f.call(this,0))},check:function(){return c.call(this)===0}}}let ve;function mr(t){const{name:e,instance:{members:n}}=t,r=ve,o=t.constructor=function(a){this instanceof o&&On(t);const s=Number(a);return r[s]};Object.setPrototypeOf(o.prototype,Error.prototype);const c=function(){return this[ut]},f=function(){return"Error"};Object.defineProperties(o.prototype,{index:{get:c,configurable:!0},[Symbol.toStringTag]:{get:f,configurable:!0}});let l;for(const[a,{name:h,slot:s}]of n.entries()){let i=r[s];if(i){if(!(i instanceof o)){l||(l=n.map(y=>y.slot));const u=i.constructor,m=Object.values(u);if(m.every(y=>l.includes(y[ut])))Object.setPrototypeOf(u.prototype,o.prototype);else{Object.setPrototypeOf(o.prototype,u.prototype);for(const y of m)l.includes(y[ut])&&Object.setPrototypeOf(y,o.prototype)}}}else{i=Object.create(o.prototype);const u=At(h);Object.defineProperties(i,{message:{value:u,configurable:!0,enumerable:!0,writable:!1},[ut]:{value:s}}),r[s]=i}Object.defineProperties(o,{[h]:{value:i,configurable:!0,enumerable:!0,writable:!0}})}return o}function dr(){ve={}}function wr(t){const{instance:{members:e,template:n},options:r}=t,o=ye(e[0]),{get:c}=C(e[0],r),f=e.length,l={},a=t.constructor=function(i){if(this instanceof a&&Sn(t),typeof i=="number"||typeof i=="bigint"){let m=-1;if(s)m=Number(i);else{const y=o(i);for(let b=0;b<f;b++)if(c.call(a,b)===y){m=b;break}}return l[m]}else{if(i&&typeof i=="object"&&i[Ft])return i[Ft];if(typeof i=="string")return a[i];at(t,["number","string","tagged union"],i)}};Object.defineProperties(a,{[g]:{value:n[g]},[He]:{value:l}});const h=function(){const i=this[_t];return c.call(a,i)};Object.defineProperties(a.prototype,{[Symbol.toPrimitive]:{value:h,configurable:!0,writable:!0},$:{get:h,configurable:!0}});const s=(()=>{try{for(let i=0;i<f;i++)if(c.call(a,i)!==i)return!1;return!0}catch{return!1}})();for(const[i,{name:u}]of e.entries()){const m=Object.create(a.prototype);Object.defineProperties(m,{[_t]:{value:i},[We]:{value:u}}),Object.defineProperties(a,{[u]:{value:m,configurable:!0,enumerable:!0,writable:!0}}),l[i]=m}return et(t),Oe(t),je(t),a}function gr(t){const{instance:{members:[e]},hasPointer:n,options:r}=t,o=bt(t),c=e.type===E.Object,{byteSize:f,structure:l}=e,a=Or(t,r);a&&(t.sentinel=a);const h=t.constructor=function(p){const I=this instanceof h;let V;if(I)arguments.length===0&&tt(t),V=this,y.call(V,p);else{V=Object.create(h.prototype);const T=ot(t,p);u.call(V,T,T.byteLength/f,this)}return Se.call(V)},s=L(f,!0),i=mt(t),u=function(p,I,V=null){p||(p=new DataView(new ArrayBuffer(I*f))),this[g]=p,this[Y]=null,this[Z]=null,this[jt]=I,c&&(this[v]={})},m=function(p,I){I!==this[jt]&&yt(t,this,p)},y=function(p){let I=!this.hasOwnProperty(g);if(p instanceof h)I?u.call(this,null,p.length):m.call(this,p,p.length),k.call(this),k.call(p),s(this[g],p[g]),n&&this[B](!0,p,Q);else if(typeof p=="string"&&i.includes("string")&&(p={string:p}),p!=null&&p[Symbol.iterator]){let V=p.length;typeof V!="number"&&(p=[...p],V=p.length),this[g]?m.call(this,p,V):u.call(this,null,V);let T=0;for(const x of p)a==null||a.validateValue(x,T,V),O.call(this,T++,x)}else if(typeof p=="number")I&&p>=0&&isFinite(p)?u.call(this,null,p):nt(t,p,I);else if(p&&typeof p=="object"){for(const T of Object.keys(p))T in this||$t(t,T);let V=0;for(const T of i)T in p&&V++;V===0&&nt(t,p);for(const T of i)if(T in p)if(I){let x,M=!0;switch(T){case"dataView":x=p[T],ue(x);break;case"typedArray":x=ae(p[T],o);break;case"string":x=le(p[T],f,a==null?void 0:a.value),M=!1;break;case"base64":x=fe(p[T]),M=!1;break}ne(t,x);const it=x.byteLength/f;a==null||a.validateData(x,it),M?(u.call(this,null,it),s(this[g],x)):u.call(this,x,it),I=!1}else this[T]=p[T]}else p!==void 0&&nt(t,p)},{get:b,set:O}=C(e,r);return Object.defineProperties(h.prototype,{get:{value:b,configurable:!0,writable:!0},set:{value:O,configurable:!0,writable:!0},length:{get:Sr,configurable:!0},$:{get:xt,set:y,configurable:!0},[Symbol.iterator]:{value:we,configurable:!0,writable:!0},entries:{value:ge,configurable:!0,writable:!0}}),Object.defineProperties(h,{child:{get:()=>l.constructor},[ct]:{value:pt(t)}}),c&&(me(t),n&&de(t)),et(t),h}function Sr(){return this[jt]}function Or(t,e){const{runtimeSafety:n=!0}=e,{instance:{members:[r,o],template:c}}=t;if(!o)return;const{get:f}=C(o,e),l=f.call(c,0),{get:a}=C(r,e);return{value:l,validateValue:n?function(i,u,m){i===l&&u!==m-1?Rt(t,i,u,m):i!==l&&u===m-1&&ft(t,l,u)}:function(i,u,m){i!==l&&u===m-1&&ft(t,l,m)},validateData:n?function(i,u){const m={[g]:i};for(let y=0;y<u;y++){const b=a.call(m,y);b===l&&y!==u-1?Rt(t,l,y,u):b!==l&&y===u-1&&ft(t,l,u)}}:function(i,u){const m={[g]:i};if(u>0){const y=u-1;a.call(m,y)!==l&&ft(t,l,u)}}}}function jr(t){const{length:e,byteSize:n,instance:{members:[r]},options:o}=t;bt(t);const c=t.constructor=function(s){const i=this instanceof c;let u,m;if(i?(arguments.length===0&&tt(t),u=this,m=new DataView(new ArrayBuffer(n))):(u=Object.create(c.prototype),m=ot(t,s)),u[g]=m,i)h.call(u,s);else return u},{bitSize:f,structure:l}=r,a=L(n),h=function(s){if(s instanceof c)k.call(this),k.call(s),a(this[g],s[g]);else if(s!=null&&s[Symbol.iterator]){let i=s.length;typeof i!="number"&&(s=[...s],i=s.length),i!==e&&yt(t,this,s);let u=0;for(const m of s)this[u++]=m}else s!==void 0&&nt(t,s)};for(let s=0,i=0;s<e;s++,i+=f){const{get:u,set:m}=C({...r,bitOffset:i},o);Object.defineProperty(c.prototype,s,{get:u,set:m,configurable:!0})}return Object.defineProperties(c.prototype,{length:{value:e,configurable:!0},$:{get:xt,set:h,configurable:!0},[Symbol.iterator]:{value:Ir,configurable:!0,writable:!0},entries:{value:Er,configurable:!0,writable:!0}}),Object.defineProperties(c,{child:{get:()=>l.constructor},[ct]:{value:pt(t)}}),et(t),c}function Ir(){const t=this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=t[n],o=!1,n++):o=!0,{value:r,done:o}}}}function vr(){const t=this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=[n,t[n]],o=!1,n++):o=!0,{value:r,done:o}}}}function Er(){return{[Symbol.iterator]:vr.bind(this),length:this.length}}function $r(t){const{byteSize:e,instance:{members:n},options:r}=t,o=!!n.find(h=>h.type===E.Object),c=t.constructor=function(h){const s=new DataView(new ArrayBuffer(e));this[g]=s,o&&(this[v]={}),a.call(this,h)},f=n.slice(0,-1).map(h=>h.name),l=f.length,a=function(h){h.length!==l&&En(t,h.length);for(const[s,i]of f.entries())try{this[i]=h[s]}catch(u){$n(t,s,u)}};for(const h of n){const s=C(h,r);Object.defineProperty(c.prototype,h.name,s)}return o&&Dt(t),c}const P={Primitive:0,Array:1,Struct:2,ArgStruct:3,ExternUnion:4,BareUnion:5,TaggedUnion:6,ErrorUnion:7,ErrorSet:8,Enumeration:9,Optional:10,Pointer:11,Slice:12,Vector:13,Opaque:14,Function:15},_=Array(Object.values(P).length);function Br(){_[P.Primitive]=er}function Cr(){_[P.Array]=lr}function Lr(){_[P.Struct]=hr}function Nr(){_[P.ErrorUnion]=br}function Ur(){_[P.ErrorSet]=mr}function _r(){_[P.Enumeration]=wr}function Fr(){_[P.Pointer]=rr}function Rr(){_[P.Slice]=gr}function Kr(){_[P.Vector]=jr}function qr(){_[P.ArgStruct]=$r}function z(t){let e=t.name;return e=e.replace(/{.*}/,""),e=e.replace(/[^. ]*?\./g,""),e}function Ar(t){try{const e=_[t.type],n=e(t);return typeof n=="function"&&(Object.defineProperties(n,{name:{value:z(t),writable:!1}}),n.prototype.hasOwnProperty(Symbol.toStringTag)||Object.defineProperties(n.prototype,{[Symbol.toStringTag]:{value:t.name,configurable:!0,writable:!1}})),n}catch(e){throw console.error(e),e}}const Zt={Auto:0,Copy:1,Link:2};async function Gr(t,e={}){const{resolve:n,reject:r,promise:o,...c}=e;try{const f=await t,l=await Pr(f,c);n(l)}catch(f){r(f)}return o}async function Pr(t,e={}){const{omitFunctions:n=!1,slots:r={},variables:o,methodRunner:c,writeBack:f=!0}=e;let l=0,a=null,h=null,s=0,i=null,u=null;const m=new TextDecoder,y={};let b=0;const O=r,p=()=>{},V={env:{_startCall:Pe,_endCall:Ve,_allocMemory:Te,_freeMemory:xe,_getMemory:ze,_getMemoryOffset:ke,_getMemoryLength:Me,_wrapMemory:Be,_createString:Ce,_getPointerStatus:Le,_setPointerStatus:Ne,_readGlobalSlot:Ue,_readObjectSlot:_e,_writeObjectSlot:Fe,_createDataView:qe,_writeToConsole:Ge,_writeGlobalSlot:p,_setObjectPropertyString:p,_setObjectPropertyInteger:p,_setObjectPropertyBoolean:p,_setObjectPropertyObject:p,_beginStructure:p,_attachMember:p,_attachMethod:p,_attachTemplate:p,_finalizeStructure:p,_createObject:p,_createTemplate:p}},T=t[Symbol.toStringTag]==="Response"?WebAssembly.instantiateStreaming(t,V):WebAssembly.instantiate(t,V);let{instance:x}=await T,{memory:M,define:it,run:zt,alloc:dt,free:wt,safe:Ee}=x.exports,F="",gt=0;kt();{for(const{address:j,object:A}of o)Ct(A,Number(j));c[0]=function(j,A){const $=X(A),D=zt($,j);D!==0&&Ae(D)};const d=new WeakRef(x);return{abandon:()=>{x=M=it=dt=wt=Ee=null,zt=function(){throw new Error("WebAssembly instance was abandoned")};for(const{object:j}of o)Lt(j)},released:()=>!d.deref()}}function kt(){l!==1&&(l=1,a={0:null},h=new WeakMap),s!==1&&(s=1,i={0:null},u={})}function Mt(d,w){const S=new Uint8Array(M.buffer,d,w);return m.decode(S)}function $e(d,w){const S=Mt(d,w);let j=u[S];return j===void 0&&(j=u[S]=s++,i[j]=S),j}function X(d){const w=l++;return a[w]=d,h.set(d,w),w}function Bt(d){const w=h.get(d);return w!==void 0?w:X(d)}function Ct(d,w){const S=d[g],j=S.byteLength;if(j===0)return;const A=new DataView(M.buffer,w,j);if(f&&L(S.byteLength)(A,S),A[g]={memory:M,address:w,len:j},d[g]=A,d.hasOwnProperty(G)){const $=d[v][0],D=A.getUint32(0,!0);Ct($,D)}}function Lt(d){const w=d[g],S=w.byteLength;if(S===0||!w[g])return;const j=new DataView(new ArrayBuffer(S));if(L(w.byteLength)(j,w),d[g]=j,d.hasOwnProperty(G)){const $=d[v][0];Lt($)}}function Ae(d){const w=i[d],S=At(w);throw new Error(S)}function Pe(d){y[d]={bufferMap:new Map},b++}function Ve(d){const w=y[d];for(const[S,{address:j,len:A,ptrAlign:$,copy:D,shadow:R}]of w.bufferMap){if(D){const K=new DataView(M.buffer,j,A);D(S,K)}R&&wt(d,j,A,$)}delete y[d],b--,b===0&&(kt(),F&&(console.log(F),F="",clearTimeout(gt)))}function Te(d,w,S){if(w===0)return null;const j=dt(d,w,S),{bufferMap:A}=y[d],$=new ArrayBuffer(w),D=new DataView($),R=L(w);return new DataView(M.buffer,j,w),A.set(D,{address:j,len:w,ptrAlign:S,copy:R,shadow:!0}),j}function xe(d,w,S,j){const{bufferMap:A}=y[d];for(const[$,{address:D}]of A)w===D&&(A.delete($),wt(d,w,S,j))}function De({address:d},w){const S=(1<<w)-1;return(d&S)!==0}function ze(d,w,S,j){let $=a[w][g];if(!$)return 0;const D=$[g];if(D)return X(D);{const R=y[d];let K=R.bufferMap.get($);if(!K){const q=$.byteLength;if(q===0)return X({address:0,len:0});for(const[N,St]of R.bufferMap)if($.buffer===N.buffer){if(N.byteOffset<=$.byteOffset&&$.byteOffset+q<=N.byteOffset+N.byteLength){K={address:St.address+($.byteOffset-N.byteOffset),len:q,copy:null,ptrAlign:S,shadow:!1};break}else if(!(N.byteOffset>=$.byteOffset+q||$.byteOffset>=N.byteOffset+N.byteLength))return 0}if(K){if(De(K,S))return 0}else{const N=dt(d,q,S),St=new DataView(M.buffer,N,q),Nt=$.byteLength===q?$:new DataView($.buffer),Ut=L(q);Ut(St,Nt),K={address:N,len:q,copy:j?null:Ut,ptrAlign:S,shadow:!0}}R.bufferMap.set($,K)}return X(K)}}function ke(d){return a[d].address}function Me(d){return a[d].len}function Be(d,w){const S=a[d];let j=a[w],A;{const{constructor:$}=S;A=$.call(G,j)}return X(A)}function Ce(d,w){return $e(d,w)}function Le(d){const S=a[d][G];return typeof S!="boolean"?-1:S?1:0}function Ne(d,w){const S=a[d];S[G]=!!w}function Ue(d){const w=O[d];return w?Bt(w):0}function _e(d,w){const j=a[d][v][w];return j?Bt(j):0}function Fe(d,w,S){const j=a[d];j[v][w]=a[S]}function Re(d,w,S){const j=new ArrayBuffer(S),A=new DataView(j);if(S>0){const $=L(S),D=new DataView(M.buffer,w,S);$(A,D)}return d.bufferMap.set(A,{address:w,len:S,copy:null,ptrAlign:0,shadow:!1}),A}function Ke(d,w,S,j){if(j===Zt.Copy)return Re(d,w,S);if(j===Zt.Auto){for(const[A,{address:$,len:D}]of d.bufferMap)if($<=w&&w+S<=$+D){if(S===D)return A;{const R=w-$;return new DataView(A.buffer,R,S)}}}{const A=new DataView(M.buffer,w,S);return A[g]={memory:M,address:w,len:S},A}}function qe(d,w,S,j){const A=y[d];return X(Ke(A,w,S,j))}function Ge(d,w){const S=Mt(d,w),j=S.lastIndexOf(`
`);j===-1?F+=S:(console.log(F+S.substring(0,j)),F=S.substring(j+1)),clearTimeout(gt),F&&(gt=setTimeout(()=>{console.log(F),F=""},250))}}function Wr(t){const e={},n=[];dr();for(const i of t){for(const u of[i.static,i.instance])u.template&&(u.template=r(u.template));for(const u of i.static.methods)u.thunk=s(u.thunk);Ar(i),e[i.slot]=i}function r(i){const u={};if(i.memory){const{array:m,offset:y,length:b}=i.memory;u[g]=new DataView(m.buffer,y,b)}return i.slots&&(u[v]=o({},i.slots)),u}function o(i,u){for(const[m,y]of Object.entries(u))i[m]=c(y);return i}function c(i){let u;if(i.memory){const{array:b,offset:O,length:p}=i.memory;u=new DataView(b.buffer,O,p)}else{const{byteSize:b}=i.structure;u=new DataView(new ArrayBuffer(b))}const{constructor:m}=i.structure,y=m.call(G,u);return i.slots&&o(y[v],i.slots),i.address!==void 0&&n.push({address:i.address,object:y}),y}let f,l;const a=new Promise((i,u)=>{f=i,l=u}),h={0:function(i,u){return a.then(()=>h[0].call(this,i,u))}};function s(i){return function(u){return h[0](i,u)}}return{promise:a,resolve:f,reject:l,slots:e,variables:n,methodRunner:h}}export{Cr as a,Fr as b,Lr as c,Kr as d,Rr as e,_r as f,Ur as g,Nr as h,qr as i,xr as j,kr as k,Tr as l,Dr as m,zr as n,Mr as o,Wr as p,Gr as q,Vr as r,Br as u};
