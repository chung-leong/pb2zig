const g=Symbol("memory"),v=Symbol("slots"),G=Symbol("zig"),It=Symbol("parent"),We=Symbol("enumName"),Ut=Symbol("enumIndex"),He=Symbol("enumItems"),ut=Symbol("errorIndex"),_t=Symbol("enumItem"),Y=Symbol("getter"),Z=Symbol("setter"),jt=Symbol("length"),rt=Symbol("proxy"),ct=Symbol("compat"),vt=Symbol("self"),U=Symbol("childVivificator"),B=Symbol("pointerVisitor");function L(t,e=!1){if(!e)switch(t){case 1:return Qe;case 2:return tn;case 4:return en;case 8:return nn;case 16:return rn;case 32:return on}return t&7?t&3?t&1?Xe:Ye:Ze:Je}function Xe(t,e){for(let n=0,r=t.byteLength;n<r;n++)t.setInt8(n,e.getInt8(n))}function Ye(t,e){for(let n=0,r=t.byteLength;n<r;n+=2)t.setInt16(n,e.getInt16(n,!0),!0)}function Ze(t,e){for(let n=0,r=t.byteLength;n<r;n+=4)t.setInt32(n,e.getInt32(n,!0),!0)}function Je(t,e){for(let n=0,r=t.byteLength;n<r;n+=8)t.setInt32(n,e.getInt32(n,!0),!0),t.setInt32(n+4,e.getInt32(n+4,!0),!0)}function Qe(t,e){t.setInt8(0,e.getInt8(0))}function tn(t,e){t.setInt16(0,e.getInt16(0,!0),!0)}function en(t,e){t.setInt32(0,e.getInt32(0,!0),!0)}function nn(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0)}function rn(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0)}function on(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0),t.setInt32(16,e.getInt32(16,!0),!0),t.setInt32(20,e.getInt32(20,!0),!0),t.setInt32(24,e.getInt32(24,!0),!0),t.setInt32(28,e.getInt32(28,!0),!0)}function cn(t){switch(t){case 1:return an;case 2:return yn;case 4:return bn;case 8:return hn;case 16:return pn;case 32:return mn;default:return t&7?t&3?t&1?sn:un:fn:ln}}function sn(t){for(let e=0,n=t.byteLength;e<n;e++)t.setInt8(e,0)}function un(t){for(let e=0,n=t.byteLength;e<n;e+=2)t.setInt16(e,0,!0)}function fn(t){for(let e=0,n=t.byteLength;e<n;e+=4)t.setInt32(e,0,!0)}function ln(t){for(let e=0,n=t.byteLength;e<n;e+=8)t.setInt32(e,0,!0),t.setInt32(e+4,0,!0)}function an(t){t.setInt8(0,0)}function yn(t){t.setInt16(0,0,!0)}function bn(t){t.setInt32(0,0,!0)}function hn(t){t.setInt32(0,0,!0),t.setInt32(4,0,!0)}function pn(t){t.setInt32(0,0,!0),t.setInt32(4,0,!0),t.setInt32(8,0,!0),t.setInt32(12,0,!0)}function mn(t){t.setInt32(0,0,!0),t.setInt32(4,0,!0),t.setInt32(8,0,!0),t.setInt32(12,0,!0),t.setInt32(16,0,!0),t.setInt32(20,0,!0),t.setInt32(24,0,!0),t.setInt32(28,0,!0)}function k(){{const t=this[g],e=t[g];if(!e||t.buffer.byteLength!==0)return!1;const{memory:n,address:r,len:o}=e,c=new DataView(n.buffer,r,o);return c[g]=e,this[g]=c,!0}}function tt(t){const e=z(t);throw new TypeError(`An initializer must be provided to the constructor of ${e}, even when it's undefined`)}function Zt(t,e,n=null){const{type:r,byteSize:o}=t,c=z(t),f=e.byteLength,l=o>1?"s":"";if(r===$.Slice&&!n)throw new TypeError(`${c} has elements that are ${o} byte${l} in length, received ${f}`);{const a=r===$.Slice?n.length*o:o;throw new TypeError(`${c} has ${a} byte${l}, received ${f}`)}}function dn(t){const{byteSize:e,typedArray:n}=t,r=e>1?"s":"",o=["ArrayBuffer","DataView"].map(W);throw n&&o.push(W(n.name)),new TypeError(`Expecting ${te(o)} ${e} byte${r} in length`)}function wn(t,e){const n=z(t);throw new TypeError(`Value given does not correspond to an item of enum ${n}: ${e}`)}function gn(t,e){const n=z(t);throw new TypeError(`Enum item of the type ${n} expected, received ${e}`)}function Sn(t){const e=z(t);throw new TypeError(`Cannot create new enum item
Call ${e} without the use of "new" to obtain an enum object`)}function On(t){const e=z(t);throw new TypeError(`Cannot create new error
Call ${e} without the use of "new" to obtain an error object`)}function jn(t){const e=z(t);throw new TypeError(`Error given is not a part of error set ${e}`)}function In(t,e){const n=z(t);throw new TypeError(`Error number does not corresponds to any error in error set ${n}: #${e}`)}function at(t,e,n){const r=z(t),o=[];if(Array.isArray(e))for(const f of e)o.push(W(f));else o.push(W(e));const c=Jt(n);throw new TypeError(`${r} expects ${te(o)} as argument, received ${c}`)}function nt(t,e,n=!1){const{instance:{members:[r]},type:o,typedArray:c}=t,f=[],l=be(r);l?f.push(`array of ${l}s`):r.type===A.EnumerationItem?f.push("array of enum items"):f.push("array of objects"),c&&f.push(c.name),o===$.Slice&&n&&f.push("length"),at(t,f.join(" or "),e)}function yt(t,e,n){const{length:r,instance:{members:[o]}}=t,c=z(t),{structure:{constructor:f}}=o,{length:l,constructor:a}=n,b=(e==null?void 0:e.length)??r,s=b>1?"s":"";let i;throw a===f?i="only a single one":a.child===f?i=`a slice/array that has ${l}`:i=`${l} initializer${l>1?"s":""}`,new TypeError(`${c} has ${b} element${s}, received ${i}`)}function vn(t,e){const{instance:{members:n}}=t,r=z(t),o=[];for(const{name:c,isRequired:f}of n)f&&(e==null?void 0:e[c])===void 0&&o.push(c);throw new TypeError(`Missing initializers for ${r}: ${o.join(", ")}`)}function At(t,e){const n=z(t);throw new TypeError(`${n} does not have a property with that name: ${e}`)}function An(t,e){const{instance:{members:n}}=t,r=z(t),o=n.length-1,c=o>1?"s":"";throw new Error(`${r} expects ${o} argument${c}, received ${e}`)}function En(t,e,n){const{instance:{members:r}}=t,o=z(t),c=`args[${e}]`,f=r.length-1,l=e!==0?"..., ":"",a=e!==f-1?", ...":"",b=l+c+a,s=new n.constructor(`${o}(${b}): ${n.message}`);throw s.stack=n.stack,s}function Pn(t){throw new TypeError("Non-slice pointers can only be created with the help of the new operator")}function $n(t,e){const n=z(t),{constructor:{name:r}}=e;throw new TypeError(`Conversion of ${r} to ${n} requires an explicit cast`)}function Ft(t,e,n,r){const o=z(t);throw new TypeError(`${o} expects the sentinel value ${e} at ${r-1}, found at ${n}`)}function ft(t,e,n){const r=z(t);throw new TypeError(`${r} expects the sentinel value ${e} at ${n-1}`)}function Vn(t){const{constructor:{name:e}}=t;throw new TypeError(`${e} cannot be modified`)}function bt(t,e){const n=Jt(e);throw new TypeError(`Expected ${W(t)}, received ${n}`)}function Tn(t,e){const n=z(t);let r;if(e!=null){const o=typeof e,c=o==="object"&&e.constructor!==Object?`${e.constructor.name} object`:o;r=`${Qt(c)} ${c}`}else r=e+"";throw new TypeError(`${n} cannot point to ${r}`)}function xn(t,e){throw new TypeError("Pointers in fixed memory cannot point to garbage-collected object")}function Dn(t,e){const n=Vt(t);throw new TypeError(`${n} cannot represent the value given: ${e}`)}function zn(t,e){const{name:n}=t;throw new RangeError(`Index exceeds the size of ${n??"array"}: ${e}`)}function Rt(t,e,n){if(n instanceof RangeError)zn(t,e);else throw n}function kn(t){throw new Error(Et(t))}function Et(t){try{const e=t.replace(/(\p{Uppercase}+)(\p{Lowercase}*)/gu,(n,r,o)=>{if(r.length===1)return` ${r.toLocaleLowerCase()}${o}`;if(o){const c=r.substring(0,r.length-1),f=r.charAt(r.length-1).toLocaleLowerCase();return` ${c} ${f}${o}`}else return` ${r}`}).trimStart();return e.charAt(0).toLocaleUpperCase()+e.substring(1)}catch{return t}}function Jt(t){const e=typeof t;let n;return e==="object"?n=t?Object.prototype.toString.call(t):"null":n=e,W(n)}function W(t){return`${Qt(t)} ${t}`}function Qt(t){return/^\W*[aeiou]/i.test(t)?"an":"a"}function te(t,e="or"){const n=` ${e} `;return t.length>2?t.slice(0,-1).join(", ")+n+t[t.length-1]:t.join(n)}function Mn(t,e){return oe(t,e,()=>{const{byteSize:n}=e;if(n===void 0)return;const r=Vt({type:A.Int,bitSize:n*8});if(t==="get"){const o=DataView.prototype[`get${r}`];return function(c,f){return!!o.call(this,c,f)}}else{const o=DataView.prototype[`set${r}`],c=n>4?1n:1,f=n>4?0n:0;return function(l,a,b){o.call(this,l,a?c:f,b)}}})}function Pt(t,e){return oe(t,e,n=>DataView.prototype[n])}function ee(t,e){return Pt(t,e)}function Bn(t,e){return Pt(t,e)}function Cn(t,e){return Pt(t,e)}function $t(t,e){const{type:n,byteSize:r,typedArray:o}=t;let c;const f=e==null?void 0:e[Symbol.toStringTag];if(f==="DataView")c=e;else if(f==="ArrayBuffer"||f==="SharedArrayBuffer")c=new DataView(e);else if(o&&f===o.name||f==="Uint8ClampedArray"&&o===Uint8Array)c=new DataView(e.buffer,e.byteOffset,e.byteLength);else if(f==="Uint8Array"&&typeof Buffer=="function"&&e instanceof Buffer)c=new DataView(e.buffer,e.byteOffset,e.byteLength);else{const l=e==null?void 0:e[g];if(l&&(n===$.Array||n===$.Slice||n===$.Vector)){const{instance:{members:[a]}}=t,{byteSize:b,structure:{constructor:s}}=a,i=re(e,s);if(i!==void 0){if(n===$.Slice||i*b===r)return l;yt(t,null,e)}}}return c&&ne(t,c),c}function ne(t,e){const{type:n,byteSize:r}=t;(n===$.Slice?e.byteLength%r!==0:e.byteLength!==r)&&Zt(t,e)}function re(t,e){const{constructor:n}=t;if(n===e)return 1;if(n.child===e)return t.length}function ot(t,e){const n=$t(t,e);return n||dn(t),n}function Ln(t){const{type:e,instance:{members:n}}=t;if(e===$.Primitive){const{type:r,byteSize:o}=n[0];if(r===A.Int)switch(o){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array;case 8:return BigInt64Array}else if(r===A.Uint)switch(o){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array;case 8:return BigUint64Array}else if(r===A.Float)switch(o){case 4:return Float32Array;case 8:return Float64Array}}else if(e===$.Array||e===$.Slice||e===$.Vector){const{structure:{typedArray:r}}=n[0];return r}return null}function ht(t){return t.typedArray=Ln(t)}function Nn(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return!!e&&n===e.name}function Un(t,e){const n=e[ct];if(n){const r=t==null?void 0:t[Symbol.toStringTag];if(n.includes(r))return!0}return!!(e.child&&re(t,e.child)!==void 0)}function pt(t){const{typedArray:e}=t,n=[];return e&&(n.push(e.name),n.push("DataView"),e===Uint8Array&&(n.push("Uint8ClampedArray"),n.push("ArrayBuffer"),n.push("SharedArrayBuffer"))),n}function _n(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return n==="DataView"||n==="ArrayBuffer"||n==="SharedArrayBuffer"?!0:!!(e&&n===e.name)}function Vt(t){const{type:e,bitSize:n,byteSize:r,structure:o}=t;if((o==null?void 0:o.name)==="usize")return"USize";if((o==null?void 0:o.name)==="isize")return"ISize";if(e===A.Int)return`${n<=32?"":"Big"}Int${n}`;if(e===A.Uint)return`${n<=32?"":"Big"}Uint${n}`;if(e===A.Float)return`Float${n}`;if(e===A.Bool)return`Bool${r!==void 0?r*8:1}`;if(e===A.Void)return"Null"}function oe(t,e,n){const{type:r,bitOffset:o,bitSize:c}=e,f=o&7,l=Vt(e),a=Fn(e)?"":`Bit${f}`,b=`${t}${l}${a}`;let s=Kt[b];if(!s){if(r===A.Int&&l==="ISize"||r===A.Uint&&l==="USize"){if(c===64){const i=r===A.Int?"BigInt64":"BigUint64",u=`${t}${i}`;if(t==="get"){const m=n(u),y=BigInt(Number.MIN_SAFE_INTEGER),h=BigInt(Number.MAX_SAFE_INTEGER);s=function(O,p){const I=m.call(this,O,p);return y<=I&&I<=h?Number(I):I}}else{const m=n(u);s=function(y,h,O){typeof h=="number"&&(h=BigInt(h)),m.call(this,y,h,O)}}}else if(c===32){const i=r===A.Int?"Int32":"Uint32",u=`${t}${i}`;if(t==="get")s=n(u);else{const m=n(u);s=function(y,h,O){typeof h=="bigint"&&(h=Number(h)),m.call(this,y,h,O)}}}}else s=n(b);s&&s.name!==b&&Object.defineProperty(s,"name",{value:b,configurable:!0,writable:!1}),Kt[b]=s}return s}const Kt={},A={Void:0,Bool:1,Int:2,Uint:3,Float:4,EnumerationItem:5,Object:6,Type:7,Comptime:8},H=Array(Object.values(A).length);function Vr(){H[A.Bool]=Rn}function Tr(){H[A.Int]=Kn}function xr(){H[A.Uint]=qn}function Dr(){H[A.Float]=Gn}function zr(){H[A.EnumerationItem]=Wn}function kr(){H[A.Object]=Xn}function Mr(){H[A.Type]=Yn}function Fn({bitOffset:t,bitSize:e,byteSize:n}){return n!==void 0||!(t&7)&&!(e&7)||e===0}function C(t,e={}){const n=H[t.type];return{get:n("get",t,e),set:n("set",t,e)}}function Rn(t,e,n){return st(t,e,n,Mn)}function Kn(t,e,n){const r=ie(n,ee);return st(t,e,n,r)}function qn(t,e,n){const r=ie(n,Bn);return st(t,e,n,r)}function ie(t,e){return function(n,r){const{runtimeSafety:o=!0}=t,c=e(n,r);if(o&&n==="set"){const{min:f,max:l}=nr(r);return function(a,b,s){(b<f||b>l)&&Dn(r,b),c.call(this,a,b,s)}}return c}}function Gn(t,e,n){return st(t,e,n,Cn)}function Wn(t,e,n){const r=Hn(ee);return st(t,e,n,r)}function Hn(t){return function(e,n){let{bitSize:r,byteSize:o}=n;o&&(r=o*8);const c={type:A.Int,bitSize:r,byteSize:o},f=t(e,c),{structure:l}=n;return e==="get"?function(a,b){const{constructor:s}=l,i=f.call(this,a,b),u=s(i);return u||wn(l,i),u}:function(a,b,s){const{constructor:i}=l;let u;b instanceof i?u=b:u=i(b),u||gn(l,b),f.call(this,a,u.valueOf(),s)}}}function Xn(t,e,n){const{structure:r,slot:o}=e;let c=!1;switch(r.type){case $.ErrorUnion:case $.Optional:c=!0;break}return o!==void 0?t==="get"?c?function(){return this[U][o].call(this).$}:function(){return this[U][o].call(this)}:function(l){const a=this[U][o].call(this);a.$=l}:t==="get"?c?function(l){return this[U](l).$}:function(l){return this[U](l)}:function(l,a){const b=this[U](l);b.$=a}}function Yn(t,e,n){const{structure:r}=e;if(t==="get")return function(){const{constructor:o}=r;return o}}function st(t,e,n,r){const{littleEndian:o=!0}=n,{bitOffset:c,byteSize:f}=e,l=r(t,e);if(c!==void 0){const a=c>>3;return t==="get"?function(){try{return l.call(this[g],a,o)}catch(b){if(b instanceof TypeError&&k.call(this))return l.call(this[g],a,o);throw b}}:function(b){try{return l.call(this[g],a,b,o)}catch(s){if(s instanceof TypeError&&k.call(this))return l.call(this[g],a,b,o);throw s}}}else return t==="get"?function(a){try{return l.call(this[g],a*f,o)}catch(b){if(b instanceof TypeError&&k.call(this))return l.call(this[g],a*f,o);Rt(e,a,b)}}:function(a,b){try{return l.call(this[g],a*f,b,o)}catch(s){if(s instanceof TypeError&&k.call(this))return l.call(this[g],a*f,b,o);Rt(e,a,s)}}}function et(t){const{constructor:e,instance:{members:n}}=t;Object.defineProperties(e.prototype,{dataView:{...Zn(t),configurable:!0},base64:{...Jn(),configurable:!0},toJSON:{value:Gt,configurable:!0,writable:!0},valueOf:{value:Gt,configurable:!0,writable:!0}}),ce(t)&&Object.defineProperty(e.prototype,"string",{...Qn(t),configurable:!0}),se(t)&&Object.defineProperty(e.prototype,"typedArray",{...tr(t),configurable:!0})}function ce(t){if(t.type===$.Array||t.type===$.Slice){const{type:e,bitSize:n}=t.instance.members[0];if(e===A.Uint&&(n===8||n===16))return!0}return!1}function se(t){return!!t.typedArray}function mt(t){const e=["dataView","base64"];return ce(t)&&e.push("string"),se(t)&&e.push("typedArray"),e}function Zn(t){const{type:e,byteSize:n,sentinel:r}=t,o=L(n,e===$.Slice);return{get(){return k.call(this),this[g]},set(c){ue(c),k.call(this);const f=this[g];f.byteLength!==c.byteLength&&Zt(t,c,this),r==null||r.validateData(c,this.length),o(f,c)}}}function ue(t){return(t==null?void 0:t[Symbol.toStringTag])!=="DataView"&&bt("a DataView",t),t}function Jn(){return{get(){const t=this.dataView,e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=String.fromCharCode.apply(null,e);return btoa(n)},set(t){this.dataView=fe(t)}}}function fe(t){typeof t!="string"&&bt("a string",t);const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<n.byteLength;r++)n[r]=e.charCodeAt(r);return new DataView(n.buffer)}const qt={};function Qn(t){const{sentinel:e,instance:{members:[n]}}=t,{byteSize:r}=n;return{get(){let o=qt[r];o||(o=qt[r]=new TextDecoder(`utf-${r*8}`));const c=this.dataView,f=r===1?Int8Array:Int16Array,l=new f(c.buffer,c.byteOffset,this.length),a=o.decode(l);return(e==null?void 0:e.value)===void 0?a:a.slice(0,-1)},set(o){this.dataView=le(o,r,e==null?void 0:e.value)}}}let Ot;function le(t,e,n){typeof t!="string"&&bt("a string",t),n!==void 0&&t.charCodeAt(t.length-1)!==n&&(t=t+String.fromCharCode(n));let r;if(e===1)Ot||(Ot=new TextEncoder(`utf-${e*8}`)),r=Ot.encode(t);else if(e===2){const{length:o}=t;r=new Uint16Array(o);for(let c=0;c<o;c++)r[c]=t.charCodeAt(c)}return new DataView(r.buffer)}function tr(t){const{typedArray:e}=t;return{get(){const n=this.dataView,r=n.byteLength/e.BYTES_PER_ELEMENT;return new e(n.buffer,n.byteOffset,r)},set(n){this.dataView=ae(n,e)}}}function ae(t,e){return Nn(t,e)||bt(e.name,t),new DataView(t.buffer,t.byteOffset,t.byteLength)}function Gt(){const t=new WeakMap;function e(n){if(n[Symbol.iterator]){const r=[];for(const o of n)r.push(e(o));return r}else if(n&&(typeof n=="object"||typeof n=="function")){let r=t.get(n);if(!r){r={},t.set(n,r);for(const[o,c]of Object.entries(n)){const f=e(c);f!==void 0&&(r[o]=f)}return r}return r}else return n}return e(this.$)}function er(t){const{byteSize:e,instance:{members:[n]},options:r}=t;ht(t);const o=t.constructor=function(s){const i=this instanceof o;let u,m;if(i?(arguments.length===0&&tt(t),u=this,m=new DataView(new ArrayBuffer(e))):(u=Object.create(o.prototype),m=ot(t,s)),u[g]=m,i)l.call(u,s);else return u},c=L(e),f=mt(t),l=function(s){if(s instanceof o)k.call(this),k.call(s),c(this[g],s[g]);else if(s&&typeof s=="object"){for(const u of Object.keys(s))u in this||At(t,u);let i=0;for(const u of f)u in s&&i++;if(i===0){const u=be(n);at(t,u,s)}for(const u of f)u in s&&(this[u]=s[u])}else s!==void 0&&(this.$=s)},{get:a,set:b}=C(n,r);return Object.defineProperties(o.prototype,{$:{get:a,set:b,configurable:!0},[Symbol.toPrimitive]:{value:a,configurable:!0,writable:!0}}),Object.defineProperty(o,ct,{value:pt(t)}),et(t),o}function nr(t){const{type:e,bitSize:n}=t,r=e===A.Int;let o=r?n-1:n;if(n<=32){const c=2**o-1;return{min:r?-(2**o):0,max:c}}else{o=BigInt(o);const c=2n**o-1n;return{min:r?-(2n**o):0n,max:c}}}function ye({type:t,bitSize:e}){if(t===A.Int||t===A.Uint)return e<=32?Number:BigInt;if(t===A.Float)return Number;if(t===A.Bool)return Boolean}function be(t){const e=ye(t);if(e)return typeof e(0)}function rr(t){const{byteSize:e,instance:{members:[n]},isConst:r,options:o}=t,{runtimeSafety:c=!0}=o,{structure:f}=n,l=f.type===$.Slice,a=f.type===$.Pointer,b=l?e/2:e,s={name:"usize",byteSize:b},i=C({type:A.Uint,bitOffset:0,bitSize:b*8,byteSize:b,structure:s},o).set,u=l?C({type:A.Uint,bitOffset:b*8,bitSize:b*8,byteSize:b,structure:s},o).set:null,m=t.constructor=function(h){const O=this===G,p=this===It;let I=this instanceof m,V,T;if(I)arguments.length===0&&tt(t),V=this,T=new DataView(new ArrayBuffer(e));else if(V=Object.create(m.prototype),O||p)T=ot(t,h);else{const x=f.constructor;Ht(h,x)?(I=!0,h=h["*"]):l?(I=!0,h=x(h)):Pn()}return V[g]=T,V[v]={0:null},V[G]=O,I&&y.call(V,h),ur.call(V,r,a)},y=function(h){if(h instanceof m)lt(this)?y.call(this,h[v][0]):Q.call(this,h);else{const O=f.constructor;if(Ht(h,O))!r&&h.constructor.const&&$n(t,h),Q.call(this,h);else{if(!(h instanceof O))if(Un(h,O)){const p=$t(f,h);h=O(p)}else if(l){const p=new O(h);if(c&&f.typedArray&&_n(h==null?void 0:h.buffer)){const I=W(f.typedArray.name),V=W(h.constructor.name);console.warn(`Implicitly creating ${I} from ${V}`)}h=p}else Tn(t,h);if(lt(this))if(lt(h)){const{address:p}=lt(h);i.call(this,p),u&&u.call(this,h.length)}else xn();this[v][0]=h}}};return Object.defineProperties(m.prototype,{"*":{get:or,set:r?void 0:ir,configurable:!0},$:{get:he,set:y,configurable:!0},valueOf:{value:cr,configurable:!0,writable:!0},[B]:{value:sr}}),Object.defineProperties(m,{child:{get:()=>f.constructor},const:{value:r}}),m}function he(){return this[rt]}function Q(t){this[v][0]=t[v][0]}function Wt(){this[v][0]=null}function or(){return this[v][0].$}function ir(t){const e=this[v][0];e.$=t}function cr(){return this[v][0].$.valueOf()}function sr(t,e,n){n.call(this,e)}function Ht(t,e){var n;return((n=t==null?void 0:t.constructor)==null?void 0:n.child)===e&&t["*"]}function lt(t){var e;return(e=t==null?void 0:t[g])==null?void 0:e[g]}function ur(t,e){const n=e?{}:t?fr:pe,r=new Proxy(this,n);return Object.defineProperty(this,rt,{value:r}),r}const J={$:!0,"*":!0,constructor:!0,valueOf:!0,[G]:!0,[v]:!0,[g]:!0,[rt]:!0,[B]:!0,[Symbol.toStringTag]:!0,[Symbol.toPrimitive]:!0},pe={get(t,e){return J[e]?t[e]:t[v][0][e]},set(t,e,n){return J[e]?t[e]=n:t[v][0][e]=n,!0},deleteProperty(t,e){return J[e]?delete t[e]:delete t[v][0][e],!0},has(t,e){return J[e]||e in t[v][0]},ownKeys(t){return[...Object.getOwnPropertyNames(t[v][0]),rt,B]},getOwnPropertyDescriptor(t,e){return J[e]?Object.getOwnPropertyDescriptor(t,e):Object.getOwnPropertyDescriptor(t[v][0],e)}},fr={...pe,set(t,e,n){return J[e]?t[e]=n:Vn(t),!0},getOwnPropertyDescriptor(t,e){if(J[e])return Object.getOwnPropertyDescriptor(t,e);{const n=Object.getOwnPropertyDescriptor(t[v][0],e);return n!=null&&n.set&&(n.set=void 0),n}}};function lr(t){const{length:e,byteSize:n,instance:{members:[r]},hasPointer:o,options:c}=t;ht(t);const f=r.type===A.Object,l=t.constructor=function(y){const h=this instanceof l;let O,p;return h?(arguments.length===0&&tt(t),O=this,p=new DataView(new ArrayBuffer(n))):(O=Object.create(l.prototype),p=ot(t,y)),O[g]=p,O[Y]=null,O[Z]=null,f&&(O[v]={}),h&&i.call(O,y),Se.call(O)},{structure:a}=r,b=L(n),s=mt(t),i=function(y){if(y instanceof l)k.call(this),k.call(y),b(this[g],y[g]),o&&this[B](!0,y,Q);else if(typeof y=="string"&&s.includes("string")&&(y={string:y}),y!=null&&y[Symbol.iterator]){let h=y.length;typeof h!="number"&&(y=[...y],h=y.length),h!==e&&yt(t,this,y);let O=0;for(const p of y)m.call(this,O++,p)}else if(y&&typeof y=="object"){for(const O of Object.keys(y))O in this||throwNoProperty(t,O);let h=0;for(const O of s)O in y&&h++;h===0&&nt(t,y);for(const O of s)O in y&&(this[O]=y[O])}else y!==void 0&&nt(t,y)},{get:u,set:m}=C(r,c);return Object.defineProperties(l.prototype,{get:{value:u,configurable:!0,writable:!0},set:{value:m,configurable:!0,writable:!0},length:{value:e,configurable:!0},$:{get:he,set:i,configurable:!0},[Symbol.iterator]:{value:we,configurable:!0,writable:!0},entries:{value:ge,configurable:!0,writable:!0}}),Object.defineProperties(l,{child:{get:()=>a.constructor},[ct]:{value:pt(t)}}),f&&(me(t),o&&de(t)),et(t),l}function me(t){const{constructor:{prototype:e},instance:{members:[n]}}=t,{byteSize:r,structure:o}=n;Object.defineProperty(e,U,{value:function(l){let a=this[v][l];if(!a){const{constructor:b}=o,s=this[g],u=s.byteOffset+r*l,m=new DataView(s.buffer,u,r);a=this[v][l]=b.call(It,m)}return a}})}function de(t){const{constructor:{prototype:e}}=t;Object.defineProperty(e,B,{value:function(o,c,f){for(let l=0,a=this.length;l<a;l++){const b=c==null?void 0:c[v][l],s=o?this[U](l):this[v][l];s&&s[B](o,b,f)}}})}function we(){const t=this[vt]??this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=t.get(n),o=!1,n++):o=!0,{value:r,done:o}}}}function ar(){const t=this[vt]??this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=[n,t.get(n)],o=!1,n++):o=!0,{value:r,done:o}}}}function ge(){return{[Symbol.iterator]:ar.bind(this),length:this.length}}function Se(){const t=new Proxy(this,yr);return Object.defineProperty(this,rt,{value:t}),t}const yr={get(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return t.get(n);switch(e){case"get":return t[Y]||(t[Y]=t.get.bind(t)),t[Y];case"set":return t[Z]||(t[Z]=t.set.bind(t)),t[Z];case vt:return t;default:return t[e]}},set(t,e,n){const r=typeof e=="symbol"?0:e|0;if(r!==0||r==e)t.set(r,n);else switch(e){case"get":t[Y]=n;break;case"set":t[Z]=n;break;default:t[e]=n}return!0},deleteProperty(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return!1;switch(e){case"get":delete t[Y];break;case"set":delete t[Z];break;default:delete t[e]}return!0},has(t,e){const n=typeof e=="symbol"?0:e|0;return n!==0||n==e?n>=0&&n<t.length:t[e]},ownKeys(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(`${n}`);return e.push("length",rt),e},getOwnPropertyDescriptor(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e){if(n>=0&&n<t.length)return{value:t.get(n),enumerable:!0,writable:!0,configurable:!0}}else return Object.getOwnPropertyDescriptor(t,e)}};function Oe(t){const{constructor:e,static:{members:n,template:r},options:o}=t,c={};for(const f of n){let{get:l,set:a}=C(f,o);const{type:b,slot:s,structure:{isConst:i}}=f;if(b===A.Object){const u=l;l=function(){return u.call(this)["*"]},a=i?void 0:function(m){const y=u.call(this);y["*"]=m},c[s]=()=>r[v][s]}Object.defineProperty(e,f.name,{get:l,set:a,configurable:!0,enumerable:!0})}Object.defineProperty(e,U,{value:c})}function je(t){const{constructor:e,instance:{methods:n},static:{methods:r}}=t;for(const o of r){const{name:c,argStruct:f,thunk:l}=o,a=function(...b){const{constructor:s}=f,i=new s(b);return Xt(l,i)};Object.defineProperty(a,"name",{value:c,writable:!1}),Object.defineProperty(e,c,{value:a,configurable:!0,writable:!0})}for(const o of n){const{name:c,argStruct:f,thunk:l}=o,a=function(...b){const{constructor:s}=f,i=new s([this,...b]);return Xt(l,i)};Object.defineProperty(a,"name",{value:c,writable:!1}),Object.defineProperty(Object.prototype,c,{value:a,configurable:!0,writable:!0})}}function Xt(t,e){{const n=t(e);if(n!==void 0){if(n instanceof Promise)return n.then(()=>e.retval);kn(n)}}return e.retval}function br(t){const{byteSize:e,instance:{members:n,template:r},hasPointer:o,options:c}=t,f={};for(const y of n)if(y.type===A.Comptime){const{slot:h}=y,p=r[v][h]["*"];f[y.name]={value:p,configurable:!0,enumerable:!0},delete r[v][h]}else{const{get:h,set:O}=C(y,c);f[y.name]={get:h,set:O,configurable:!0,enumerable:!0}}const l=Object.keys(f),a=!!n.find(y=>y.type===A.Object),b=t.constructor=function(y){const h=this instanceof b;let O,p;if(h?(arguments.length===0&&tt(t),O=this,p=new DataView(new ArrayBuffer(e))):(O=Object.create(b.prototype),p=$t(t,y)),O[g]=p,Object.defineProperties(O,f),a&&(O[v]={}),h)m.call(O,y);else return O},s=L(e),i=mt(t),u=n.filter(y=>y.isRequired).map(y=>y.name),m=function(y){if(y instanceof b)k.call(this),k.call(y),s(this[g],y[g]),o&&this[B](!0,y,Q);else if(y&&typeof y=="object"){let h=0;for(const I of l)I in y&&h++;let O=0;for(const I of u)I in y&&O++;let p=0;if(!y[g])for(const I of i)I in y&&p++;for(const I of Object.keys(y))I in this||At(t,I);if(p===0&&O<u.length&&vn(t,y),r&&p===0&&h<l.length&&(s(this[g],r[g]),o&&this[B](!0,r,Q)),p>0)for(const I of i)I in y&&(this[I]=y[I]);else if(h>0)for(const I of l)I in y&&(this[I]=y[I])}else y!==void 0&&at(t,"object",y)};return Object.defineProperty(b.prototype,"$",{get:Tt,set:m,configurable:!0}),et(t),a&&(xt(t),o&&Ie(t)),Oe(t),je(t),b}function Tt(){return this}function xt(t){const{constructor:{prototype:e},instance:{members:n}}=t,r=n.filter(c=>c.type===A.Object),o={};for(const{slot:c,bitOffset:f,byteSize:l,structure:a}of r)o[c]=function(){let s=this[v][c];if(!s){const{constructor:i}=a,u=this[g],y=u.byteOffset+(f>>3),h=new DataView(u.buffer,y,l);s=this[v][c]=i.call(It,h)}return s};Object.defineProperty(e,U,{value:o})}function Ie(t){const{constructor:{prototype:e},instance:{members:n}}=t,r=n.filter(c=>c.structure.hasPointer);Object.defineProperty(e,B,{value:function(f,l,a){var b;for(const{slot:s}of r){let i;if(l&&(i=(b=l[v])==null?void 0:b[s],!i))continue;const u=f?this[U][s].call(this):this[v][s];u&&u[B](f,i,a)}}})}function hr(t){const{byteSize:e,instance:{members:n},options:r,hasPointer:o}=t,c=!!n.find(u=>u.type===A.Object),f=t.constructor=function(u){const m=this instanceof f;let y,h;if(m?(arguments.length===0&&tt(t),y=this,h=new DataView(new ArrayBuffer(e))):(y=Object.create(f.prototype),h=ot(t,u)),y[g]=h,c&&(y[v]={}),m)a.call(this,u);else return y},l=L(e),a=function(u){u instanceof f?(l(this[g],u[g]),o&&i.call(this)&&this[B](!0,u,Q)):this.$=u},{get:b,set:s,check:i}=pr(n,e,r);return Object.defineProperty(f.prototype,"$",{get:b,set:s,configurable:!0}),c&&(xt(t),o&&Ie(t)),et(t),f}function pr(t,e,n){const{get:r,set:o}=C(t[0],n),{get:c,set:f}=C(t[1],n),{structure:l}=t[1],{constructor:a}=l,b=cn(e);return{get:function(){var i;const s=c.call(this);if(s!==0){const u=a(s);throw u||In(l,s),(i=this[B])==null||i.call(this,!1,null,Wt),u}else return r.call(this)},set:function(s){var i;s instanceof Error?(s instanceof a||jn(l),b(this[g]),f.call(this,s.index),(i=this[B])==null||i.call(this,!1,null,Wt)):(o.call(this,s),f.call(this,0))},check:function(){return c.call(this)===0}}}let ve;function mr(t){const{name:e,instance:{members:n}}=t,r=ve,o=t.constructor=function(a){this instanceof o&&On(t);const s=Number(a);return r[s]};Object.setPrototypeOf(o.prototype,Error.prototype);const c=function(){return this[ut]},f=function(){return"Error"};Object.defineProperties(o.prototype,{index:{get:c,configurable:!0},[Symbol.toStringTag]:{get:f,configurable:!0}});let l;for(const[a,{name:b,slot:s}]of n.entries()){let i=r[s];if(i){if(!(i instanceof o)){l||(l=n.map(y=>y.slot));const u=i.constructor,m=Object.values(u);if(m.every(y=>l.includes(y[ut])))Object.setPrototypeOf(u.prototype,o.prototype);else{Object.setPrototypeOf(o.prototype,u.prototype);for(const y of m)l.includes(y[ut])&&Object.setPrototypeOf(y,o.prototype)}}}else{i=Object.create(o.prototype);const u=Et(b);Object.defineProperties(i,{message:{value:u,configurable:!0,enumerable:!0,writable:!1},[ut]:{value:s}}),r[s]=i}Object.defineProperties(o,{[b]:{value:i,configurable:!0,enumerable:!0,writable:!0}})}return o}function dr(){ve={}}function wr(t){const{instance:{members:e,template:n},options:r}=t,o=ye(e[0]),{get:c}=C(e[0],r),f=e.length,l={},a=t.constructor=function(i){if(this instanceof a&&Sn(t),typeof i=="number"||typeof i=="bigint"){let m=-1;if(s)m=Number(i);else{const y=o(i);for(let h=0;h<f;h++)if(c.call(a,h)===y){m=h;break}}return l[m]}else{if(i&&typeof i=="object"&&i[_t])return i[_t];if(typeof i=="string")return a[i];at(t,["number","string","tagged union"],i)}};Object.defineProperties(a,{[g]:{value:n[g]},[He]:{value:l}});const b=function(){const i=this[Ut];return c.call(a,i)};Object.defineProperties(a.prototype,{[Symbol.toPrimitive]:{value:b,configurable:!0,writable:!0},$:{get:b,configurable:!0}});const s=(()=>{try{for(let i=0;i<f;i++)if(c.call(a,i)!==i)return!1;return!0}catch{return!1}})();for(const[i,{name:u}]of e.entries()){const m=Object.create(a.prototype);Object.defineProperties(m,{[Ut]:{value:i},[We]:{value:u}}),Object.defineProperties(a,{[u]:{value:m,configurable:!0,enumerable:!0,writable:!0}}),l[i]=m}return et(t),Oe(t),je(t),a}function gr(t){const{instance:{members:[e]},hasPointer:n,options:r}=t,o=ht(t),c=e.type===A.Object,{byteSize:f,structure:l}=e,a=Or(t,r);a&&(t.sentinel=a);const b=t.constructor=function(p){const I=this instanceof b;let V;if(I)arguments.length===0&&tt(t),V=this,y.call(V,p);else{V=Object.create(b.prototype);const T=ot(t,p);u.call(V,T,T.byteLength/f,this)}return Se.call(V)},s=L(f,!0),i=mt(t),u=function(p,I,V=null){p||(p=new DataView(new ArrayBuffer(I*f))),this[g]=p,this[Y]=null,this[Z]=null,this[jt]=I,c&&(this[v]={})},m=function(p,I){I!==this[jt]&&yt(t,this,p)},y=function(p){let I=!this.hasOwnProperty(g);if(p instanceof b)I?u.call(this,null,p.length):m.call(this,p,p.length),k.call(this),k.call(p),s(this[g],p[g]),n&&this[B](!0,p,Q);else if(typeof p=="string"&&i.includes("string")&&(p={string:p}),p!=null&&p[Symbol.iterator]){let V=p.length;typeof V!="number"&&(p=[...p],V=p.length),this[g]?m.call(this,p,V):u.call(this,null,V);let T=0;for(const x of p)a==null||a.validateValue(x,T,V),O.call(this,T++,x)}else if(typeof p=="number")I&&p>=0&&isFinite(p)?u.call(this,null,p):nt(t,p,I);else if(p&&typeof p=="object"){for(const T of Object.keys(p))T in this||At(t,T);let V=0;for(const T of i)T in p&&V++;V===0&&nt(t,p);for(const T of i)if(T in p)if(I){let x,M=!0;switch(T){case"dataView":x=p[T],ue(x);break;case"typedArray":x=ae(p[T],o);break;case"string":x=le(p[T],f,a==null?void 0:a.value),M=!1;break;case"base64":x=fe(p[T]),M=!1;break}ne(t,x);const it=x.byteLength/f;a==null||a.validateData(x,it),M?(u.call(this,null,it),s(this[g],x)):u.call(this,x,it),I=!1}else this[T]=p[T]}else p!==void 0&&nt(t,p)},{get:h,set:O}=C(e,r);return Object.defineProperties(b.prototype,{get:{value:h,configurable:!0,writable:!0},set:{value:O,configurable:!0,writable:!0},length:{get:Sr,configurable:!0},$:{get:Tt,set:y,configurable:!0},[Symbol.iterator]:{value:we,configurable:!0,writable:!0},entries:{value:ge,configurable:!0,writable:!0}}),Object.defineProperties(b,{child:{get:()=>l.constructor},[ct]:{value:pt(t)}}),c&&(me(t),n&&de(t)),et(t),b}function Sr(){return this[jt]}function Or(t,e){const{runtimeSafety:n=!0}=e,{instance:{members:[r,o],template:c}}=t;if(!o)return;const{get:f}=C(o,e),l=f.call(c,0),{get:a}=C(r,e);return{value:l,validateValue:n?function(i,u,m){i===l&&u!==m-1?Ft(t,i,u,m):i!==l&&u===m-1&&ft(t,l,u)}:function(i,u,m){i!==l&&u===m-1&&ft(t,l,m)},validateData:n?function(i,u){const m={[g]:i};for(let y=0;y<u;y++){const h=a.call(m,y);h===l&&y!==u-1?Ft(t,l,y,u):h!==l&&y===u-1&&ft(t,l,u)}}:function(i,u){const m={[g]:i};if(u>0){const y=u-1;a.call(m,y)!==l&&ft(t,l,u)}}}}function jr(t){const{length:e,byteSize:n,instance:{members:[r]},options:o}=t;ht(t);const c=t.constructor=function(s){const i=this instanceof c;let u,m;if(i?(arguments.length===0&&tt(t),u=this,m=new DataView(new ArrayBuffer(n))):(u=Object.create(c.prototype),m=ot(t,s)),u[g]=m,i)b.call(u,s);else return u},{bitSize:f,structure:l}=r,a=L(n),b=function(s){if(s instanceof c)k.call(this),k.call(s),a(this[g],s[g]);else if(s!=null&&s[Symbol.iterator]){let i=s.length;typeof i!="number"&&(s=[...s],i=s.length),i!==e&&yt(t,this,s);let u=0;for(const m of s)this[u++]=m}else s!==void 0&&nt(t,s)};for(let s=0,i=0;s<e;s++,i+=f){const{get:u,set:m}=C({...r,bitOffset:i},o);Object.defineProperty(c.prototype,s,{get:u,set:m,configurable:!0})}return Object.defineProperties(c.prototype,{length:{value:e,configurable:!0},$:{get:Tt,set:b,configurable:!0},[Symbol.iterator]:{value:Ir,configurable:!0,writable:!0},entries:{value:Ar,configurable:!0,writable:!0}}),Object.defineProperties(c,{child:{get:()=>l.constructor},[ct]:{value:pt(t)}}),et(t),c}function Ir(){const t=this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=t[n],o=!1,n++):o=!0,{value:r,done:o}}}}function vr(){const t=this,e=this.length;let n=0;return{next(){let r,o;return n<e?(r=[n,t[n]],o=!1,n++):o=!0,{value:r,done:o}}}}function Ar(){return{[Symbol.iterator]:vr.bind(this),length:this.length}}function Er(t){const{byteSize:e,instance:{members:n},options:r}=t,o=!!n.find(b=>b.type===A.Object),c=t.constructor=function(b){const s=new DataView(new ArrayBuffer(e));this[g]=s,o&&(this[v]={}),a.call(this,b)},f=n.slice(0,-1).map(b=>b.name),l=f.length,a=function(b){b.length!==l&&An(t,b.length);for(const[s,i]of f.entries())try{this[i]=b[s]}catch(u){En(t,s,u)}};for(const b of n){const s=C(b,r);Object.defineProperty(c.prototype,b.name,s)}return o&&xt(t),c}const $={Primitive:0,Array:1,Struct:2,ArgStruct:3,ExternUnion:4,BareUnion:5,TaggedUnion:6,ErrorUnion:7,ErrorSet:8,Enumeration:9,Optional:10,Pointer:11,Slice:12,Vector:13,Opaque:14,Function:15},_=Array(Object.values($).length);function Br(){_[$.Primitive]=er}function Cr(){_[$.Array]=lr}function Lr(){_[$.Struct]=br}function Nr(){_[$.ErrorUnion]=hr}function Ur(){_[$.ErrorSet]=mr}function _r(){_[$.Enumeration]=wr}function Fr(){_[$.Pointer]=rr}function Rr(){_[$.Slice]=gr}function Kr(){_[$.Vector]=jr}function qr(){_[$.ArgStruct]=Er}function z(t){let e=t.name;return e=e.replace(/{.*}/,""),e=e.replace(/[^. ]*?\./g,""),e}function Pr(t){try{const e=_[t.type],n=e(t);return typeof n=="function"&&(Object.defineProperties(n,{name:{value:z(t),writable:!1}}),n.prototype.hasOwnProperty(Symbol.toStringTag)||Object.defineProperties(n.prototype,{[Symbol.toStringTag]:{value:t.name,configurable:!0,writable:!1}})),n}catch(e){throw console.error(e),e}}const Yt={Auto:0,Copy:1,Link:2};async function Gr(t,e={}){const{resolve:n,reject:r,promise:o,...c}=e;try{const f=await t,l=await $r(f,c);n(l)}catch(f){r(f)}return o}async function $r(t,e={}){const{omitFunctions:n=!1,slots:r={},variables:o,methodRunner:c,writeBack:f=!0}=e;let l=0,a=null,b=null,s=0,i=null,u=null;const m=new TextDecoder,y={};let h=0;const O=r,p=()=>{},V={env:{_startCall:$e,_endCall:Ve,_allocMemory:Te,_freeMemory:xe,_getMemory:ze,_getMemoryOffset:ke,_getMemoryLength:Me,_wrapMemory:Be,_createString:Ce,_getPointerStatus:Le,_setPointerStatus:Ne,_readGlobalSlot:Ue,_readObjectSlot:_e,_writeObjectSlot:Fe,_createDataView:qe,_writeToConsole:Ge,_writeGlobalSlot:p,_setObjectPropertyString:p,_setObjectPropertyInteger:p,_setObjectPropertyBoolean:p,_setObjectPropertyObject:p,_beginStructure:p,_attachMember:p,_attachMethod:p,_attachTemplate:p,_finalizeStructure:p,_createObject:p,_createTemplate:p}},T=t[Symbol.toStringTag]==="Response"?WebAssembly.instantiateStreaming(t,V):WebAssembly.instantiate(t,V);let{instance:x}=await T,{memory:M,define:it,run:Dt,alloc:dt,free:wt,safe:Ae}=x.exports,F="",gt=0;zt();{for(const[j,P]of Object.entries(o))Bt(P,Number(j));c[0]=function(j,P){const E=X(P),D=Dt(E,j);D!==0&&Pe(D)};const d=new WeakRef(x);return{abandon:()=>{x=M=it=dt=wt=Ae=null,Dt=function(){throw new Error("WebAssembly instance was abandoned")};for(const j of Object.values(o))Ct(j)},released:()=>!d.deref()}}function zt(){l!==1&&(l=1,a={0:null},b=new WeakMap),s!==1&&(s=1,i={0:null},u={})}function kt(d,w){const S=new Uint8Array(M.buffer,d,w);return m.decode(S)}function Ee(d,w){const S=kt(d,w);let j=u[S];return j===void 0&&(j=u[S]=s++,i[j]=S),j}function X(d){const w=l++;return a[w]=d,b.set(d,w),w}function Mt(d){const w=b.get(d);return w!==void 0?w:X(d)}function Bt(d,w){const S=d[g],j=S.byteLength;if(j===0)return;const P=new DataView(M.buffer,w,j);if(f&&L(S.byteLength)(P,S),P[g]={memory:M,address:w,len:j},d[g]=P,d.hasOwnProperty(G)){const E=d[v][0],D=P.getUint32(0,!0);Bt(E,D)}}function Ct(d){const w=d[g],S=w.byteLength;if(S===0||!w[g])return;const j=new DataView(new ArrayBuffer(S));if(L(w.byteLength)(j,w),d[g]=j,d.hasOwnProperty(G)){const E=d[v][0];Ct(E)}}function Pe(d){const w=i[d],S=Et(w);throw new Error(S)}function $e(d){y[d]={bufferMap:new Map},h++}function Ve(d){const w=y[d];for(const[S,{address:j,len:P,ptrAlign:E,copy:D,shadow:R}]of w.bufferMap){if(D){const K=new DataView(M.buffer,j,P);D(S,K)}R&&wt(d,j,P,E)}delete y[d],h--,h===0&&(zt(),F&&(console.log(F),F="",clearTimeout(gt)))}function Te(d,w,S){if(w===0)return null;const j=dt(d,w,S),{bufferMap:P}=y[d],E=new ArrayBuffer(w),D=new DataView(E),R=L(w);return new DataView(M.buffer,j,w),P.set(D,{address:j,len:w,ptrAlign:S,copy:R,shadow:!0}),j}function xe(d,w,S,j){const{bufferMap:P}=y[d];for(const[E,{address:D}]of P)w===D&&(P.delete(E),wt(d,w,S,j))}function De({address:d},w){const S=(1<<w)-1;return(d&S)!==0}function ze(d,w,S,j){let E=a[w][g];if(!E)return 0;const D=E[g];if(D)return X(D);{const R=y[d];let K=R.bufferMap.get(E);if(!K){const q=E.byteLength;if(q===0)return X({address:0,len:0});for(const[N,St]of R.bufferMap)if(E.buffer===N.buffer){if(N.byteOffset<=E.byteOffset&&E.byteOffset+q<=N.byteOffset+N.byteLength){K={address:St.address+(E.byteOffset-N.byteOffset),len:q,copy:null,ptrAlign:S,shadow:!1};break}else if(!(N.byteOffset>=E.byteOffset+q||E.byteOffset>=N.byteOffset+N.byteLength))return 0}if(K){if(De(K,S))return 0}else{const N=dt(d,q,S),St=new DataView(M.buffer,N,q),Lt=E.byteLength===q?E:new DataView(E.buffer),Nt=L(q);Nt(St,Lt),K={address:N,len:q,copy:j?null:Nt,ptrAlign:S,shadow:!0}}R.bufferMap.set(E,K)}return X(K)}}function ke(d){return a[d].address}function Me(d){return a[d].len}function Be(d,w){const S=a[d];let j=a[w],P;{const{constructor:E}=S;P=E.call(G,j)}return X(P)}function Ce(d,w){return Ee(d,w)}function Le(d){const S=a[d][G];return typeof S!="boolean"?-1:S?1:0}function Ne(d,w){const S=a[d];S[G]=!!w}function Ue(d){const w=O[d];return w?Mt(w):0}function _e(d,w){const j=a[d][v][w];return j?Mt(j):0}function Fe(d,w,S){const j=a[d];j[v][w]=a[S]}function Re(d,w,S){const j=new ArrayBuffer(S),P=new DataView(j);if(S>0){const E=L(S),D=new DataView(M.buffer,w,S);E(P,D)}return d.bufferMap.set(P,{address:w,len:S,copy:null,ptrAlign:0,shadow:!1}),P}function Ke(d,w,S,j){if(j===Yt.Copy)return Re(d,w,S);if(j===Yt.Auto){for(const[P,{address:E,len:D}]of d.bufferMap)if(E<=w&&w+S<=E+D){if(S===D)return P;{const R=w-E;return new DataView(P.buffer,R,S)}}}{const P=new DataView(M.buffer,w,S);return P[g]={memory:M,address:w,len:S},P}}function qe(d,w,S,j){const P=y[d];return X(Ke(P,w,S,j))}function Ge(d,w){const S=kt(d,w),j=S.lastIndexOf(`
`);j===-1?F+=S:(console.log(F+S.substring(0,j)),F=S.substring(j+1)),clearTimeout(gt),F&&(gt=setTimeout(()=>{console.log(F),F=""},250))}}function Wr(t){const e={},n={};dr();for(const i of t){for(const u of[i.static,i.instance])u.template&&(u.template=r(u.template));for(const u of i.static.methods)u.thunk=s(u.thunk);Pr(i),e[i.slot]=i}function r(i){const u={};if(i.memory){const{array:m,offset:y,length:h}=i.memory;u[g]=new DataView(m.buffer,y,h)}return i.slots&&(u[v]=o({},i.slots)),u}function o(i,u){for(const[m,y]of Object.entries(u))i[m]=c(y);return i}function c(i){let u;if(i.memory){const{array:h,offset:O,length:p}=i.memory;u=new DataView(h.buffer,O,p)}else{const{byteSize:h}=i.structure;u=new DataView(new ArrayBuffer(h))}const{constructor:m}=i.structure,y=m.call(G,u);return i.slots&&o(y[v],i.slots),i.address!==void 0&&(n[i.address]=y),y}let f,l;const a=new Promise((i,u)=>{f=i,l=u}),b={0:function(i,u){return a.then(()=>b[0].call(this,i,u))}};function s(i){return function(u){return b[0](i,u)}}return{promise:a,resolve:f,reject:l,slots:e,variables:n,methodRunner:b}}export{Cr as a,Fr as b,Lr as c,Kr as d,Rr as e,_r as f,Ur as g,Nr as h,qr as i,xr as j,kr as k,Tr as l,Dr as m,Mr as n,Vr as o,zr as p,Wr as q,Gr as r,Br as u};
